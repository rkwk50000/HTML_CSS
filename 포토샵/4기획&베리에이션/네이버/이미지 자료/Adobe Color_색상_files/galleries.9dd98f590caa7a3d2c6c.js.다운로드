(this.webpackJsonp=this.webpackJsonp||[]).push([[7],{1e3:function(e){e.exports=JSON.parse('{"Clear search":"Rensa sökning"}')},1001:function(e){e.exports=JSON.parse('{"Clear search":"Aramayı temizle"}')},1002:function(e){e.exports=JSON.parse('{"Clear search":"Очистити пошук"}')},1003:function(e){e.exports=JSON.parse('{"Clear search":"清除搜索"}')},1004:function(e){e.exports=JSON.parse('{"Clear search":"清除搜尋條件"}')},1005:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=i(r(27)),o=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return o.default.createElement(a.default,n({},e,{icon:{18:r(1006),24:r(1007)}}))};c.displayName="Camera",t.default=c},1006:function(e,t,r){"use strict";var n=r(0);e.exports=n.createElement("svg",{viewBox:"0 0 36 36"},n.createElement("circle",{cx:"18",cy:"18",r:"6"}),n.createElement("path",{d:"M33 8h-6.05L23.6 4.326A1 1 0 0 0 22.859 4h-9.718a1 1 0 0 0-.739.326L9.05 8H3a1 1 0 0 0-1 1v20a1 1 0 0 0 1 1h30a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1zM18 26.2a8.2 8.2 0 1 1 8.2-8.2 8.2 8.2 0 0 1-8.2 8.2z"}))},1007:function(e,t,r){"use strict";var n=r(0);e.exports=n.createElement("svg",{viewBox:"0 0 48 48"},n.createElement("circle",{cx:"24",cy:"25",r:"7"}),n.createElement("path",{d:"M44 12h-6.75a2 2 0 0 1-1.664-.891l-4.992-4.218A2 2 0 0 0 28.93 6h-9.86a2 2 0 0 0-1.664.891l-4.867 4.219a2 2 0 0 1-1.664.89H4a2 2 0 0 0-2 2v26a2 2 0 0 0 2 2h40a2 2 0 0 0 2-2V14a2 2 0 0 0-2-2zM24 36.3A11.3 11.3 0 1 1 35.3 25 11.3 11.3 0 0 1 24 36.3z"}))},1008:function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:function(e,t,r){var n=p;return function(a,o){if(n===b)throw new Error("Generator is already running");if(n===m){if("throw"===a)throw o;return R()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=b;var s=f(e,t,r);if("normal"===s.type){if(n=r.done?m:h,s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=m,r.method="throw",r.arg=s.arg)}}}(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",b="executing",m="completed",d={};function y(){}function g(){}function v(){}var O={};u(O,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(I([])));E&&E!==r&&n.call(E,i)&&(O=E);var j=v.prototype=y.prototype=Object.create(O);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){var r;a(this,"_invoke",{value:function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}})}function k(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=f(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:R}}function R(){return{value:t,done:!0}}return g.prototype=v,a(j,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:g,configurable:!0}),g.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},S(P.prototype),u(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new P(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(j),u(j,s,"Generator"),u(j,i,(function(){return this})),u(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return c.type="throw",c.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;N(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},1011:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(29),i=r(58),c=r(1),s=r(7),u=r(37),l=r.n(u),f=r(47),p=r.n(f),h=r(981),b=r.n(h),m=r(104),d=r(1013),y=r(36),g=r.n(y),v=r(1005),O=r.n(v);r(1008);var w=e=>(e.replace(/^data:image\/\w+;base64,/,"").length-814)/1.37,E=e=>e.replace(/^data:image\/\w+;base64,/,""),j=e=>`data:${e};base64,`,S=(e,t="image/jpeg")=>{const r=window.atob(e),n=[];for(let e=0;e<r.length;e++)n[e]=r.charCodeAt(e);return new window.Blob([new Uint8Array(n)],{type:t})},P=(e,t,r)=>{const n=document.createElement("canvas"),a=n.getContext("2d");return n.width=e,n.height=t,o=>{if(!r||r>8)return a.drawImage(o,0,0,n.width,n.height),n;switch(r>4&&(n.width=t,n.height=e),r){case 2:a.translate(e,0),a.scale(-1,1);break;case 3:a.translate(e,t),a.rotate(Math.PI);break;case 4:a.translate(0,t),a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI),a.translate(0,-t);break;case 7:a.rotate(.5*Math.PI),a.translate(e,-t),a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI),a.translate(-e,0)}return r>4?a.drawImage(o,0,0,n.height,n.width):a.drawImage(o,0,0,n.width,n.height),n}},k=(e,t=.75)=>e.toDataURL("image/jpeg",t),C=e=>({KB:e/1e3,MB:e/1e6}),N=e=>new Promise((t,r)=>{const n=new window.FileReader;n.addEventListener("load",e=>t(e.target.result),!1),n.addEventListener("error",r,!1),n.readAsDataURL(e)}),T=e=>new Promise((t,r)=>{const n=new window.Image;n.addEventListener("load",()=>t(n),!1),n.addEventListener("error",r,!1),n.src=e}),I=(e,t)=>(r,n)=>{if(!e&&!t)return{width:r,height:n};const a=r/n;let o,i;return a>e/t?i=(o=Math.min(r,e))/a:o=(i=Math.min(n,t))*a,{width:o,height:i}},R=e=>new Promise(t=>{const r=new window.FileReader;r.onload=function(e){var r=new DataView(e.target.result);65496!==r.getUint16(0,!1)&&t(-2);const n=r.byteLength;let a=2;for(;a<n;){const e=r.getUint16(a,!1);if(a+=2,65505===e){1165519206!==r.getUint32(a+=2,!1)&&t(-1);const e=18761===r.getUint16(a+=6,!1);a+=r.getUint32(a+4,e);const n=r.getUint16(a,e);a+=2;for(let o=0;o<n;o++)274===r.getUint16(a+12*o,e)&&t(r.getUint16(a+12*o+8,e))}else{if(65280!=(65280&e))break;a+=r.getUint16(a,!1)}}t(-1)},r.readAsArrayBuffer(e.slice(0,65536))});class x{attach(e,t){return new Promise(r=>{const n=document.querySelector(e);n.setAttribute("accept","image/*"),n.addEventListener("change",e=>{const n=this.compress([...e.target.files],t);r(n)},!1)})}compress(e,t){return Promise.all(e.map(e=>async function(e,t){const r=new class{constructor({quality:e=.75,size:t=2,maxWidth:r=1920,maxHeight:n=1920,resize:a=!0,rotate:o=!1}){this.start=window.performance.now(),this.end=null,this.alt=null,this.ext=null,this.startSize=null,this.startWidth=null,this.startHeight=null,this.size=1e3*t*1e3,this.endSize=null,this.endWidth=null,this.endHeight=null,this.iterations=0,this.base64prefix=null,this.quality=e,this.resize=a,this.maxWidth=r,this.maxHeight=n,this.orientation=1,this.rotate=o}}(t);return r.start=window.performance.now(),r.alt=e.name,r.ext=e.type,r.startSize=e.size,r.orientation=r.rotate?await R(e):0,function(e){return async t=>{const r=await T(t);if(e.startWidth=r.naturalWidth,e.startHeight=r.naturalHeight,e.resize){const{width:t,height:n}=I(e.maxWidth,e.maxHeight)(r.naturalWidth,r.naturalHeight);e.endWidth=t,e.endHeight=n}else e.endWidth=r.naturalWidth,e.endHeight=r.naturalHeight;const n=P(e.endWidth,e.endHeight,e.orientation)(r);e.iterations=1,e.base64prefix=j(e.ext);const a=await function e(t,r,n=1,a,o=1,i=1){const c=k(t,n),s=w(c);return s>a||n>o?e(t,s,n-.1,a,o,i+1):c}(n,e.startSize,e.quality,e.size,e.minQuality,e.iterations);e.finalSize=w(a),e.end=window.performance.now();const o=e.end-e.start;return{data:E(a),prefix:e.base64prefix,elapsedTimeInSeconds:o/1e3,alt:e.alt,initialSizeInMb:C(e.startSize).MB,endSizeInMb:C(e.finalSize).MB,ext:e.ext,quality:e.quality,endWidthInPx:e.endWidth,endHeightInPx:e.endHeight,initialWidthInPx:e.startWidth,initialHeightInPx:e.startHeight,sizeReducedInPercent:(e.startSize-e.finalSize)/e.startSize*100,iterations:e.iterations}}}(r)(await N(e))}(e,t)))}static convertBase64ToFile(e,t){return S(e,t)}}var A=r(22),_=r(3),D=r(778),L=r.n(D);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G(n.key),n)}}function G(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===M(t)?t:String(t)}function F(e,t){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var z=new x,V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=H(e);if(t){var a=H(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return W(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).state={fileName:e.search.fileData?e.search.fileData.name:"",value:e.searchBarInputValue,searchType:e.searchBarSearchType,options:[]},n.checkIfFileSizeGreaterThanOneMb=n.checkIfFileSizeGreaterThanOneMb.bind(W(n)),n.onChange=n.onChange.bind(W(n)),n.onSubmit=n.onSubmit.bind(W(n)),n.onClick=n.onClick.bind(W(n)),n.onFileInputFieldChange=n.onFileInputFieldChange.bind(W(n)),n.onDragOver=n.onDragOver.bind(W(n)),n.onDrop=n.onDrop.bind(W(n)),n.onImageTagClose=n.onImageTagClose.bind(W(n)),n.submitFile=n.submitFile.bind(W(n)),n.submitFileLessThanOneMB=n.submitFileLessThanOneMB.bind(W(n)),n.onSelectListOptionChange=n.onSelectListOptionChange.bind(W(n)),n.extractValueOfSearchField=n.extractValueOfSearchField.bind(W(n)),n.onListOptionChange=n.onListOptionChange.bind(W(n)),n.searchValueForHex=n.searchValueForHex.bind(W(n)),n}return function(e,t,r){t&&U(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentWillReceiveProps",value:function(e){e.searchBarInputValue!==this.props.searchBarInputValue&&this.setState({value:e.searchBarInputValue}),e.searchBarSearchType!==this.props.searchBarSearchType&&this.setState({searchType:e.searchBarSearchType})}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.locale!==e.locale||this.props.isImageSearch!==e.isImageSearch||this.state.fileName!==t.fileName||this.state.value!==t.value}},{key:"checkIfFileSizeGreaterThanOneMb",value:function(e){return!!(e&&e.size>c.mc)}},{key:"searchValueForHex",value:function(e){if(1===e.length)return e.repeat(6);if(2===e.length)return e.repeat(3);if(3===e.length){var t,r="",n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}(e);try{for(n.s();!(t=n.n()).done;)r+=t.value.repeat(2)}catch(e){n.e(e)}finally{n.f()}return r}return e}},{key:"onChange",value:function(e){var t=this.extractValueOfSearchField(e);this.state.searchType.length>0&&e.startsWith(this.state.searchType)?e.length<=this.state.searchType.length+3?this.setState({options:[],value:"",searchType:""}):this.setState({options:[{label:"".concat(this.props.intl.formatMessage({id:"app.explore.searchbar.term"}),": ").concat(t),value:"term"},{label:"".concat(this.props.intl.formatMessage({id:"app.explore.searchbar.tag"}),": ").concat(t),value:"tag"},{label:"".concat(this.props.intl.formatMessage({id:"app.explore.searchbar.hex"}),": ").concat(this.searchValueForHex(t)),value:"hex"}],value:e}):this.setState({options:e.length>0?[{label:"".concat(this.props.intl.formatMessage({id:"app.explore.searchbar.term"}),": ").concat(t),value:"term"},{label:"".concat(this.props.intl.formatMessage({id:"app.explore.searchbar.tag"}),": ").concat(t),value:"tag"},{label:"".concat(this.props.intl.formatMessage({id:"app.explore.searchbar.hex"}),": ").concat(this.searchValueForHex(t)),value:"hex"}]:[],value:e})}},{key:"onClick",value:function(){this.fileInputRef.click()}},{key:"extractValueOfSearchField",value:function(e){return this.state.searchType.length>0&&e.startsWith(this.state.searchType)?e.slice(this.state.searchType.length+3):e}},{key:"onFileInputFieldChange",value:function(e){var t=e.target.files[0];if(t&&"image/png"===t.type||"image/jpeg"===t.type){var r={workflow:Object(_.e)(this.props.ingestWorkflow[0]),subcategory:c.Gb.INPUT_FIELD},n={name:t.name,type:t.type,extension:t.name.split(".").pop(),mimetype:t.type,category:c.Gb.IMAGE};Object(A.a)(c.Eb.SEARCH_IMAGE_BROWSE,{event:r,content:n},this.props.ingestWorkflow),this.searchRef.handleTextChange(""),this.submitFile(t)}this.fileInputRef.value=""}},{key:"onSubmit",value:function(e){if(this.setState({options:[]}),this.forceUpdate(),!Object(_.t)(e)){var t=this.props.history.location,r={workflow:Object(_.e)(this.props.ingestWorkflow[0]),subcategory:c.Gb.INPUT_FIELD,value:e};0===e.length?this.props.history.push("".concat(t.pathname)):Object(_.t)(this.state.searchType)||0===this.state.searchType.length?this.props.history.push("/".concat(this.props.locale,"/search?q=").concat(encodeURIComponent(this.extractValueOfSearchField(e)))):this.props.history.push("/".concat(this.props.locale,"/search?q=").concat(encodeURIComponent("hex"===this.state.searchType||"similarHex"===this.state.searchType?this.searchValueForHex(this.extractValueOfSearchField(e)):this.extractValueOfSearchField(e)),"&t=").concat(this.state.searchType)),Object(A.a)(c.Eb.SEARCH_KEYWORD,{event:r},this.props.ingestWorkflow)}}},{key:"onSelectListOptionChange",value:function(e){var t=this;this.setState({searchType:e,options:[],value:"".concat(e," : ").concat(this.extractValueOfSearchField(this.state.value))},(function(){t.forceUpdate(),t.onSubmit(t.state.value)}))}},{key:"onListOptionChange",value:function(e,t){var r=this;console.log("onListOptionChange",e,t),this.setState({searchType:t,options:[],value:"".concat(t," : ").concat(this.extractValueOfSearchField(this.state.value))},(function(){r.forceUpdate(),r.onSubmit(r.state.value)}))}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDrop",value:function(e){e.preventDefault();var t=e.dataTransfer.files;if(t&&t.length&&"image/png"===t[0].type||"image/jpeg"===t[0].type){var r={workflow:Object(_.e)(this.props.ingestWorkflow[0]),subcategory:c.Gb.INPUT_FIELD},n={name:t[0].name,type:t[0].type,extension:t[0].name.split(".").pop(),mimetype:t[0].type,category:c.Gb.IMAGE};Object(A.a)(c.Eb.SEARCH_IMAGE_DRAG_AND_DROP,{event:r,content:n},this.props.ingestWorkflow),this.searchRef.handleTextChange(""),this.submitFile(t[0])}}},{key:"submitFile",value:function(e){var t=this;this.checkIfFileSizeGreaterThanOneMb(e)?z.compress([e],{size:1}).then((function(e){var r=e[0],n=r.data,a=r.ext,o=x.convertBase64ToFile(n,a);t.submitFileLessThanOneMB(o)})):this.submitFileLessThanOneMB(e)}},{key:"submitFileLessThanOneMB",value:function(e){var t=this;this.setState({fileName:e.name},(function(){t.props.uploadFile(e),t.props.changeSourceFilter([c.Pc]),t.props.changeCriteria([{main:"similaritySearch",pageNumber:1}]),t.props.fetchPage(),t.props.history.push("/".concat(t.props.locale,"/search?type=image"))}))}},{key:"onImageTagClose",value:function(){this.props.history.push("".concat(location.pathname))}},{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage({id:c.Mb?"app.header.search":"app.search.searchbar.placeholder"});return t=this.props.isImageSearch?"":t,a.a.createElement("div",{className:L.a.searchBarContainer,onDrop:this.onDrop,onDragOver:this.onDragOver},a.a.createElement("input",{className:L.a.fileInputField,type:"file",accept:"image/png, image/jpeg",onChange:this.onFileInputFieldChange,ref:function(t){e.fileInputRef=t}}),a.a.createElement("div",{className:L.a.searchBar},this.props.isImageSearch&&a.a.createElement(d.Tag,{className:L.a.imageSearchTag,value:"searchImage",icon:a.a.createElement(O.a,null),closable:!0,onClose:this.onImageTagClose},this.state.fileName),a.a.createElement(b.a,{className:L.a.bar,disabled:this.props.isImageSearch,placeholder:t,onChange:this.onChange,onSubmit:this.onSubmit,value:this.state.value,ref:function(t){e.searchRef=t}})),a.a.createElement("div",{className:L.a.searchOptionsDiv},this.state.options.length>=0&&a.a.createElement(m.List,{className:L.a.searchOptionsList},this.state.options.map((function(t){return a.a.createElement(m.ListItem,{value:t.value,onSelect:e.onSelectListOptionChange,className:L.a.searchOptionsList},t.label)})))),a.a.createElement(l.a,{className:L.a.tooltip,placement:"bottom",trigger:["hover"]},a.a.createElement(g.a,{className:L.a.fileInputIcon,icon:a.a.createElement(O.a,{size:"S"}),onClick:this.onClick,variant:"primary",quiet:!0}),a.a.createElement(p.a,null,a.a.createElement(s.a,{id:"app.tooltip.search.searchfromimage"}))))}}]),r}();V.defaultProps={searchBarSearchType:""};var J=Object(s.e)(V),q=r(943),X=r(968),K=r(779),Y=r.n(K);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$(n.key),n)}}function $(e){var t=function(e,t){if("object"!==Q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Q(t)?t:String(t)}function ee(e,t){return(ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}(r,n.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=te(e);if(t){var a=te(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.apply(this,arguments)}return function(e,t,r){t&&Z(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){return a.a.createElement("div",{className:Y.a.searchAndLibrarySelectorContainer},a.a.createElement("div",{className:Y.a.searchBarContainer},a.a.createElement(J,this.props)),a.a.createElement(q.a,{ingestWorkflow:this.props.ingestWorkflow,hideLabel:c.Mb,className:Y.a.librarySelector}))}}]),r}(),ne=Object(o.b)((function(e){var t=e.search;return{locale:e.user.locale,search:t}}),(function(e){return Object(i.b)({changeCriteria:X.a,changeDefaultCriteria:X.b,changeSourceFilter:X.c,fetchPage:X.f,initPage:X.g,saveThemeToLibrary:X.h,uploadFile:X.j,updateThemeLike:X.i},e)}))(re);t.a=ne},1012:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(980),i=r.n(o),c=r(773),s=r.n(c),u=["children"];function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(r,a.a.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,r)}}(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),d(b(e=t.call(this)),"positionItems",(function(){e.gridInstance&&e.gridInstance.items.length&&(e.gridInstance.positionItems(),e.onGridLayoutReposition())})),d(b(e),"onGridLayoutReposition",(function(){if("function"==typeof e.props.onRePositionCallback&&!e.repositionExecuted){var t=e.gridInstance.items[0].style.transform.match(/\d+/);e.repositionExecuted=!0,e.props.onRePositionCallback(+t[0])}})),d(b(e),"componentDidMount",e.recreateInstance),d(b(e),"componentWillUnmount",e.revokeInstance),e.wrapperRef=a.a.createRef(),e.repositionExecuted=!1,e}return function(e,t,r){t&&p(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidUpdate",value:function(e){return this.props.children.length!==e.children.length?(this.recreateInstance(),!1):this.props.currentPage!==e.currentPage?(this.gridInstance?this.gridInstance.positionItems():this.recreateInstance(),!1):void 0}},{key:"areDifferentThemes",value:function(e,t){return e.props[this.props.componentDidMount]!==t.props[this.props.componentDidMount]}},{key:"revokeInstance",value:function(){this.gridInstance&&(this.gridInstance=void 0)}},{key:"recreateInstance",value:function(){if(this.wrapperRef.current){this.revokeInstance();var e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({container:this.wrapperRef.current,items:!this.props.static&&this.props.children?[].concat(this.props.children).length:void 0},this.props),t=(e.children,function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,u));if(t.static||t.items&&t.items>0)try{this.gridInstance=new i.a(t),this.gridInstance.listen(),this.onGridLayoutReposition()}catch(e){console.error(e)}}}},{key:"render",value:function(){return a.a.createElement("div",{ref:this.wrapperRef,className:s.a.masonry},this.props.children)}}]),r}();g.defaultProps={gutter:32,maxCols:5,maxColWidth:280,useMin:!1,animate:!1};var v=g,O=r(944),w=r(124),E=r(950),j=r(1),S=r(3);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}}function N(e,t){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===P(t)?t:String(t)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=I(e);if(t){var a=I(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,r){(t=R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(T(n=t.call(this,e)),"renderItem",(function(e){var t=Object.assign({},n.props);return t.pageName=Object(S.e)(n.props.pageName.toLowerCase()),a.a.createElement(O.a,k({},e,t))})),n.renderItem=n.renderItem.bind(T(n)),n.shuffle=n.shuffle.bind(T(n)),n.feed=n.shuffle(e.feed),n}return function(e,t,r){t&&C(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentWillReceiveProps",value:function(e){var t=e.feed;this.feed=this.shuffle(t)}},{key:"shuffle",value:function(e){for(var t=Object.keys(e),r=e[j.Mc],n={},a=t.slice(0,t.length-1),o=new Array(r),i=0,c=0,s=0,u=0;u<a.length;u++)n[u]=0;for(var l=0;l<a.length;l++)i<e[l].length&&(i=e[l].length,c=l);for(a.push(c);s<r;)a.forEach((function(t){n[t]<e[t].length&&(o[s]=e[t][n[t]],n[t]++,s++)}));return o}},{key:"render",value:function(){var e=this,t=this.feed;return a.a.createElement(a.a.Fragment,null,this.props.renderEmptyPage&&a.a.createElement(E.a,{pageName:this.props.emptyStatePageName}),this.props.renderEmptyPage||0!==t.length?a.a.createElement(v,{onRePositionCallback:this.props.onRePositionCallback,gutter:j.Gc,animate:!1,useMin:!0,currentPage:this.props.currentPage},t.map((function(t){return e.renderItem(t)}))):a.a.createElement(w.a,{style:{position:"absolute"},size:"L"}))}}]),r}();t.a=x},1019:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=i(r(27)),o=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return o.default.createElement(a.default,n({},e,{icon:{18:r(1020),24:r(1021)}}))};c.displayName="ChevronRight",t.default=c},1020:function(e,t,r){"use strict";var n=r(0);e.exports=n.createElement("svg",{viewBox:"0 0 36 36"},n.createElement("path",{d:"M24 18a1.988 1.988 0 0 1-.585 1.409l-7.983 7.98a2 2 0 1 1-2.871-2.772l.049-.049L19.181 18l-6.572-6.57a2 2 0 0 1 2.773-2.87l.049.049 7.983 7.98A1.988 1.988 0 0 1 24 18z"}))},1021:function(e,t,r){"use strict";var n=r(0);e.exports=n.createElement("svg",{viewBox:"0 0 48 48"},n.createElement("path",{d:"M31.7 25.414L21.05 36.059a2 2 0 0 1-2.828 0l-.282-.282a2.006 2.006 0 0 1 0-2.828L26.888 24l-8.948-8.949a2.006 2.006 0 0 1 0-2.828l.282-.282a2 2 0 0 1 2.828 0L31.7 22.585a2 2 0 0 1 0 2.829z"}))},1022:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=i(r(27)),o=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return o.default.createElement(a.default,n({},e,{icon:{18:r(1023),24:r(1024)}}))};c.displayName="ChevronLeft",t.default=c},1023:function(e,t,r){"use strict";var n=r(0);e.exports=n.createElement("svg",{viewBox:"0 0 36 36"},n.createElement("path",{d:"M12 18a1.988 1.988 0 0 0 .585 1.409l7.983 7.98a2 2 0 1 0 2.871-2.772l-.049-.049L16.819 18l6.572-6.57a2 2 0 0 0-2.773-2.87l-.049.049-7.983 7.98A1.988 1.988 0 0 0 12 18z"}))},1024:function(e,t,r){"use strict";var n=r(0);e.exports=n.createElement("svg",{viewBox:"0 0 48 48"},n.createElement("path",{d:"M16.3 22.585L26.949 11.94a2 2 0 0 1 2.828 0l.282.282a2.006 2.006 0 0 1 0 2.828L21.112 24l8.948 8.949a2.006 2.006 0 0 1 0 2.828l-.282.282a2 2 0 0 1-2.828 0L16.3 25.414a2 2 0 0 1 0-2.829z"}))},232:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(58),i=r(7),c=r(29),s=r(9),u=r(3),l=r(1),f=r(36),p=r.n(f),h=r(1019),b=r.n(h),m=r(956),d=r(944),y=r(51),g=r.n(y),v=r(816),O=r.n(v),w=r(22),E=r(961);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N(n.key),n)}}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===j(t)?t:String(t)}function T(){return(T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var I=function(e){var t=e,r=parseInt(g.a.galleryCardImageHeight,10),n={themeHeight:void 0===e.image?parseInt(g.a.galleryCardImageHeight,10)+parseInt(g.a.imageSwatchHeight,10):""};return void 0!==t.image&&(t.image.width=parseInt(g.a.cardWidth,10),t.image.height=r),a.a.createElement(d.a,T({},t,{styles:n,cardType:l.m,key:t.uniqueID}))},R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C(e);if(t){var a=C(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,r){(t=N(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(k(n=t.call(this,e)),"renderItem",(function(e){var t=Object.assign({},n.props);return t.pageName=Object(u.e)(n.props.pageName.toLowerCase()),l.Mb?a.a.createElement(d.a,T({},e,t,{key:e.uniqueID,extractOnlyIfVisible:!0})):a.a.createElement(I,T({},e,t,{extractOnlyIfVisible:!0}))})),n.onClick=n.onClick.bind(k(n)),n}return function(e,t,r){t&&S(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onClick",value:function(){var e={workflow:Object(u.e)(this.props.ingestWorkflow[0]),subcategory:l.Gb.NAVIGATION,value:Object(u.e)(this.props.englishName)},t={type:this.props.source};Object(w.a)(l.Eb.SPECIFIC,{event:e,content:t},this.props.ingestWorkflow),this.props.history.push("".concat(this.props.url,"/").concat(Object(u.e)(this.props.englishName.replace(" ","-"))))}},{key:"filterFeeds",value:function(){return l.Jb?this.props.feed:l.Mb?this.props.feed.slice(0,1):this.props.feed.slice(0,6)}},{key:"viewMoreLink",value:function(){return a.a.createElement(p.a,{quiet:!0,onClick:this.onClick,className:O.a.viewMore,variant:"action"},a.a.createElement(i.a,{id:"app.gallerylist.gallery.viewmore"}),a.a.createElement(b.a,{size:"S"}))}},{key:"render",value:function(){var e=this,t=this.filterFeeds();return a.a.createElement("div",{className:this.props.expanded?O.a.galleryExpanded:O.a.gallery},a.a.createElement(E.Helmet,null,a.a.createElement("title",null,this.props.intl.formatMessage({id:"app.gallery.title"})),a.a.createElement("meta",{name:"description",content:this.props.intl.formatMessage({id:"app.gallery.description"})}),a.a.createElement("link",{rel:"canonical",href:"https://color.adobe.com/trends"})),a.a.createElement("div",{className:O.a.galleryName},a.a.createElement("div",{className:O.a.galleryNameHead},a.a.createElement("h4",null,this.props.name),this.viewMoreLink()),a.a.createElement("div",{className:O.a.galleryDescription},a.a.createElement(i.a,{id:"app.gallery.".concat(this.props.englishName.replace(" ","_").toLowerCase(),".description")}))),a.a.createElement("div",{className:O.a.galleryGridScrollContainerWithViewMore},a.a.createElement("div",{className:O.a.galleryGridScrollContainer},a.a.createElement(m.a,null,t.map((function(t){return e.renderItem(t)})))),this.viewMoreLink()))}}]),r}(),x=Object(i.e)(R),A=r(124),_=r(817),D=r.n(_);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(){return(M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U(n.key),n)}}function U(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===L(t)?t:String(t)}function G(e,t){return(G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(r,n.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=F(e);if(t){var a=F(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.apply(this,arguments)}return function(e,t,r){t&&B(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){var e=this.props,t=e.feed,r=e.history,n=e.ingestWorkflow,o=e.isUserLoggedIn,i=e.notification,c=e.pageName,s=e.saveThemeToLibrary,u=e.showExpanded,f=e.url;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:D.a.banner},l.Nb&&a.a.createElement("h2",null,this.props.intl.formatMessage({id:"app.header.trends"})),a.a.createElement("p",null,this.props.intl.formatMessage({id:"app.gallerylistbanner.text"}))),a.a.createElement("div",{className:D.a.galleryList},0===t.length?a.a.createElement(A.a,{style:{position:"absolute"},size:"L"}):t.map((function(e,t){return 0!==t?a.a.createElement(a.a.Fragment,{key:t},a.a.createElement("hr",{className:D.a.divider}),a.a.createElement(x,M({},e,{history:r,ingestWorkflow:n,isUserLoggedIn:o,notification:i,pageName:c,saveThemeToLibrary:s,url:f,index:t}))):a.a.createElement(x,M({expanded:u,key:t},e,{history:r,ingestWorkflow:n,isUserLoggedIn:o,notification:i,pageName:c,saveThemeToLibrary:s,url:f,index:t}))}))))}}]),r}(),H=Object(i.e)(W),z=r(979),V=r(1022),J=r.n(V),q=r(818),X=r.n(q);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q(n.key),n)}}function Q(e){var t=function(e,t){if("object"!==K(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===K(t)?t:String(t)}function Z(e,t){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ee(e);if(t){var a=ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===K(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).onBackButtonClick=n.onBackButtonClick.bind($(n)),n.changePageNumberInCriteria=n.changePageNumberInCriteria.bind($(n)),n}return function(e,t,r){t&&Y(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"changePageNumberInCriteria",value:function(e){return this.props.criteria.map((function(t){return t.pageNumber=e,t}))}},{key:"onBackButtonClick",value:function(){this.props.changeCriteria(this.changePageNumberInCriteria(1)),this.props.history.push(this.props.match.url)}},{key:"render",value:function(){var e=this.props,t=e.galleryName,r=e.intl,n=e.galleryDescription;return a.a.createElement("div",{className:X.a.banner},a.a.createElement(p.a,{className:X.a.backButton,label:r.formatMessage({id:"app.galleryviewbanner.backbutton"}),onClick:this.onBackButtonClick,variant:"action",quiet:!0,icon:a.a.createElement(J.a,null)}),a.a.createElement("div",{className:X.a.galleryName},t),!l.Jb&&a.a.createElement("p",null,n))}}]),r}(),re=Object(i.e)(te),ne=r(1012),ae=r(819),oe=r.n(ae);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,se(n.key),n)}}function se(e){var t=function(e,t){if("object"!==ie(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===ie(t)?t:String(t)}function ue(e,t){return(ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ue(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=fe(e);if(t){var a=fe(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return le(e)}(this,r)}}(r);function r(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).ingestWorkflow=e.ingestWorkflow.slice(),n.ingestWorkflow.push(l.Eb.SPECIFIC);var a=new URLSearchParams(e.history.location.search);return n.page=Number(a.get("page")||1),n.changePageNumberInCriteria=n.changePageNumberInCriteria.bind(le(n)),n.updateGutterPosition=n.updateGutterPosition.bind(le(n)),e.changeCriteria(n.changePageNumberInCriteria(n.page)),e.fetchPage(),n.state={margin:0},n}return function(e,t,r){t&&ce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"changePageNumberInCriteria",value:function(e){return this.props.criteria.map((function(t){return t.pageNumber=e,t}))}},{key:"updateGutterPosition",value:function(e){this.setState({margin:e})}},{key:"componentWillReceiveProps",value:function(e){var t=new URLSearchParams(e.history.location.search),r=Number(t.get("page"))||1;this.page!==r&&(this.page=r,this.props.changeCriteria(this.changePageNumberInCriteria(r)),this.props.fetchPage())}},{key:"render",value:function(){var e=this.props,t=e.changeCriteria,r=e.criteria,n=e.isUserLoggedIn,o=e.notification,c=e.saveThemeToLibrary,s=e.galleryFeed,u=e.galleryEnglishName,f=e.galleryName,p=e.history,h=e.match,b=e.pageName,m=a.a.createElement(i.a,{id:"app.gallery.".concat(u.replace(" ","_").toLowerCase(),".description")});return a.a.createElement("div",{"data-scroll-container":!0},a.a.createElement(E.Helmet,null,a.a.createElement("title",null,this.props.intl.formatMessage({id:"app.gallery.".concat(u.replace(" ","_").toLowerCase(),".title")})),a.a.createElement("meta",{name:"description",content:this.props.intl.formatMessage({id:"app.gallery.".concat(u.replace(" ","_").toLowerCase(),".description")})})),a.a.createElement(re,{changeCriteria:t,criteria:r,galleryName:f,history:p,match:h,galleryDescription:m}),l.Jb&&this.state.margin>0&&a.a.createElement("div",{className:oe.a.galleryDescription,style:{marginLeft:this.state.margin,marginRight:this.state.margin}},m),a.a.createElement("div",{className:oe.a.gridContainer},a.a.createElement(ne.a,{currentPage:this.page,onRePositionCallback:this.updateGutterPosition,criteria:this.props.galleryCriteria,ingestWorkflow:this.ingestWorkflow,feed:s,history:p,isUserLoggedIn:n,notification:o,pageName:b,saveThemeToLibrary:c})),a.a.createElement(z.a,{showPagination:0!==s[l.Mc],isGallery:!0,galleryCriteria:JSON.parse(this.props.galleryCriteria),sources:[l.i,l.zc],checkForAvailablePages:this.props.checkForAvailablePages,currentPage:this.page,history:p,locale:this.props.locale}))}}]),r}(),he=Object(i.e)(pe),be=r(1011),me=r(128),de=r(918),ye=r(947),ge=r(946),ve={criteria:function(){var e=[];return l.L.forEach((function(t){e.push({main:t})})),l.N.forEach((function(t){e.push({main:t})})),e}(),sources:[l.i,l.zc]};function Oe(e,t){var r=config("BEHANCE_ENDPOINT").basePath,n=(parseInt(e.pageNumber,10)-1)*l.Hc;if(l.L.includes(e.main))return"".concat(r).concat(config("BEHANCE_ENDPOINT").galleryApi,"/").concat(e.galleryId,"/projects?api-key=").concat(config("CLIENT_ID"),"&locale=").concat(t,"&ordinal=").concat(n,"&per_page=").concat(l.Hc)}function we(e){var t=config("STOCK_ENDPOINT").api,r=(parseInt(e.pageNumber,10)-1)*l.Hc;if(l.N.includes(e.main))return"".concat(t,"?locale=en-US&search_parameters%5Bwords%5D=").concat(e.main,"&search_parameters%5Bfilters%5D%5Bcontent_type%3Aphoto%5D=1&search_parameters%5Bfilters%5D%5Bpremium%5D=false&search_parameters%5Blimit%5D=").concat(l.Hc,"&search_parameters%5Boffset%5D=").concat(r)}var Ee=function(e){return function(t){return t(de.a(l.sb,e))}},je=function(e){return function(t){return t(de.c(l.sb,e))}},Se=function(e){return function(t,r){var n=r().user.locale,a={},o=e.pageNumber,i={};return e.pageNumber=o+1,i.behanceUrl=Oe(e,n),i.stockUrl=we(e),e.pageNumber=o,Object(u.t)(e.galleryId)?a.STOCK=Object(ge.d)(i.stockUrl):a.BEHANCE=Object(ye.d)(i.behanceUrl),Promise.all(Object.keys(a).map((function(e){return a[e]})))}},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,r){var n=r().gallery,a=n.criteria,o=n.srcFilter,i=r().user.locale;a.forEach((function(r){var n={};n.behanceUrl=Oe(r,i),n.stockUrl=we(r),t(de.l(JSON.stringify(r),o,n,e))}))}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve;return function(t){return t(de.p(l.sb,e))}},Ce=function(e,t){return function(r){return r(de.r(t,e))}},Ne={sources:[l.i,l.zc],criteria:[{main:"galleries"}]},Te=function(){return function(e,t){t().galleries.criteria.forEach((function(t){var r={};r.behanceUrl=function(){var e=config("BEHANCE_ENDPOINT").basePath;return"".concat(e).concat(config("BEHANCE_ENDPOINT").galleryApi,"?api-key=").concat(config("CLIENT_ID"),"&locale=en")}(),e(de.k(JSON.stringify(t),r))}))}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;return function(t){return t(de.p(l.rb,e))}},Re=r(123),xe=r(931),Ae=r(929),_e=r(820),De=r.n(_e);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(){return(Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Be(e){return function(e){if(Array.isArray(e))return Ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ue(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,He(n.key),n)}}function We(e,t,r){return t&&Fe(e.prototype,t),r&&Fe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function He(e){var t=function(e,t){if("object"!==Le(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Le(t)?t:String(t)}function ze(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=qe(e);if(t){var a=qe(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Je(e)}(this,r)}}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xe=function(e){ze(r,n.Component);var t=Ve(r);function r(e){var n;return Ge(this,r),(n=t.call(this,e)).ingestWorkflow=[l.Nc],n.getGalleryName=n.getGalleryName.bind(Je(n)),n.props.initGalleries(),n.props.fetchGalleries(),n.haveLibrariesBeenFetched=!1,n.haveGalleriesBeenFetched=!1,n.hasLocaleChanged=!1,Object(u.z)("trends"),n}return We(r,[{key:"componentWillUnmount",value:function(){xe.a.clearQueue(),this.props.isUserLoggedIn&&this.props.clearLibraries()}},{key:"componentWillMount",value:function(){var e={workflow:Object(u.e)(this.ingestWorkflow[0]),subcategory:l.Gb.NAVIGATION,value:l.Gb.DEFAULT};Object(w.a)(l.Eb.DEFAULT,{event:e},this.ingestWorkflow)}},{key:"componentWillUpdate",value:function(e){e.locale!==this.props.locale&&(this.hasLocaleChanged=!0,this.haveGalleriesBeenFetched=!1)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.fetchPage,r=e.galleries,n=[],a=[];r&&r.behance&&r.behance.length>0&&r.stock&&r.stock.length>0&&!this.haveGalleriesBeenFetched&&(n=r.behance.map((function(e){return{main:e.name,galleryId:e.id,pageNumber:1}})),a=r.stock.map((function(e){return{main:e.name,pageNumber:1}})),this.props.changeSourceFilter([l.zc,l.i]),this.props.changeCriteria([].concat(Be(n),Be(a))),t(this.hasLocaleChanged),this.haveGalleriesBeenFetched=!0)}},{key:"getGalleryName",value:function(e){var t=e.source,r=e.galleryName;switch(t){case l.zc:return this.props.intl.formatMessage({id:r});default:return r}}},{key:"render",value:function(){var e=this,t=this.props,r=t.feed,n=t.isUserLoggedIn,o=t.notification,i=t.saveThemeToLibrary,c=t.history,f=this.props.match.url,p=this.ingestWorkflow,h=r.map((function(t,r){var n=t.criteria,o=e.getGalleryName(t),i={0:[],TOTAL_COUNT:0};return i[0]=t.galleryFeed,i[l.Mc]=i[0].length,a.a.createElement(s.b,{key:r,exact:!0,path:"".concat(f,"/").concat(Object(u.e)(JSON.parse(n).main.replace(" ","-"))),render:function(){return a.a.createElement(he,Me({ingestWorkflow:e.ingestWorkflow,pageName:l.sb,galleryEnglishName:Object(u.e)(JSON.parse(n).main),galleryName:o,galleryFeed:i,galleryCriteria:n,source:t.source},e.props))}})})),b=r.map((function(t){var r=e.getGalleryName(t),n=t.criteria,a=t.galleryFeed;return{englishName:JSON.parse(t.criteria).main,name:r,feed:a,criteria:n,source:t.source}}));return 0===r.length?a.a.createElement(A.a,{style:{position:"absolute"},size:"L"}):a.a.createElement("div",{className:De.a.scrollContainer},a.a.createElement(be.a,Me({ingestWorkflow:this.ingestWorkflow,history:this.props.history},this.props)),a.a.createElement(s.b,{exact:!0,path:"".concat(f),render:function(){return a.a.createElement(H,{pageName:l.sb,showExpanded:!0,feed:b,history:c,isUserLoggedIn:n,ingestWorkflow:p,notification:o,saveThemeToLibrary:i,url:f})}}),a.a.createElement(s.d,null,h,a.a.createElement(s.b,{path:"".concat(f,"/*"),render:function(){return a.a.createElement(me.a,{type:404})}})))}}]),r}(),Ke=function(e){ze(r,n.Component);var t=Ve(r);function r(){return Ge(this,r),t.apply(this,arguments)}return We(r,[{key:"render",value:function(){return this.props.imsReady?a.a.createElement(Xe,this.props):a.a.createElement("div",{className:De.a.loaderContainer},a.a.createElement(A.a,{style:{position:"absolute"},size:"L"}))}}]),r}(),Ye=Object(c.b)((function(e){var t=e.gallery,r=e.criteriaDataCollection,n=e.user,a=e.galleries,o=t.criteria,i={},c=[],s={};return a.criteria.forEach((function(e){Object(u.t)(r[JSON.stringify(e)])||(i.behance=Be(r[JSON.stringify(e)].behance.themeList),i.stock=Be(r[JSON.stringify(e)].stock.themeList))})),o.forEach((function(e){s={},!e.galleryId&&r[JSON.stringify(e)]?(s.criteria=JSON.stringify(e),s.galleryFeed=Be(r[JSON.stringify(e)].stock.themeList),s.galleryName=l.M[e.main.toUpperCase().replace(" ","_")],s.source=l.zc,c=[].concat(Be(c),[s])):e.galleryId&&r[JSON.stringify(e)]&&(s.criteria=JSON.stringify(e),s.galleryFeed=Be(r[JSON.stringify(e)].behance.themeList),s.galleryName=i.behance.reduce((function(t,r){var n=t;return e.galleryId===r.id&&(n=r.localised_name),n}),""),s.source=l.i,c=[].concat(Be(c),[s]))})),{criteria:o,feed:c,imsReady:n.IMSReady,isUserLoggedIn:n.isLoggedIn,isAllowedToPublish:n.isAllowedToPublish,galleries:i,locale:n.locale}}),(function(e){return Object(o.b)({changeCriteria:Ee,changeSourceFilter:je,checkForAvailablePages:Se,fetchPage:Pe,initPage:ke,initGalleries:Ie,fetchGalleries:Te,notification:Re.a,clearLibraries:Ae.a,saveThemeToLibrary:Ce},e)}))(Object(i.e)(Ke));t.default=Ye},913:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return m})),r.d(t,"g",(function(){return d})),r.d(t,"f",(function(){return y})),r.d(t,"c",(function(){return g})),r.d(t,"e",(function(){return v})),r.d(t,"j",(function(){return O})),r.d(t,"h",(function(){return w})),r.d(t,"i",(function(){return E})),r.d(t,"d",(function(){return j}));var n=r(2),a=r(928),o=r(933),i=r(75),c=r(1),s=r(30),u=r(3);function l(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e){var t=e.save,r=e.create,n={};return n.name=t.themeName?t.themeName:c.X,n.tags=t.tagsToSave,n.swatches=r.order.map((function(e){return Object(s.m)(r.swatches[e])})),n.harmony={baseSwatchIndex:r.order.indexOf(r.baseColorIndex),mood:r.colorMood,rule:r.harmonyRule},r.workflow===c.J.ACCESSIBILITY&&r.isAccessible&&(n.accessibilityData={colorBlindSafe:r.isAccessible}),n.colorMode=r.colorMode,n}function h(e){var t=e.save,r=e.colorContrast,n={};return n.name=t.themeName,n.tags=t.tagsToSave,n.colorMode=c.V,n.swatches=[Object(s.m)(r.foregroundSwatch),Object(s.m)(r.backgroundSwatch)],n.harmony={baseSwatchIndex:0,mood:"CUSTOM",rule:"CUSTOM"},n.accessibilityData={wcagLevel:Object(u.o)(r.contrastRatio)},n}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n.b,payload:e}}function m(){return{type:n.j}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n.Y,payload:e}}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n.U,payload:e}}function g(e){return function(t,r){var a=config("AUTOTAG_ENDPOINT").basePath,o=config("AUTOTAG_ENDPOINT").api,s=r(),f=s.create,p=s.colorContrast,h=[],b=new URLSearchParams,m=function(e){var t=e.user,r={"Content-Type":"application/json"};return t.isLoggedIn&&(r.Authorization="Bearer ".concat(t.token)),r}(r()),d=[];e===c.J.COLOR_CONTRAST?(d.push(p.foregroundSwatch),d.push(p.foregroundSwatch),d.push(p.backgroundSwatch),d.push(p.backgroundSwatch),d.push(p.backgroundSwatch)):d=f.swatches,d.forEach((function(e){return h.push([e.rgb.r/c.z.MAX.RGB.R,e.rgb.g/c.z.MAX.RGB.G,e.rgb.b/c.z.MAX.RGB.B])}));var y="".concat(a).concat(o);return b.append("q",JSON.stringify({values:h.concat.apply([],h)})),y="".concat(a).concat(o,"?").concat(b.toString()),Object(i.c)(y,m).then((function(r){var a=r.tags.map((function(e){return Object(u.d)(e)}));e===c.J.ACCESSIBILITY?a=[].concat(l(c.u),l(a)).slice(0,5):e===c.J.COLOR_CONTRAST&&(a=[].concat(l(c.w),l(a)).slice(0,5)),t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:n.Z,payload:e}}(a))}))}}function v(e,t){switch(e){case c.g.GRADIENT:return function(r,n){var o=n().save,i=function(e){var t=e.save,r=e.create,n={};return n.name=t.themeName?t.themeName:c.U,n.interpolation=c.ab.interpolation,n.angle=c.ab.angle,n.aspectRatio=c.ab.aspectRatio,n.type=c.ab.type,n.stops=[],r.order.forEach((function(e){var t=r.swatches[e],a=[{mode:c.V,value:{r:t.rgb.r,g:t.rgb.g,b:t.rgb.b}}];n.stops.push({color:a,offset:t.offset,midpoint:t.midpoint})})),n}(n());return r(Object(a.f)("",{gradient:i},e,t)).then((function(){return o.library.name})).catch((function(e){throw console.log(e),e}))};default:return function(r,n){var i=n(),s=i.save,u=i.user,l=t===c.J.COLOR_CONTRAST?h(n()):p(n()),f=r(Object(a.f)("",{theme:l},e,t));return s.publishToKuler&&u.isAllowedToPublish?(l.libraryid=s.library.id,f.then((function(e){var t=e.response,n={};return n.id=t.elements[0].id,r(Object(o.f)(l,n)),s.library.name})).catch((function(e){throw console.error(e),e}))):f.then((function(){return s.library.name})).catch((function(e){throw console.error(e),e}))}}}function O(e,t){return function(r,n){var i=n().save,s=t===c.J.COLOR_CONTRAST?h(n()):p(n());s.cclibraryThemeUpdateLibId=i.cclibraryThemeUpdateLibId,s.cclibraryThemeUpdateAssetId=i.cclibraryThemeUpdateAssetId;var u=r(Object(a.h)(e,s));return i.publishToKuler?(s.libraryid=i.library.id,u.then((function(e){var t=e.response;return r(Object(o.f)(s,t)),i.library.name})).catch((function(e){return console.error(e)}))):u.then((function(){return i.library.name})).catch((function(e){return console.error(e)}))}}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n.cb,payload:e}}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:n.lb,payload:e}}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:n.A,payload:e}}},914:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"h",(function(){return i})),r.d(t,"f",(function(){return c})),r.d(t,"g",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"a",(function(){return l})),r.d(t,"e",(function(){return f})),r.d(t,"j",(function(){return p})),r.d(t,"m",(function(){return h})),r.d(t,"n",(function(){return b})),r.d(t,"k",(function(){return m})),r.d(t,"i",(function(){return d})),r.d(t,"l",(function(){return y}));var n=r(2);function a(e,t,r){return{type:n.i,payload:r,srcName:t,criteria:e}}function o(e,t,r){return{type:n.k,payload:r,srcName:t,criteria:e}}function i(e,t,r){return{type:n.jb,payload:r,srcName:t,criteria:e}}function c(e,t,r){return{type:n.hb,payload:r,srcName:t,criteria:e}}function s(e,t,r){return{type:n.ib,payload:r,srcName:t,criteria:e}}function u(e,t,r){return{type:n.y,payload:r,srcName:t,criteria:e}}function l(e,t,r){return{type:n.a,payload:r,srcName:t,criteria:e}}function f(e,t,r){return{type:n.db,criteria:e,payload:r,srcName:t}}function p(e,t,r){return{type:n.nb,criteria:e,payload:r,srcName:t}}function h(e,t,r){return function(a){return a({type:n.qb,srcName:t,criteria:e,payload:r})}}function b(e,t,r){return{type:n.rb,payload:r,srcName:t,criteria:e}}function m(e,t,r){return{type:n.ob,payload:r,srcName:t,criteria:e}}function d(e,t,r){return{type:n.mb,payload:r,srcName:t,criteria:e}}function y(e){return{type:n.pb,payload:e,criteria:e.criteria,srcName:e.srcName}}},915:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(3),i=r(1),c=r(22),s=r(747),u=r.n(s);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function m(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===l(t)?t:String(t)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var a=g(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).onDragStart=n.onDragStart.bind(y(n)),n.onClick=n.onClick.bind(y(n)),n.onDrop=n.onDrop.bind(y(n)),n}return function(e,t,r){t&&b(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onClick",value:function(){this.props.active||this.props.setActiveSwatch(this.props.id)}},{key:"onDragStart",value:function(e){e.dataTransfer.setData("draggedSwatchId",this.props.id),e.dataTransfer.dropEffect="copy",e.dataTransfer.effectAllowed="move";var t={workflow:Object(o.e)(this.props.ingestWorkflow[0]),subcategory:i.Gb.SWATCH};Object(c.a)(i.Eb.SWATCH_DRAG,{event:t},this.props.ingestWorkflow)}},{key:"onDrop",value:function(e){e.preventDefault();var t=parseInt(e.dataTransfer.getData("draggedSwatchId"),10),r=this.props.id;Object(o.r)()?this.props.changeSwatchesOrder():Object(o.t)(t)||isNaN(t)||Object(o.t)(r)||t===r||this.props.changeSwatchesOrder({draggedSwatchId:t,destinationSwatchId:r})}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({background:""===this.props.hex?"":"#".concat(this.props.hex)},this.props.styles);return a.a.createElement("div",f({className:[this.props.className,u.a.swatch].join(" "),style:e,onClick:this.props.onClick},this.props.draggable&&{draggable:this.props.draggable,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onDrop:this.onDrop,onClick:this.onClick}),this.props.children)}}]),r}();v.defaultProps={active:!1,className:u.a.swatch,draggable:!1,ingestWorkflow:[i.I]},t.a=v},917:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return f})),r.d(t,"d",(function(){return p})),r.d(t,"g",(function(){return h})),r.d(t,"c",(function(){return b})),r.d(t,"i",(function(){return m})),r.d(t,"l",(function(){return d})),r.d(t,"k",(function(){return y})),r.d(t,"h",(function(){return g})),r.d(t,"j",(function(){return v}));var n=r(1),a=r(2),o=r(918),i=r(3);function c(e,t){var r=config("CCLIBRARIES_ENDPOINT"),a=r.melvilleBasePath,o=r.librariesApi,i=r.themesApi,c=n.Mb?"".concat(encodeURIComponent(n.Ec)):"".concat(encodeURIComponent(n.Ec),",").concat(encodeURIComponent(n.tb));return"".concat(a).concat(o,"/").concat(e.main).concat(i,"?start=").concat(t,"&limit=").concat(n.cc,"&selector=representations&type=").concat(c)}var s=function(e){return function(t){return t(o.a(n.dc,e))}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.hb.LAST_MODIFIED;return function(t){return t({type:a.e,pageName:n.dc,payload:e})}},l=function(){return function(e,t){var r=t().mythemes,a=r.criteria,s=r.srcFilter,u={},l=t().criteriaDataCollection,f=t().libraries.criteria[0],p=2*n.bc,h=0;Object(i.t)(l[JSON.stringify(f)])||Object(i.t)(l[JSON.stringify(f)]).cclibrary||(h=l[JSON.stringify(f)].cclibrary.startIndex,h=Math.floor((h-1)/p)*p),a.slice(h,a.length).forEach((function(t){u.ccLibraryUrl=c(t,0),e(o.o(JSON.stringify(t),s,u,!0))}))}},f=function(){return function(e,t){var r=t().mythemes,n=r.criteria,a=r.srcFilter,i={},s=n[0];i.ccLibraryUrl=c(s,0),e(o.o(JSON.stringify(s),a,i,!0))}},p=function(e){return function(t,r){var n=r().mythemes.srcFilter,a={},i=r().criteriaDataCollection[e].cclibrary.startIndex;a.ccLibraryUrl=c(JSON.parse(e),i),t(o.o(e,n,a,!0))}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initState;return function(t){return t(o.p(n.dc,e))}},b=function(e,t){return function(r){return r(o.h(t,e))}},m=function(e,t){return function(r){return r(o.q(e,t))}},d=function(e,t){return function(r,n){var a=n().mythemes.srcFilter;return r(o.w(e,a[0],t))}},y=function(e,t){return function(r,n){var a=n().mythemes.srcFilter;return r(o.v(e,a[0],t))}},g=function(e,t){return function(r){var n=function(e){var t=config("ETHOS_ENDPOINT"),r=t.basePathForSearch,n=t.api,a=t.searchPath;return"".concat("".concat(r).concat(n).concat(a,"?q=%7B%22","asset_id","%22%3A%22").concat(encodeURIComponent(e),"%22%7D"),"&maxNumber=1")}(e);return r(o.s(n,t))}},v=function(e,t,r){return function(n){return n(o.t(e,t,r))}}},918:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return y})),r.d(t,"j",(function(){return g})),r.d(t,"o",(function(){return v})),r.d(t,"d",(function(){return O})),r.d(t,"l",(function(){return w})),r.d(t,"f",(function(){return E})),r.d(t,"k",(function(){return j})),r.d(t,"n",(function(){return S})),r.d(t,"m",(function(){return P})),r.d(t,"i",(function(){return k})),r.d(t,"p",(function(){return C})),r.d(t,"x",(function(){return N})),r.d(t,"u",(function(){return T})),r.d(t,"t",(function(){return I})),r.d(t,"q",(function(){return R})),r.d(t,"h",(function(){return x})),r.d(t,"r",(function(){return A})),r.d(t,"g",(function(){return _})),r.d(t,"w",(function(){return D})),r.d(t,"v",(function(){return L})),r.d(t,"s",(function(){return M})),r.d(t,"e",(function(){return B}));var n=r(2),a=r(1);function o(e){return{type:n.p,criteria:e}}var i=r(933),c=r(946),s=r(947),u=r(928),l=r(914),f=r(75),p=r(3);function h(e){return e.themes=[],e.result_sets&&e.result_sets[0]&&e.result_sets[0].items&&(e.themes=e.result_sets[0].items,delete e.result_sets[0].items),e}function b(e){var t=e.user,r={"x-api-key":config("CLIENT_ID"),"x-product":config("UNIVERSAL_SEARCH_ENDPOINT").xProduct,"x-product-location":config("UNIVERSAL_SEARCH_ENDPOINT").xProductLocation};return t.isLoggedIn&&(r.Authorization="Bearer ".concat(t.token)),r}function m(e,t){return{type:n.c,pageName:e,payload:t}}function d(e,t){return{type:n.d,pageName:e,payload:t}}function y(e,t){return{type:n.f,pageName:e,payload:t}}function g(e,t){return function(r,n){var i=n().criteriaDataCollection;Object(p.t)(i[e])&&r(o(e)),Object(p.t)(t.curatedDataUrl)||r(function(e,t){return function(r,n){var o=n().criteriaDataCollection;if(!Object(p.t)(o[e])&&!Object(p.C)(o[e].behance.fetchStatus)||!Object(p.C)(o[e].kuler.fetchStatus)||!Object(p.C)(o[e].stock.fetchStatus))return r(Object(l.h)(e,a.i)),r(Object(l.h)(e,a.Qb)),r(Object(l.h)(e,a.zc)),Object(f.c)(t.endPoint).then((function(t){var n=t,o={themes:[]},i={themes:[]},c={themes:[]};n&&n.files&&(i.themes=n.files.filter((function(e){return e.source===a.i})),o.themes=n.files.filter((function(e){return e.source===a.Qb})),c.themes=n.files.filter((function(e){return e.source===a.zc})),r(Object(l.d)(e,a.i,i)),r(Object(l.d)(e,a.Qb,o)),r(Object(l.d)(e,a.zc,c))),r(Object(l.f)(e,a.i)),r(Object(l.f)(e,a.Qb)),r(Object(l.f)(e,a.zc))})).catch((function(t){console.log("error ".concat(t));var n=a.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(n=t.response.status),r(Object(l.g)(e,a.i,n)),r(Object(l.g)(e,a.Qb,n)),r(Object(l.g)(e,a.zc,n))}))}}(e,{endPoint:t.curatedDataUrl}))}}function v(e,t,r,n){return function(m,d){var y=d().criteriaDataCollection;Object(p.t)(y[e])&&m(o(e)),t.forEach((function(t){t!==a.i||Object(p.t)(r.behanceUrl)?t!==a.Qb||Object(p.t)(r.kulerUrl)?t!==a.zc||Object(p.t)(r.stockUrl)?t!==a.p||Object(p.t)(r.ccLibraryUrl)?t!==a.Pc||Object(p.t)(r.universalSearchUrl)||m(function(e,t){return function(r,n){return r(Object(l.h)(e,a.Pc)),Object(f.f)(t.endPoint,b(n()),t.formData).then((function(t){var n=h(t);r(Object(l.d)(e,a.Pc,n)),r(Object(l.f)(e,a.Pc))})).catch((function(t){Object(p.w)("fetchUniversalThemeList: ".concat(t));var n=a.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(n=t.response.status),console.log("error ".concat(t)),r(Object(l.g)(e,a.Pc,n))}))}}(e,{endPoint:r.universalSearchUrl,formData:r.formData})):m(Object(u.e)(e,{endPointTheme:r.ccLibraryUrl})):m(Object(c.c)(e,{endPoint:r.stockUrl})):m(Object(i.d)(e,{endPoint:r.kulerUrl},n)):m(Object(s.c)(e,{endPoint:r.behanceUrl}))}))}}function O(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(o,u){var l={};return t.includes(a.i)&&!Object(p.t)(e.behanceUrl)&&(l.BEHANCE=Object(s.d)(e.behanceUrl)),t.includes(a.Qb)&&!Object(p.t)(e.kulerUrl)&&(l.KULER=Object(i.e)(e.kulerUrl,u(),n)),t.includes(a.zc)&&!Object(p.t)(e.stockUrl)&&(l.STOCK=Object(c.d)(e.stockUrl)),t.includes(a.Pc)&&!Object(p.t)(e.universalSearchUrl)&&(l.UNIVERSAL_SEARCH=function(e,t,r){return Object(f.f)(e,b(r()),t).then((function(e){return h(e).themes.length>0})).catch((function(e){return Object(p.w)("isDataAvailableForUniversalSearch: ".concat(e)),!1}))}(e.universalSearchUrl,r.universalSearchFormData,u)),Promise.all(Object.keys(l).map((function(e){return l[e]})))}}function w(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,u){var l=u().criteriaDataCollection;Object(p.t)(l[e])&&i(o(e)),t.forEach((function(t){t!==a.i||Object(p.t)(r.behanceUrl)?t!==a.zc||Object(p.t)(r.stockUrl)||i(Object(c.c)(e,{endPoint:r.stockUrl})):i(Object(s.c)(e,{endPoint:r.behanceUrl},n))}))}}function E(e,t){return function(r){t.forEach((function(t){t===a.i?r(Object(s.a)(e)):t===a.zc?r(Object(c.a)(e)):t===a.Qb&&r(Object(i.a)(e))}))}}function j(e,t){return function(r,n){var a=n().criteriaDataCollection;Object(p.t)(a[e])&&r(o(e)),r(Object(s.b)(e,{endPoint:t.behanceUrl})),r(Object(c.b)(e,{}))}}function S(e,t){return function(r,n){var a=n().criteriaDataCollection;Object(p.t)(t.kulerUrl)||(Object(p.t)(a[e])&&r(o(e)),r(Object(i.c)(e,{endPoint:t.kulerUrl})))}}function P(e,t,r){return function(n,a){var i=a().criteriaDataCollection;return Object(p.t)(i[e])&&n(o(e)),n(Object(u.d)(e,{firstEndPoint:t,secondEndPoint:r}))}}function k(e,t,r){return function(n,a){var i=a().criteriaDataCollection;return Object(p.t)(i[e])&&n(o(e)),n(Object(u.c)(e,{url:t,signal:r}))}}function C(e,t){return{type:n.q,pageName:e,payload:t}}function N(e,t){return{type:n.sb,pageName:e,payload:t}}function T(e,t){return function(r){if(t.source===a.Qb)return r(Object(i.h)(e,t))}}function I(e,t,r){return function(n){switch(r){case a.g.GRADIENT:return n(Object(u.g)(t));default:return n(Object(u.h)(e,t))}}}function R(e,t){return function(r){return r(Object(i.f)(e,t))}}function x(e,t){return function(r){switch(t.source){case a.p:return r(Object(u.b)(e,t));case a.Qb:return r(Object(i.b)(e,t))}}}function A(e,t){return function(r){return r(Object(u.f)(e,t,a.g.THEME))}}function _(e){return function(t){return t(Object(u.a)(e))}}function D(e,t,r){return function(n){switch(t){case a.p:n(Object(u.j)(e,r))}}}function L(e,t,r){return function(n){switch(t){case a.p:n(Object(u.i)(e,r))}}}function M(e,t){return function(r){return r(Object(i.g)(e,t))}}function B(e){return function(t){return t(o(e))}}},919:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"d",(function(){return d})),r.d(t,"c",(function(){return y})),r.d(t,"b",(function(){return g})),r.d(t,"e",(function(){return j}));var n=r(924),a=r(1),o=r(3),i=r(22),c=r(122),s=r(121),u=function(e,t,r){var n=t;e.setUint16(n,r.length+1),n+=2;for(var a=0;a<r.length;++a){var o=r.charCodeAt(a);e.setInt16(n,o),n+=2}return e.setInt16(n,0),n+2},l=function(e){for(var t=e.name,r=e.swatches,n=e.colorMode,a=function(e,t,r){var n=12,a=3;"cmyk"===r.toLowerCase()&&(a=4);var o=4;t.forEach((function(e){Object(s.a)(e)&&(o+=2*(s.d.length+e.pantone.length))}));var i=4+4*a+2+o;return n+=6,n+=4+2*e.length,(n+=(6+i)*t.length)+6}(t,r,n),o=new ArrayBuffer(a),i=new DataView(o),c=0,l=r.length,f=0;f<"ASEF".length;++f)i.setInt8(c,"ASEF".charCodeAt(f)),c++;i.setInt32(c,65536),c+=4,l+=2,i.setUint32(c,l),c+=4,i.setUint16(c,parseInt("0xC001",16)),c+=2,i.setInt32(c,0);var p=c+=4;c=u(i,c,t),i.setInt32(p-4,c-p);for(var h=0;h<r.length;h++){var b="RGB ",m=3;i.setUint16(c,1),c+=2,i.setInt32(c,0);var d=c+=4,y=r[h],g=new Array(4);if(Object(s.a)(y)){var v=y.pantone.substr(0,8)===s.d?y.pantone:s.d+y.pantone;c=u(i,c,v)}else c=u(i,c,"");switch(g[0]=g[1]=g[2]=g[3]=0,n.toLowerCase()){case"hsv":g[0]=y.rgb.r,g[1]=y.rgb.g,g[2]=y.rgb.b;break;case"rgb":b="RGB ",g[0]=y.rgb.r,g[1]=y.rgb.g,g[2]=y.rgb.b;break;case"cmyk":b="CMYK",g[0]=y.cmyk.c,g[1]=y.cmyk.m,g[2]=y.cmyk.y,g[3]=y.cmyk.k,m=4;break;case"lab":b="LAB ",g[0]=y.lab.l,g[1]=255*y.lab.a-128,g[2]=255*y.lab.b-128}for(var O=0;O<b.length;++O)i.setInt8(c,b.charCodeAt(O)),c++;for(var w=0;w<m;++w)i.setFloat32(c,g[w]),c+=4;Object(s.a)(y)?y.isSpotColor?i.setUint16(c,1):i.setUint16(c,0):i.setUint16(c,2),c+=2,i.setInt32(d-4,c-d)}return i.setUint16(c,parseInt("0xC002",16)),c+=2,i.setInt32(c,0),c+=4,o},f=r(24),p=r(30),h=(r(51),function(e){var t={workflow:Object(o.e)(e[0]),subcategory:a.Gb.NAVIGATION};Object(i.a)(a.Eb.USER_SIGN_IN,{event:t},e),window.adobeIMS.signIn()}),b=function(e,t,r){if("msSaveBlob"in navigator)void 0===r?navigator.msSaveBlob(e,t):navigator.msSaveBlob(Object(o.i)(e),t,r);else{var n=window.URL||window.webkitURL||window,a=document.createElement("a"),i=new MouseEvent("click",{cancelable:!0});a.href=void 0===r?n.createObjectURL(e):e,a.download=t,a.dispatchEvent(i),n.revokeObjectURL(a.href)}},m=function(e,t,r,n){if(t){var u=l(r),f=new Uint8Array(u),p=new Blob([f],{type:"application/vnd.adobe.color-swatch"}),m={workflow:Object(o.e)(e[0]),subcategory:Object(o.t)(n)?e[0]:n},d=Object(s.b)(r.swatches)?"AdobeColorPantone ".concat(r.name,".ase"):"AdobeColor ".concat(r.name,".ase"),y={mimetype:"",extension:"ase"};y.mimetype=Object(s.b)(r.swatches)?a.Gb.PANTONE:r.colorMode,y=Object.assign(y,Object(c.a)(r)),Object(i.a)(a.Eb.DOWNLOAD,{event:m,content:y},e),b(p,d)}else window.adobeIMS&&h(e)},d=function(e,t,r,n){t?Object(s.c)(r.swatches).then((function(t){var s=t.toDataURL("image/jpeg",1),u={workflow:Object(o.e)(e[0]),subcategory:Object(o.t)(n)?e[0]:n},l={mimetype:a.Gb.PANTONE,extension:"jpeg"};l=Object.assign(l,Object(c.a)(r)),Object(i.a)(a.Eb.DOWNLOAD_AS_JPEG,{event:u,content:l},e),b(s,"AdobeColorPantone ".concat(r.name,".jpeg"),"image/jpeg")})):window.adobeIMS&&h(e)},y=function(e,t,r,s,u){if(t){var l=Object(n.c)(r.swatches,s),f=new Blob([l],{type:"image/svg+xml;charset=utf-8"}),p="AdobeColorGradient ".concat(r.name,".svg"),m={workflow:Object(o.e)(e[0]),subcategory:Object(o.t)(u)?e[0]:u},d={mimetype:r.colorMode,extension:"svg"};(d=Object.assign(d,Object(c.a)(r))).size="".concat(s.width," x ").concat(s.height),Object(i.a)(a.Eb.DOWNLOAD_AS_SVG,{event:m,content:d},e),b(f,p)}else window.adobeIMS&&h(e)},g=function(e,t,r,s){if(t){var u=a.e.width,l=a.e.height,f=Object(n.a)(r.swatches),p=document.createElement("canvas"),m=p.getContext("2d"),d=m.createLinearGradient(0,0,u,0),y={workflow:Object(o.e)(e[0]),subcategory:Object(o.t)(s)?e[0]:s},g={mimetype:r.colorMode,extension:"png"};p.width=u,p.height=l,f.map((function(e,t){d.addColorStop(e.offset,"rgb(".concat(e.R,", ").concat(e.G,", ").concat(e.B,")"))})),m.fillStyle=d,m.fillRect(0,0,u,l);var v=p.toDataURL("image/png;base64");(g=Object.assign(g,Object(c.a)(r))).size="".concat(u," x ").concat(l),Object(i.a)(a.Eb.DOWNLOAD_AS_PNG,{event:y,content:g},e),b(v,"AdobeColorGradient ".concat(r.name,".png"),"image/png;base64")}else window.adobeIMS&&h(e)},v=function(e,t,r,n,a){var o=e.getContext("2d");switch(e.style.letterSpacing="0.8px",o.font="400 20px adobe-clean",o.fillStyle="#2c2c2c",t){case 0:o.fillText("".concat(a({id:"app.contrastChecker.colortype.text"})),r,n+95);break;case 1:o.fillText("".concat(a({id:"app.contrastChecker.colortype.background"})),r,n+95)}},O=function(e,t,r,n){var a=e.getContext("2d");e.style.letterSpacing="1.05px",a.font="700 35px/45px adobe-clean",a.fillStyle="#2c2c2c",a.fillText("#".concat(n.hex).toUpperCase(),t+20,r)},w=function(e,t,r,n){var a=e.getContext("2d");e.style.letterSpacing="1.2px",a.font="400 20px/25px adobe-clean",a.fillText("RGB",t+20,r),a.font="700 20px/25px adobe-clean",a.fillText("".concat(n.rgb.r,", ").concat(n.rgb.g,", ").concat(n.rgb.b),t+98,r)},E=function(e,t,r,n,a,o){"FFFFFF"===e.hex?(t.lineWidth=1.5,t.strokeStyle="#e1e1e1",t.strokeRect(r,n,a,o)):(t.fillStyle="#".concat(e.hex),t.fillRect(r,n,a,o),t.fill())},j=function(e,t,r,n){if(t){var s=!Object(o.t)(r.accessibilityData.wcagLevel);(function(e,t,r,n){var o,i,c,s,u=document.createElement("canvas"),l=u.getContext("2d"),h=e.length,b=t?86:30,m=b,d=0,y=40,g=10,j=30,S=a.e.width,P=a.e.height,k=0;for(t||[{singleRowAssets:{members:[1,2,3,4],height:754}},{twoRowAssets:{members:[5,6,7,8],height:754}},{threeRowAssets:{members:[9,10,11,12],height:450}},{fourRowAssets:{members:[13,14,15,16],height:250}}].forEach((function(e){for(var t in e)e[t].members.includes(h)&&(i=e[t].height,"singleRowAssets"!==t&&(S=1600,P=2400))})),[{singleGridAssets:{grid:1,members:[1]}},{twoGridAssets:{grid:2,members:[2]}},{threeGridAssets:{grid:3,members:[3,5,6,9]}},{fourGridAssets:{grid:4,members:[4,7,8,10,11,12,13,14,15,16]}}].forEach((function(e){for(var t in e)e[t].members.includes(h)&&(s=e[t].grid,o=(S-2*b-(s-1)*g)/s)})),u.width=S,u.height=P,l.fillStyle="#ffffff",l.fillRect(0,0,S,P),l.save(),c=0;c<h;c++){l.beginPath();var C=Object(p.f)(e[c]);t?(y=40,g=28,j=125,o=700,i=600,v(u,c,m,d=0,n),d+=j):(d=k,c<s&&(d=j)),E(C,l,m,d,o,i),O(u,m,d=d+i+y+35,C),w(u,m,d=d+43+24-16.5,C),(c+1)%s==0?(k=d+70+4.5,m=b):(m+=o,m+=g)}return t&&(function(e,t,r){e.strokeStyle="#e1e1e1",e.moveTo(t,r),e.lineTo(t+1428,r),e.stroke()}(l,b,d+25+70-25),function(e,t,r,n,a,o){var i=e.getContext("2d"),c="".concat(o({id:function(e){var t="";switch(e){case"FAIL":t="app.explore.downloadActions.downloadJPEG.certificationFailed";break;case"AA":t="app.explore.downloadActions.downloadJPEG.AAcertified";break;case"AAA":t="app.explore.downloadActions.downloadJPEG.AAAcertified"}return t}(n)}));i.font="700 24px adobe-clean",e.style.letterSpacing="0.48px";var s=i.measureText(c).width,u=t-r-12-s;i.lineWidth=2,i.fillStyle="#e1e1e1",function(e,t,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;e.beginPath(),e.moveTo(t+o,r),e.lineTo(t+n-o,r),e.quadraticCurveTo(t+n,r,t+n,r),e.lineTo(t+n,r+a-o),e.quadraticCurveTo(t+n,r+a,t+n-o,r+a),e.lineTo(t+o,r+a),e.quadraticCurveTo(t,r+a,t,r+a-o),e.lineTo(t,r+o),e.quadraticCurveTo(t,r,t,r),e.closePath(),e.stroke()}(i,u-12,a+40,s+24,44,5),i.fillRect(u-12,a+40,s+24,44),i.font="700 28px adobe-clean",i.fillStyle="#030303",e.style.letterSpacing="0.56px",i.fillText("".concat(o({id:"app.explore.downloadActions.downloadJPEG.results"})),r,a+74),i.font="700 24px adobe-clean",e.style.letterSpacing="0.48px",i.fillText(c,u,a+70)}(u,S,b,r,d+25+70-25,n)),function(e,t,r){var n=e.getContext("2d");n.fillStyle="#f7f7f7",n.fillRect(0,t-70,r,70),n.fillStyle="#404040",e.style.letterSpacing="0.96px",n.font="400 16px/20px adobe-clean",n.fillText("color.adobe.com",51,t-27)}(u,P,S),function(e,t,r,n){var a=new Image;return a.src=f.d,new Promise((function(o){a.onload=function(){t.drawImage(a,n-64,r-49,36,36),o(e.toDataURL("image/jpeg"))},a.onerror=function(){o(e.toDataURL("image/jpeg"))}}))}(u,l,P,S)})(r.swatches,s,r.accessibilityData.wcagLevel,n).then((function(t){var n={workflow:Object(o.e)(e[0]),subcategory:e[0],value:r.accessibilityData.colorBlindSafe?"colorBlindSafe":r.accessibilityData.wcagLevel},u=a.e.width,l=a.e.height,f={mimetype:r.assetType,extension:"jpeg"};(f=Object.assign(f,Object(c.a)(r))).size="".concat(u," x ").concat(l),Object(i.a)(a.Eb.DOWNLOAD_AS_JPEG,{event:n,content:f},e),b(t,s?r.name:"AdobeColor-".concat(r.name,".jpeg"),"image/jpeg")}))}else window.adobeIMS&&h(e)}},920:function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return c})),r.d(t,"b",(function(){return s}));var n=r(2);function a(e){return{type:n.H,payload:e}}function o(){return{type:n.kb}}function i(){return{type:n.z}}function c(e){return{type:n.I,payload:e}}function s(e){return{type:n.J,payload:e}}},922:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(0),a=r(29),o=r(3),i=r(929),c=function(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object(a.e)((function(e){return e.user.IMSReady})),c=Object(a.e)((function(e){return e.user.isLoggedIn})),s=Object(a.e)((function(e){return e.libraries})),u=Object(a.e)((function(e){return e.create.isEditWorkflow})),l=Object(a.e)((function(e){return e.colorContrast.isEditWorkflow})),f=u||l,p=Object(a.e)((function(e){return e.criteriaDataCollection[JSON.stringify(s.criteria[0])]})),h=Object(a.d)(),b=!Object(o.t)(p)&&Object(o.b)(p.cclibrary.fetchStatus),m=i.f(0,t),d=[],y="";return Object(n.useEffect)((function(){r&&c&&(h(i.g()),f&&h(i.c()))}),[r,c,f]),b&&(d=p.cclibrary.themeList.slice().sort((function(e,t){return new Date(t.editedAt)-new Date(e.editedAt)})),e||(d=d.filter((function(e){return!e.readOnly}))),d=d.map((function(e){return{name:e.name,id:e.id}}))),{libraries:d,haveLibrariesBeenFetched:b,fetchData:function(e,t){if(r&&c)return h(i.b(e,t)).then((function(e){y=e._links&&e._links.next?i.e(e._links.next.href):null;var t=e.themes.map((function(e){return{name:e.name,id:e.library_urn}})),r={};return r.listData=t,r.hrefNext=y,r}))},initialLibFetchUrl:m}}},923:function(e,t,r){"use strict";var n=r(0),a=r(29),o=r(913),i=r(1),c=r(3),s=function(e){return!(Object(c.t)(e)||0===e.length)},u=function(e,t,r,n){var a="",o="";switch(e){case i.g.THEME:a=r({id:"app.savepanel.enterthemename"}),o=function(e,t){var r="";switch(e){case i.J.ACCESSIBILITY:r=i.O;break;case i.J.IMAGE:r=s(t)?"color theme_".concat(t.split(".")[0]):i.X;break;case i.J.COLOR_CONTRAST:r=i.v;break;default:r=i.X}return r}(t,n);break;case i.g.GRADIENT:a=r({id:"app.savepanel.entergradientname"}),o=s(n)?"gradient_".concat(n.split(".")[0]):i.U}return{placeholder:a,defaultAssetName:o}};t.a=function(e,t,r){var c=Object(a.d)(),s=r?i.J.COLOR_CONTRAST:Object(a.e)((function(e){return e.create.workflow})),l=Object(a.e)((function(e){return e.create.imageName})),f=u(e,s,t.formatMessage,l),p=f.placeholder,h=f.defaultAssetName,b=function(e,t){c(o.h({themeName:e,isUserEnteredName:t}))},m=Object(a.e)((function(e){return e.save.isUserEnteredName})),d=Object(a.e)((function(e){return e.save.themeName}));return Object(n.useEffect)((function(){m&&""!==d||b(h,!1)}),[s,e]),{assetName:d,updateAssetName:b,defaultAssetName:h,placeholder:p}}},924:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return c}));var n=r(1),a=r(30),o=function(e){var t=[],r={};return e.forEach((function(e,a){var o={offset:e.offset,R:parseInt(e.rgb.r*n.z.MAX.RGB.R,10),G:parseInt(e.rgb.g*n.z.MAX.RGB.G,10),B:parseInt(e.rgb.b*n.z.MAX.RGB.B,10)};0===a||e.midpoint!==n.Z&&t.push({offset:"".concat(r.offset+(e.offset-r.offset)*e.midpoint),R:Math.round("".concat((r.R+o.R)/2)),G:Math.round("".concat((r.G+o.G)/2)),B:Math.round("".concat((r.B+o.B)/2))}),r=o,t.push(o)})),t},i=function(e){var t="",r="",o=0;return e.forEach((function(e,i){var c="rgba(".concat(Math.round(e.rgb.r*n.z.MAX.RGB.R),", ").concat(Math.round(e.rgb.g*n.z.MAX.RGB.G),", ").concat(Math.round(e.rgb.b*n.z.MAX.RGB.B),", 1)"),s=Object(a.v)("rgb",Object(a.l)([e.rgb.r*n.z.MAX.RGB.R,e.rgb.g*n.z.MAX.RGB.G,e.rgb.b*n.z.MAX.RGB.B]));if(0===i)t=t.concat("".concat(c," ").concat(100*e.offset,"%")),r=r.concat("#".concat(s," ").concat(100*e.offset,"%")),o=100*e.offset;else{var u=(100*e.offset-o)*e.midpoint,l=o+u;t=t.concat(", ".concat(l,"%, ").concat(c," ").concat(100*e.offset,"%")),r=r.concat(", ".concat(l,"%, #").concat(s," ").concat(100*e.offset,"%")),o=100*e.offset}})),{linearGradientDataRGBA:t,linearGradientDataHEX:r}},c=function(e,t){var r=o(e),n='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'.concat(t.width,'" height="').concat(t.height,'">\n');return n+="<defs>\n",n+='<linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%"> ',r.forEach((function(e,t){n+='<stop offset="'.concat(100*e.offset,'%" style="stop-color:rgb(').concat(e.R,",").concat(e.G,",").concat(e.B,');stop-opacity:1" /> ')})),n+="</linearGradient>\n",n+="</defs>\n",n+='<rect width="'.concat(t.width,'" height="').concat(t.height,'" fill="url(#gradient)"/>\n'),n+="</svg>"}},925:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(3),i=r(1),c=r(748),s=r.n(c);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,r){(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(p(n=t.call(this,e)),"setResetButtonState",(function(e){n.currentMarkerMoved&&(n.currentMarkerMoved=e,n.props.shouldResetBeDisabled(e))})),n.mouseDown=n.mouseDown.bind(p(n)),n.mouseUp=n.mouseUp.bind(p(n)),n.touchStart=n.touchStart.bind(p(n)),n.touchEnd=n.touchEnd.bind(p(n)),n.updateMarkerPosition=n.updateMarkerPosition.bind(p(n)),n.getMarkerPosition=n.getMarkerPosition.bind(p(n)),n.currentMarkerMoved=!1,n}return function(e,t,r){t&&l(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"getMarkerPosition",value:function(e){var t=e;Object(o.t)(e.touches)||0===e.touches.length||(t=e.touches[0]);var r=this.marker.offsetLeft,n=this.marker.offsetTop;this.hitOffset={x:t.pageX-r,y:t.pageY-n,diameter:1,markerRadius:Object(o.l)()},this.props.setActiveSwatch(this.props.id)}},{key:"mouseDown",value:function(e){return!Object(o.s)(e)&&(this.getMarkerPosition(e),document.body.addEventListener("mousemove",this.updateMarkerPosition,{passive:!0}),document.body.addEventListener("mouseup",this.mouseUp),Object(o.A)(!0),!0)}},{key:"touchStart",value:function(e){this.getMarkerPosition(e),document.body.addEventListener("touchmove",this.updateMarkerPosition,{passive:!0}),document.body.addEventListener("touchend",this.touchEnd,{passive:!0}),Object(o.A)(!0)}},{key:"updateMarkerPosition",value:function(e){var t=e;return Object(o.t)(e.touches)||0===e.touches.length||(t=e.touches[0]),{x:(t.pageX-this.hitOffset.x+this.hitOffset.markerRadius)/this.hitOffset.diameter,y:(t.pageY-this.hitOffset.y+this.hitOffset.markerRadius)/this.hitOffset.diameter}}},{key:"mouseUp",value:function(e){document.body.removeEventListener("mousemove",this.updateMarkerPosition),document.body.removeEventListener("mouseup",this.mouseUp),Object(o.A)(!1)}},{key:"touchEnd",value:function(e){document.body.removeEventListener("touchmove",this.updateMarkerPosition),document.body.removeEventListener("touchend",this.touchEnd),Object(o.A)(!1)}},{key:"children",value:function(){return""}},{key:"render",value:function(){var e=this,t=this.props.id===this.props.activeSwatch?s.a.activeMarker:s.a.marker;switch(this.props.assetType){case i.g.GRADIENT:t=s.a.gradientMarker}if(!Object(o.t)(this.props.markerType))switch(this.props.markerType){case i.vb.MIDPOINT:t=s.a.gradientMidpointMarker;break;case i.vb.COLORSTOP:t=this.props.isCreate?[this.props.order[this.props.id]===this.props.activeSwatch?s.a.gradientCreateColorStopMarkerActive:s.a.gradientCreateColorStopMarker]:s.a.gradientOneUpColorStopMarker}return a.a.createElement("div",{className:t,onMouseDown:this.mouseDown,onTouchStart:this.touchStart,onMouseOver:this.mouseOver,onMouseOut:this.mouseOut,ref:function(t){e.marker=t}},this.children())}}]),r}();t.a=m},928:function(e,t,r){"use strict";r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return b})),r.d(t,"e",(function(){return m})),r.d(t,"a",(function(){return d})),r.d(t,"f",(function(){return w})),r.d(t,"g",(function(){return j})),r.d(t,"h",(function(){return S})),r.d(t,"b",(function(){return P})),r.d(t,"j",(function(){return k})),r.d(t,"i",(function(){return C}));var n=r(1),a=r(75),o=r(3),i=r(914),c=r(121),s=r(30),u=r(49),l=r(741);function f(e){var t=e.user,r={"x-api-key":config("CLIENT_ID")};return t.isLoggedIn&&(r.Authorization="Bearer ".concat(t.token)),r}function p(e,t,r,a){var o=function(e){return e.themes=e.libraries,delete e.libraries,e}(e);o.oldThemes=t,a(Object(i.d)(r,n.p,o)),a(Object(i.f)(r,n.p))}function h(e,t){return function(r,c){var s=c(),u=s.criteriaDataCollection;if(!Object(o.t)(u[e]))return r(Object(i.h)(e,n.p)),Object(a.d)(t.url,f(s),t.signal).then((function(t){return p(t,u[e].cclibrary.themeList,e,r),c(),t})).catch((function(t){Object(o.w)("fetchAllCCLibraries: ".concat(t));var a=n.h.COMPLETED_WITH_GENERIC_ERROR;return t.response&&t.response.status&&(a=t.response.status),console.log("error ".concat(t)),r(Object(i.g)(e,n.p,a)),[]}))}}function b(e,t){return function(r,c){var s=c(),u=s.criteriaDataCollection;if(!Object(o.t)(u[e]))return r(Object(i.h)(e,n.p)),Object(a.c)(t.firstEndPoint,f(s)).then((function(t){return p(t,u[e].cclibrary.themeList,e,r),c().criteriaDataCollection[e].cclibrary.themeList})).then((function(n){return Object(a.c)(t.secondEndPoint,f(s)).then((function(t){return p(t,n,e,r),c().criteriaDataCollection[e].cclibrary.themeList}))})).catch((function(t){Object(o.w)("fetchCCLibraries: ".concat(t));var a=n.h.COMPLETED_WITH_GENERIC_ERROR;return t.response&&t.response.status&&(a=t.response.status),console.log("error ".concat(t)),r(Object(i.g)(e,n.p,a)),[]}))}}function m(e,t){return function(r,c){var s=c(),u=s.criteriaDataCollection;if(s.user,!Object(o.t)(u[e])&&u[e].cclibrary.fetchStatus!==n.h.REQUESTED)return r(Object(i.h)(e,n.p)),function(e,t){return Object(a.c)(e,t).then((function(e){return e.elements})).catch((function(e){return Object(o.w)("fetchCCLibraryAssets: ".concat(e)),[]}))}(t.endPointTheme,f(s)).then((function(t){var a=[],o=[];t.forEach((function(e){switch(e.type){case n.Ec:a.push(e);break;case n.tb:n.Mb||o.push(e)}}));var c={themes:a,oldThemes:u[e].cclibrary.themeList,gradients:o};r(Object(i.f)(e,n.p)),r(Object(i.d)(e,n.p,c))})).catch((function(t){Object(o.w)("fetchCCLibraryThemeList: ".concat(t));var a=n.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(a=t.response.status),console.log("error ".concat(t)),r(Object(i.g)(e,n.p,a))}))}}function d(e){return function(t,r){var c=f(r()),s=r().libraries.criteria,u=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,l=config("CCLIBRARIES_ENDPOINT").librariesApi,p="".concat(u).concat(l);return c=Object.assign(c,{Accept:"application/json","Content-Type":"application/json"}),Object(a.e)(p,c,{name:e.libraryName}).then((function(e){var r={themes:[e]};return s.forEach((function(e){return t(Object(i.a)(JSON.stringify(e),n.p,r))})),{name:e.name,id:e.library_urn}})).catch((function(e){Object(o.w)("createNewLibrary: ".concat(e)),console.log("error ".concat(e))}))}}function y(e){var t=e.criteriaDataCollection,r=e.libraries,a=(e.user,r.criteria),o=null;return(void 0===t[JSON.stringify(a[0])]?[]:t[JSON.stringify(a[0])].cclibrary.themeList.slice().reverse()).some((function(e){return!!(isNaN(e.totalElements)||e.totalElements<n.r)&&(o=e,!0)})),o}function g(e){var t={};return Object(c.a)(e)&&(e.isSpotColor?t.type="spot":t.type="process",t.spotColorName="PANTONE ".concat(e.pantone)),t}function v(e){var t=[],r=e.swatches,a=e.colorMode;return r.forEach((function(e){var r=[],o={};a.toUpperCase()!==n.V&&r.push(function(e,t){var r={};switch(t){case n.x.CMYK:r.mode=n.y.CMYK,r.value={c:parseInt(Math.round(e.cmyk.c*n.z.MAX.CMYK.C),10),m:parseInt(Math.round(e.cmyk.m*n.z.MAX.CMYK.M),10),y:parseInt(Math.round(e.cmyk.y*n.z.MAX.CMYK.Y),10),k:parseInt(Math.round(e.cmyk.k*n.z.MAX.CMYK.K),10)};break;case n.x.HSV:r.mode=n.y.HSB,r.value={h:parseInt(Math.round(e.hsv.h*n.z.MAX.HSV.H),10),s:parseInt(Math.round(e.hsv.s*n.z.MAX.HSV.S),10),b:parseInt(Math.round(e.hsv.v*n.z.MAX.HSV.V),10)};break;case n.x.LAB:var a=Object(s.e)([e.lab.l,e.lab.a,e.lab.b]);r.mode=n.y.LAB,r.value={l:Math.round(a[0]),a:Math.round(a[1]),b:Math.round(a[2])}}return Object.assign(r,g(e)),r}(e,a)),o.mode=n.y.RGB,o.value={r:parseInt(Math.round(e.rgb.r*n.z.MAX.RGB.R),10),g:parseInt(Math.round(e.rgb.g*n.z.MAX.RGB.G),10),b:parseInt(Math.round(e.rgb.b*n.z.MAX.RGB.B),10)},Object.assign(o,g(e)),r.push(o),t.push(r)})),t}function O(e,t,r){return function(c,s){if(null!==y(s())){var u=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,l=config("CCLIBRARIES_ENDPOINT").librariesApi,p=config("CCLIBRARIES_ENDPOINT").themesApi,h=s().save,b=Object(o.t)(h.library)?y(s()):h.library,m="".concat(u).concat(l,"/").concat(b.id).concat(p),d=f(s()),g={};switch(d=Object.assign(d,{Accept:"application/json","Content-Type":"application/json"}),r){case n.g.GRADIENT:g=t.gradient;break;default:g=t.theme}return Object(a.e)(m,d,function(e,t){var r={name:e.name,client:{deviceId:window.adobeUserProfile.userId.split("@")[0],device:"".concat(window.navigator.platform,"_").concat(platform.os.version),app:"COLOR-".concat(n.d)},representations:[]},a={};switch(t){case n.g.GRADIENT:r.type=n.tb,a=function(e,t){var r={rel:"primary"};return r.type=n.wb,r[t]={interpolation:e.interpolation,angle:e.angle,aspectRatio:e.aspectRatio,type:e.type,stops:e.stops},r}(e,n.ub);break;case n.g.THEME:r.type=n.Ec,a=function(e,t){var r={rel:"primary"};return r.type=n.Ic,r[t]={baseSwatchIndex:e.harmony.baseSwatchIndex,mood:e.harmony.mood,rule:e.harmony.rule,swatches:v(e),tags:e.tags.map((function(e){return e.value}))},e.accessibilityData&&(r[t].accessibilityData=e.accessibilityData),r}(e,n.Fc)}return r.representations.push(a),r}(g,r)).then((function(r){return c(Object(i.e)(e,g.source,t)),{response:r,libraryName:b.name}})).catch((function(e){throw Object(o.w)("saveAssetToCCLibrary: ".concat(e)),console.log("error ".concat(e)),e}))}console.error("All Libraries full. User needs to create new library")}}function w(e,t,r){return function(n,a){return function(e){var t=e.criteriaDataCollection,r=e.libraries.criteria,n=t[JSON.stringify(r[0])],a=[];return n&&(a=n.cclibrary.themeList),0===a.length}(a())?n(d({libraryName:"My Library"})).then((function(){n(O(e,t,r))})):n(O(e,t,r))}}function E(e,t){var r=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,n=config("CCLIBRARIES_ENDPOINT").librariesApi,i=config("CCLIBRARIES_ENDPOINT").themesApi,c=config("CCLIBRARIES_ENDPOINT").metadataApi,s=e.cclibraryThemeUpdateLibId,u="".concat(r).concat(n,"/").concat(s).concat(i).concat(c),l=t;return l=Object.assign(l,{Accept:"application/json","Content-Type":"application/json"}),Object(a.i)(u,l,JSON.stringify(function(e){var t={elements:[]},r={id:e.cclibraryThemeUpdateAssetId};return void 0!==e.name&&(r.name=e.name),t.elements.push(r),t}(e))).then((function(e){return{response:e}})).catch((function(e){Object(o.w)("updateAssetMetadata: ".concat(e))}))}function j(e){return function(t,r){return E(e,f(r()))}}function S(e,t){return function(r,c){var s=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,p=config("CCLIBRARIES_ENDPOINT").librariesApi,h=config("CCLIBRARIES_ENDPOINT").themesApi,b=t.cclibraryThemeUpdateLibId,m="".concat(s).concat(p,"/").concat(b).concat(h,"/").concat(t.cclibraryThemeUpdateAssetId,"/representations"),d=f(c()),y=u.a;return d=Object.assign(d,{Accept:"application/json","Content-Type":"application/json"}),(y=Object.assign(y,t)).id=t.cclibraryThemeUpdateAssetId,y.source=n.p,y.uniqueID=Object(l.a)(),Object(a.h)(m,d,JSON.stringify(function(e){var t={client:{deviceId:window.adobeUserProfile.userId.split("@")[0],device:"".concat(window.navigator.platform,"_").concat(platform.os.version),app:"COLOR-".concat(n.d)},type:"application/vnd.adobe.element.colortheme+dcx",representations:[]},r={rel:"primary",type:"application/vnd.adobe.colortheme+json","colortheme#trackingdata":"color-web-service","colortheme#optype":"colorThemePanel"};return r["colortheme#data"]={baseSwatchIndex:e.harmony.baseSwatchIndex,mood:e.harmony.mood,rule:e.harmony.rule,swatches:v(e),tags:e.tags.map((function(e){return e.value}))},e.accessibilityData&&(r["colortheme#data"].accessibilityData=e.accessibilityData),t.representations.push(r),t}(t))).then((function(a){return a.id=y.id,E(t,f(c())),r(Object(i.i)(JSON.stringify(e),n.p,y)),{response:a,libraryName:b.name}})).catch((function(e){Object(o.w)("updateCCLibraryTheme: ".concat(e))}))}}function P(e,t){return function(r,n){var c=f(n()),s=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,u=config("CCLIBRARIES_ENDPOINT").librariesApi,l=config("CCLIBRARIES_ENDPOINT").themesApi,p="".concat(s).concat(u,"/").concat(JSON.parse(e).main).concat(l,"/").concat(t.id);return c=Object.assign(c,{Accept:"application/json","Content-Type":"application/json"}),Object(a.b)(p,c).then((function(n){return r(Object(i.c)(e,t.source,t)),{response:n,themeName:t.name}})).catch((function(e){Object(o.w)("deletePrivateTheme: ".concat(e))}))}}function k(e,t){return Object(i.n)(e,n.p,t)}function C(e,t){return Object(i.k)(e,n.p,t)}},929:function(e,t,r){"use strict";r.d(t,"f",(function(){return s})),r.d(t,"e",(function(){return u})),r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return f})),r.d(t,"d",(function(){return p})),r.d(t,"g",(function(){return h})),r.d(t,"a",(function(){return b}));var n=r(1),a=r(918),o=r(3),i={sources:[n.p],criteria:[{main:"libraries"}]};function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.hb.LAST_MODIFIED,r=config("CCLIBRARIES_ENDPOINT"),a=r.melvilleBasePath,o=r.librariesApi,i=t===n.hb.LAST_MODIFIED?n.Yb:n.gc;return"".concat(a).concat(o,"?start=").concat(e,"&limit=").concat(n.bc,"&selector=details&orderBy=").concat(i,"&toolkit=none")}function s(e,t){var r=config("CCLIBRARIES_ENDPOINT"),a=r.melvilleBasePath,o=r.librariesApi,i=n.Yb,c="".concat(a).concat(o,"?start=").concat(e,"&limit=").concat(n.bc,"&orderBy=").concat(i,"&toolkit=none");return t?c:"".concat(c,"&selector=details")}function u(e){var t=config("CCLIBRARIES_ENDPOINT").melvilledomainPath;return"".concat(t).concat(e,"&toolkit=none")}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.hb.LAST_MODIFIED;return function(t,r){var i=r().libraries.criteria,s=r().criteriaDataCollection,u=0;Object(o.t)(s[JSON.stringify(i[0])])||(u=s[JSON.stringify(i[0])].cclibrary.startIndex);var l=c(u,e),f=c(u+n.bc,e);return t(a.m(JSON.stringify(i[0]),l,f))}},f=function(e,t){return function(r,n){var o=n().libraries.criteria;return n().criteriaDataCollection,r(a.i(JSON.stringify(o[0]),e,t))}},p=function(){return function(e,t){var r=t().libraries.criteria,n=t().criteriaDataCollection;return Object(o.t)(n[JSON.stringify(r[0])])?[]:n[JSON.stringify(r[0])].cclibrary.themeList}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return function(t){return t(a.p(n.Zb,e))}},b=function(){return function(e,t){var r=t().libraries.criteria;return e(a.e(JSON.stringify(r[0])))}}},931:function(e,t,r){"use strict";var n,a=r(1);function o(e,t){this.worker=new Worker(e),this.worker.addEventListener("message",this.onmessage.bind(this)),this.thisThreadPool=t,this.callback=null}function i(e,t){this.threads=[],this.tasks=[];for(var r=0;r<t;r++)this.threads.push(new o(e,this))}o.prototype.run=function(e){this.worker.postMessage(e.task),this.callback=e.callback},o.prototype.onmessage=function(e){this.callback(e.data),this.callback=null,this.thisThreadPool.afterTask(this)},i.prototype.queueTask=function(e){var t={task:e.startMessage,callback:e.onExtractionComplete};this.threads.length>0?this.threads.shift().run(t):this.tasks.push(t)},i.prototype.afterTask=function(e){this.tasks.length>0?e.run(this.tasks.shift()):this.threads.push(e)},i.prototype.clearQueue=function(){this.tasks.length=0},n="undefined"==typeof window?{clearQueue:function(){console.log("Clear Queue")},queueTask:function(){console.log("Queue Task")}}:new i("/extract.js",a.Kc),t.a=n},932:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(924),i=r(3),c=r(1),s=r(22),u=r(122),l=r(7),f=r(30),p=r(99),h=r(29),b=r(58),m=r(51),d=r.n(m),y=r(744),g=r.n(y),v=r(208),O=r.n(v),w=r(925);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}}function k(e,t){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(){return(N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}}).apply(this,arguments)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,r){return(t=R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===E(t)?t:String(t)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(r,w.a);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=T(e);if(t){var a=T(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}(this,r)}}(r);function r(e){var n,o,f,p,h;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),I(C(h=t.call(this,e)),"onClick",(function(e){Object(i.h)("#".concat(e)).then((function(){var t={workflow:Object(i.e)(h.props.themeData.ingestWorkflow[0]),subcategory:c.Gb.ONEUP,value:"#".concat(e)},r=Object(u.a)(h.props.themeData);h.props.notification({variant:c.Bc,message:a.a.createElement(l.a,{id:"app.oneupactions.toast.success.message"})}),Object(s.a)(c.Eb.COPY_HEX,{content:r,event:t},[c.Gb.ONEUP])})).catch((function(e){h.props.notification({variant:c.kb,message:a.a.createElement(l.a,{id:"app.oneupactions.toast.error.message"})})}))})),I(C(h),"mouseDown",(function(e){e.stopPropagation(),e.preventDefault(),h.props.isCreate?N((n=C(h),T(r.prototype)),"mouseDown",n).call(n,e):h.props.isOneUp&&h.onClick(h.props.stop.hex)})),I(C(h),"touchStart",(function(e){e.stopPropagation(),e.preventDefault(),h.props.isCreate?N((o=C(h),T(r.prototype)),"touchStart",o).call(o,e):h.props.isOneUp&&h.onClick(h.props.stop.hex)})),I(C(h),"mouseOver",(function(e){h.props.isOneUp&&h.props.setActiveSwatch(h.props.id)})),I(C(h),"mouseOut",(function(e){h.props.isOneUp&&h.props.setActiveSwatch(-1)})),I(C(h),"updateMarkerPosition",(function(e){var t,r=e;Object(i.t)(e.touches)||0===e.touches.length||(r=e.touches[0]),t=r.pageX-h.hitOffsetX+h.radius,t=Math.round(t);var n=(t=Math.min(h.props.canvas.width-1,Math.max(0,t)))/h.props.canvas.width,a=n>.998?1:n,o=-1===h.leftMarkerPos?h.props.stops[h.thisMarkerPos].midpoint:h.props.stops[h.leftMarkerPos].offset+(a-h.props.stops[h.leftMarkerPos].offset)*h.props.stops[h.thisMarkerPos].midpoint,s=-1===h.rightMarkerPos?"":a+(h.props.stops[h.rightMarkerPos].offset-a)*h.props.stops[h.rightMarkerPos].midpoint,u=h.props.order.indexOf(h.thisMarkerPos),l=!1;if(h.props.setSwatch({i:h.thisMarkerPos,swatch:{offset:a,positionOfMidpoint:o},assetType:c.g.GRADIENT}),-1!==h.rightMarkerPos&&h.props.setSwatch({i:h.rightMarkerPos,swatch:{midpoint:h.props.stops[h.rightMarkerPos].midpoint,positionOfMidpoint:s},assetType:c.g.GRADIENT}),-1!==h.leftMarkerPos&&a<=h.props.stops[h.leftMarkerPos].offset?(h.props.swapStopsAndMarkersOrder({source:u,destination:u-1}),h.leftMarkerPos=1===u?-1:h.props.order[u-2],h.rightMarkerPos=h.props.order[u],l=!0):-1!==h.rightMarkerPos&&a>=h.props.stops[h.rightMarkerPos].offset&&(h.props.swapStopsAndMarkersOrder({source:u,destination:u+1}),h.leftMarkerPos=h.props.order[u],h.rightMarkerPos=u===h.props.stops.length-2?-1:h.props.order[u+2],l=!0),l){var f=0,p=0;h.props.order.forEach((function(e,t){var r=h.props.stops[e];0!==t&&(p=f+(r.offset-f)*r.midpoint),h.props.setSwatch({i:e,swatch:{positionOfMidpoint:p},assetType:c.g.GRADIENT}),f=r.offset})),h.props.drawConnectingLines}h.currentMarkerMoved=!0})),I(C(h),"getMarkerPosition",(function(e){var t=e;Object(i.t)(e.touches)||0===e.touches.length||(t=e.touches[0]),h.hitOffsetX=t.pageX-h.marker.offsetLeft,h.thisMarkerPos=h.props.order[h.props.id],h.leftMarkerPos=0===h.props.id?-1:h.props.order[h.props.id-1],h.rightMarkerPos=h.props.id===h.props.stops.length-1?-1:h.props.order[h.props.id+1],h.props.setActiveSwatch(h.props.order[h.props.id])})),I(C(h),"mouseUp",(function(e){h.props.isCreate&&(N((f=C(h),T(r.prototype)),"mouseUp",f).call(f,e),h.sendMarkerMoveIngestEvent(),h.setResetButtonState(!1),h.props.setActiveSwatch(-1))})),I(C(h),"touchEnd",(function(e){h.props.isCreate&&(N((p=C(h),T(r.prototype)),"touchEnd",p).call(p,e),h.sendMarkerMoveIngestEvent(),h.setResetButtonState(!1),h.props.setActiveSwatch(-1))})),h.radius=parseInt(d.a.colorStopRadius,10),h.colorStopOneUpDiameter=d.a.colorStopOneUpDiameter,h.colorStopCreateDiameter=d.a.colorStopDiameter,h.colorStopCreateDiameterActive=d.a.colorStopDiameterActive,h}return function(e,t,r){t&&P(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"paint",value:function(){if(this.props.isOneUp){var e="rgb(",t=Math.round("".concat(100*this.props.stop.offset)),r=S({},this.props.stop.rgb);e=e.concat("".concat(parseInt(r.r*c.z.MAX.RGB.R,10),",")," ".concat(parseInt(r.g*c.z.MAX.RGB.G,10),",")," ".concat(parseInt(r.b*c.z.MAX.RGB.B,10),")")),this.marker.style.backgroundColor=e,this.marker.style.top="calc(50% - ".concat(this.colorStopOneUpDiameter/2,"px)"),this.hexValue.textContent="#".concat(this.props.stop.hex),this.copyHexContainer.style.color=Object(f.q)(r)>c.yb.RGB?"".concat(O.a.oneUpThemeDetailsTextColorDark):"".concat(O.a.oneUpThemeDetailsTextColorLight),0===Math.round(t)?this.marker.style.left="calc(".concat(t,"% + 1px)"):100===Math.round(t)?(this.marker.style.left="calc(".concat(t,"% - ").concat(this.colorStopOneUpDiameter,"px - 1px)"),this.copyHexContainer.style.marginLeft="-40px"):(this.marker.style.left="calc(".concat(t,"% - ").concat(this.colorStopOneUpDiameter/2,"px)"),this.copyHexContainer.style.marginLeft="-15px")}else if(this.props.isCreate&&this.props.order.length>0){this.colorStop=this.props.stops[this.props.order[this.props.id]];var n="rgba(",a="".concat(100*this.colorStop.offset),o=S({},this.colorStop.rgb);n=n.concat("".concat(o.r,", ").concat(o.g,", ").concat(o.b,", 1)")),this.marker.style.backgroundColor=n,this.marker.style.top="calc(50% - ".concat(this.colorStopCreateDiameter/2,"px)"),this.marker.style.left="calc(".concat(a,"% - ").concat(this.colorStopCreateDiameter/2,"px)"),this.marker.style.borderColor=O.a.defaultGradientColorStopBorder,this.props.activeSwatch===this.props.order[this.props.id]&&(this.marker.style.top="calc(50% - ".concat(this.colorStopCreateDiameterActive/2,"px)"),this.marker.style.left="calc(".concat(a,"% - ").concat(this.colorStopCreateDiameterActive/2,"px)"),this.marker.style.borderColor=O.a.selectedGradientColorStopBorder)}}},{key:"componentDidMount",value:function(){this.paint()}},{key:"componentDidUpdate",value:function(){this.paint()}},{key:"sendMarkerMoveIngestEvent",value:function(){var e={workflow:Object(i.e)(c.I),subcategory:"".concat(c.Gb.GRADIENT,"_").concat(c.Gb.OFFSET,"_").concat(c.Gb.MARKER)};Object(s.a)(c.Eb.MARKER_MOVE,{event:e},[c.Gb.OFFSET])}},{key:"children",value:function(){var e=this;return a.a.createElement("div",{className:g.a.copyHexContainer,ref:function(t){e.copyHexContainer=t}},a.a.createElement("div",{className:g.a.copy},a.a.createElement(l.a,{id:"app.oneup.copy"})),a.a.createElement("div",{className:g.a.hex,ref:function(t){e.hexValue=t}}))}}]),r}();x.defaultProps={markerType:c.vb.COLORSTOP};var A=Object(h.b)((function(e){var t=e.create;return{stops:t.swatches,order:t.order,activeSwatch:t.activeSwatch}}),(function(e){return Object(b.b)({setSwatch:p.setSwatch,swapStopsAndMarkersOrder:p.swapStopsAndMarkersOrder,setActiveSwatch:p.setActiveSwatch},e)}))(x),_=r(24);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W(n.key),n)}}function M(e,t){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(){return(U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=G(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}}).apply(this,arguments)}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,r){return(t=W(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W(e){var t=function(e,t){if("object"!==D(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===D(t)?t:String(t)}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(r,w.a);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=G(e);if(t){var a=G(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}(this,r)}}(r);function r(e){var n,a,o,s,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),F(B(u=t.call(this,e)),"mouseDown",(function(e){e.stopPropagation(),e.preventDefault(),U((n=B(u),G(r.prototype)),"mouseDown",n).call(n,e),u.props.setActiveSwatch(100)})),F(B(u),"touchStart",(function(e){e.stopPropagation(),e.preventDefault(),U((a=B(u),G(r.prototype)),"touchStart",a).call(a,e),u.props.setActiveSwatch(100)})),F(B(u),"updateMarkerPosition",(function(e){var t,r=e;Object(i.t)(e.touches)||0===e.touches.length||(r=e.touches[0]),t=r.pageX-u.hitOffsetX+1,t=Math.round(t);var n=(t=Math.min(u.props.canvas.width-1,Math.max(0,t)))/u.props.canvas.width,a=(n-u.props.stops[u.props.order[u.props.id-1]].offset)/(u.props.stops[u.props.order[u.props.id]].offset-u.props.stops[u.props.order[u.props.id-1]].offset);n>u.props.stops[u.props.order[u.props.id-1]].offset&&n<u.props.stops[u.props.order[u.props.id]].offset&&u.props.setSwatch({i:u.props.order[u.props.id],swatch:{midpoint:a,positionOfMidpoint:n},assetType:c.g.GRADIENT}),u.currentMarkerMoved=!0})),F(B(u),"getMarkerPosition",(function(e){var t=e;Object(i.t)(e.touches)||0===e.touches.length||(t=e.touches[0]),u.hitOffsetX=t.pageX-u.marker.offsetLeft})),F(B(u),"mouseUp",(function(e){U((o=B(u),G(r.prototype)),"mouseUp",o).call(o,e),u.sendMarkerMoveIngestEvent(),u.setResetButtonState(!1),u.props.setActiveSwatch(-1)})),F(B(u),"touchEnd",(function(e){U((s=B(u),G(r.prototype)),"touchEnd",s).call(s,e),u.sendMarkerMoveIngestEvent(),u.setResetButtonState(!1),u.props.setActiveSwatch(-1)})),u.radius=parseInt(d.a.colorStopRadius,10),u}return function(e,t,r){t&&L(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"paint",value:function(){if(this.props.isCreate&&this.props.order.length>0){this.colorStop=this.props.stops[this.props.order[this.props.id]];var e="".concat(100*this.colorStop.positionOfMidpoint);this.marker.style.left="calc(".concat(e,"% - ").concat(d.a.midpointHeight/2,"px)"),this.marker.style.top="calc(50% - ".concat(d.a.midpointHeight/2,"px)")}}},{key:"componentDidMount",value:function(){this.paint()}},{key:"componentDidUpdate",value:function(){this.paint()}},{key:"sendMarkerMoveIngestEvent",value:function(){var e={workflow:Object(i.e)(c.I),subcategory:"".concat(c.Gb.GRADIENT,"_").concat(c.Gb.MIDPOINT,"_").concat(c.Gb.MARKER)};Object(s.a)(c.Eb.MARKER_MOVE,{event:e},[c.Gb.MIDPOINT])}},{key:"children",value:function(){return a.a.createElement("img",{src:_.z,className:g.a.midpointMarker})}}]),r}();H.defaultProps={markerType:c.vb.MIDPOINT};var z=Object(h.b)((function(e){var t=e.create;return{stops:t.swatches,order:t.order}}),(function(e){return Object(b.b)({setSwatch:p.setSwatch,setActiveSwatch:p.setActiveSwatch},e)}))(H);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q(n.key),n)}}function q(e){var t=function(e,t){if("object"!==V(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===V(t)?t:String(t)}function X(e,t){return(X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=K(e);if(t){var a=K(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).state={gradientRendered:!1},n}return function(e,t,r){t&&J(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidMount",value:function(){this.canvas.width=this.gradientContainer.offsetWidth,this.canvas.height=this.gradientContainer.offsetHeight,this.setState({gradientRendered:!0})}},{key:"componentWillUnmount",value:function(){this.props.gradientProps.isOneUp&&(this.props.gradientProps.isOneUp=!1)}},{key:"setColorStopsMarkers",value:function(){var e=this,t=[],r=this.props.gradientProps,n=r.isCreate,o=r.isOneUp;return n?Object(i.t)(this.props.order)||this.props.order.length!==this.props.stops.length||this.props.order.forEach((function(r,i){t.push(a.a.createElement(A,{key:i,id:i,canvas:e.canvas,isCreate:n,isOneUp:o,notification:e.props.notification,shouldResetBeDisabled:e.props.shouldResetBeDisabled,drawConnectingLines:e.drawConnectingLines}))})):this.props.stops.forEach((function(r,i){t.push(a.a.createElement(A,{key:i,id:i,canvas:e.canvas,stop:r,themeData:e.props.themeData,isCreate:n,isOneUp:o,notification:e.props.notification}))})),t}},{key:"setMidpointMarkers",value:function(){var e=this,t=[];return Object(i.t)(this.props.order)||this.props.order.length!==this.props.stops.length||this.props.order.forEach((function(r,n){0!==n&&t.push(a.a.createElement(z,{key:n,id:n,canvas:e.canvas,themeData:e.props.themeData,isCreate:e.props.gradientProps.isCreate,shouldResetBeDisabled:e.props.shouldResetBeDisabled}))})),t}},{key:"drawConnectingLine",value:function(){var e=this.canvas.getContext("2d");e.beginPath(),e.moveTo(0,this.canvas.height/2),e.lineTo(this.canvas.width,this.canvas.height/2),e.strokeStyle="#FFFFFF",e.lineWidth=2,e.stroke()}},{key:"render",value:function(){var e=this,t={},r=this.props,n=r.gradientProps,i=r.stops;if("linear"===n.type&&i.length>1){var c=Object(o.b)(i).linearGradientDataRGBA;t.background="linear-gradient(".concat(n.angle+90,"deg, ").concat(c,")")}return a.a.createElement("div",{className:g.a.gradientContainer,ref:function(t){e.gradientContainer=t}},a.a.createElement("canvas",{className:n.isSave?g.a.gradientCanvasSavePanel:g.a.gradientCanvas,style:t,ref:function(t){e.canvas=t}}),(n.isCreate&&!n.isSave||n.isOneUp)&&this.state.gradientRendered&&this.setColorStopsMarkers(),n.isCreate&&!n.isSave&&this.state.gradientRendered&&this.setMidpointMarkers(),n.isCreate&&!n.isSave&&this.state.gradientRendered&&this.drawConnectingLine())}}]),r}();t.a=Y},933:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"e",(function(){return f})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return h})),r.d(t,"f",(function(){return m})),r.d(t,"h",(function(){return d})),r.d(t,"b",(function(){return y})),r.d(t,"g",(function(){return g}));var n=r(1),a=r(75),o=r(914),i=r(2),c=r(3);function s(e){return Object(o.b)(e,n.Qb)}function u(e){var t=e.user,r={"x-api-key":config("KULER_ENDPOINT").clientId};return t.isLoggedIn&&(r.Authorization="Bearer ".concat(t.token)),r}function l(e){var t=e.user,r={"x-api-key":config("ETHOS_ENDPOINT").clientId};return t.isLoggedIn&&(r.Authorization="Bearer ".concat(t.token)),r}function f(e,t,r){return t.hasNextPageForKuler.hasNextPage}function p(e,t){return function(r,i){var c=i();r(Object(o.h)(e,n.Qb)),Object(a.c)(t.endPoint,l(c)).then((function(t){var a={themes:[t]};r(Object(o.d)(e,n.Qb,a)),r(Object(o.f)(e,n.Qb))})).catch((function(t){var a=n.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(a=t.response.status),console.log("error ".concat(t)),r(Object(o.g)(e,n.Qb,a))}))}}function h(e,t,r){return function(s,f){var p=f(),h=p.criteriaDataCollection,b=r?l(p):u(p);Object(c.t)(h[e])||h[e].kuler.fetchStatus===n.h.REQUESTED||(s(Object(o.h)(e,n.Qb)),Object(a.c)(t.endPoint,b).then((function(t){s(Object(o.d)(e,n.Qb,t)),s(function(e,t,r){return{type:i.h,payload:r,srcName:t,criteria:e}}(e,n.Qb,t.hasNextPage)),s(Object(o.f)(e,n.Qb))})).catch((function(t){var r=n.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(r=t.response.status),console.log("error ".concat(t)),s(Object(o.g)(e,n.Qb,r))})))}}function b(e){var t=e.swatches,r=e.colorMode,a=[];return t.forEach((function(e){var t={};t.mode=r.toLowerCase(),t.values=function(e,t){switch(t){case n.x.RGB:return[e.rgb.r,e.rgb.g,e.rgb.b];case n.x.CMYK:return[e.cmyk.c,e.cmyk.m,e.cmyk.y,e.cmyk.k];case n.x.HSV:return[e.hsv.h,e.hsv.s,e.hsv.v];case n.x.LAB:return[e.lab.l,e.lab.a,e.lab.b]}return otherMode}(e,r),a.push(t)})),a}function m(e,t){return function(r,n){var i=u(n()),c=l(n()),s={Accept:"application/json, text/javascript, */*","Content-Type":"application/json"},f=config("KULER_ENDPOINT").basePath,p=config("ETHOS_ENDPOINT").basePathForB1,h=config("KULER_ENDPOINT").api,m=config("KULER_ENDPOINT").themePath,d="".concat(f).concat(h).concat(m),y="".concat(p).concat(h).concat(m),g=Object.assign({},e),v=n().save;return i=Object.assign(i,s),c=Object.assign(c,s),Object(a.e)(d,i,function(e,t){var r={};return r.name=e.name?e.name:"My Color Theme",r.swatches=b(e),r.assets={assetid:t.id,libraryid:e.libraryid},r.tags=e.tags,r.harmony={baseSwatchIndex:e.harmony.baseSwatchIndex,mood:e.harmony.mood.toLowerCase(),rule:e.harmony.rule.toLowerCase(),sourceURL:""},r}(g,t)).then((function(e){return v.tagsToSave.length>0&&r(function(e){return function(t,r){var n=u(r()),o=r().save.tagsToSave,i=config("KULER_ENDPOINT").basePath,c=config("KULER_ENDPOINT").api,s=config("KULER_ENDPOINT").themePath,l=config("KULER_ENDPOINT").tagsPath,f="".concat(i).concat(c).concat(s,"/").concat(e.id).concat(l);return n=Object.assign(n,{Accept:"application/json, text/javascript, */*","Content-Type":"application/json"}),Object(a.e)(f,n,o).then((function(){return e.name})).catch((function(e){logErrorInNewRelic("saveTags: ".concat(e)),console.error(e)}))}}(e)),t.isPublishToKuler&&r(Object(o.l)({isAssetPublished:!0,uniqueID:t.uniqueID,criteria:t.criteria,srcName:t.srcName,href:"".concat(window.location.origin,"/").concat(e.name.replaceAll(" ","-"),"-color-theme-").concat(e.id),kulerID:e.id})),e})).then((function(e){return Object(a.e)(y,c,function(e,t,r){var n={};return n.referredThemeId=r,n.name=e.name?e.name:"My Color Theme",n.swatches=b(e),n.assets={assetid:t.id,libraryid:e.libraryid},n.tags=e.tags,n.harmony={baseSwatchIndex:e.harmony.baseSwatchIndex,mood:e.harmony.mood.toLowerCase(),rule:e.harmony.rule.toLowerCase(),sourceURL:""},n}(g,t,e.id)),e})).catch((function(e){logErrorInNewRelic("saveThemeToKuler: ".concat(e))}))}}function d(e,t){return function(r,i){var c=u(i()),s=l(i()),f={Accept:"application/json","Content-Type":"application/json"},p=config("KULER_ENDPOINT").basePath,h=config("ETHOS_ENDPOINT").basePathForB2,b=config("KULER_ENDPOINT").api,m=config("KULER_ENDPOINT").themePath,d="".concat(p).concat(b).concat(m,"/").concat(t.id,"/like"),y="".concat(h).concat(m,"/").concat(t.id,"/likeDuplicate"),g="".concat(h).concat(m,"/").concat(t.id,"/like");return c=Object.assign(c,f),s=Object.assign(s,f),t.like.user?Object(a.a)(d,c).then((function(a){JSON.parse(e).main===n.K.EXPLORE.MY_APPRECIATIONS&&r(Object(o.c)(e,t.source,t)),r(Object(o.j)(e,n.Qb,t))})).then((function(e){return Object(a.a)(g,s)})).catch((function(e){console.error("Error while updating status")})):Object(a.e)(d,c,{}).then((function(a){return r(Object(o.j)(e,n.Qb,t))})).then((function(e){return Object(a.e)(y,s,{})})).catch((function(e){console.error("Error while updating status")}))}}function y(e,t){return function(r,i){var c=u(i()),s=l(i()),f={Accept:"application/json","Content-Type":"application/json"},p=config("KULER_ENDPOINT").basePath,h=config("ETHOS_ENDPOINT").basePathForB1,b=config("KULER_ENDPOINT").api,m=config("KULER_ENDPOINT").themePath,d="".concat(p).concat(b).concat(m,"/").concat(t.id),y="".concat(h).concat(b).concat(m,"/").concat(t.id);return c=Object.assign(c,f),s=Object.assign(s,f),Object(a.a)(d,c).then((function(a){return r(Object(o.c)(e,n.Qb,t)),{response:a,themeName:t.name}})).then((function(e){return Object(a.a)(y,s),e})).catch((function(e){logErrorInNewRelic("deletePublishedTheme: ".concat(e)),console.log("error ".concat(e))}))}}function g(e,t){return function(r,n){var i=n();return Object(a.c)(e,l(i)).then((function(e){return e.themes.length>0?r(Object(o.l)({isAssetPublished:!0,uniqueID:t.uniqueID,criteria:t.criteria,srcName:t.srcName,href:e.themes[0].href,kulerID:e.themes[0].id})):r(Object(o.l)({isAssetPublished:!1,uniqueID:t.uniqueID,criteria:t.criteria,srcName:t.srcName}))})).catch((function(e){console.log("error ".concat(e))}))}}},934:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(7),i=r(58),c=r(29),s=r(964),u=r.n(s),l=r(1),f=r(37),p=r.n(f),h=r(47),b=r.n(h),m=r(3),d=r(913),y=r(750),g=r.n(y);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}}function w(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=j(e);if(t){var a=j(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.apply(this,arguments)}return function(e,t,r){t&&O(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a,{className:g.a.tooltip,placement:l.Mb?"right":"bottom",trigger:Object(m.E)()},a.a.createElement(u.a,{className:g.a.publishSwitcher,onChange:function(t){return e.props.setPublishToKuler(t)},checked:this.props.publish,label:this.props.intl.formatMessage({id:"app.savepanel.publishtocolor"}),disabled:this.props.disabled}),a.a.createElement(b.a,{variant:"info"},a.a.createElement("div",{className:g.a.publishSwitcherTooltipTitle},a.a.createElement(o.a,{id:"app.savepanel.publishswitcher.title.tooltip"})),a.a.createElement("div",{className:g.a.publishSwitcherTooltipInfo},a.a.createElement(o.a,{id:"app.savepanel.publishswitcher.info.tooltip",values:{name:this.props.themeName}})))))}}]),r}(),P=Object(c.b)((function(e){var t=e.save;return{locale:e.user.locale,publish:t.publishToKuler,themeName:t.themeName}}),(function(e){return Object(i.b)({setPublishToKuler:d.g},e)}))(S),k=Object(o.e)(P),C=r(943),N=r(36),T=r.n(N),I=r(100),R=r.n(I),x=r(743),A=r.n(x),_=Object(o.e)(Object(n.memo)((function(e){var t=e.assetName,r=e.placeholder,n=e.isSwatchesEmpty,i=e.updateAssetName;return a.a.createElement("div",{className:A.a.savePanelRow},a.a.createElement(o.a,{id:"app.savepanel.name"}),a.a.createElement(R.a,{className:A.a.themeName,quiet:!0,placeholder:r,value:t,onChange:function(e){return i(e,!0)},disabled:n}))}))),D=r(948);t.a=Object(o.e)((function(e){var t=e.intl,r=e.children,n=e.showLargeView,i=e.ingestWorkflow,c=e.closeDialog,s=e.isUserLoggedIn,u=e.isEditWorkflow,l=e.isSwatchesEmpty,f=e.usageMessage,p=e.isAllowedToPublish,h=e.signintocreativecloudmessage,b=e.message,m=e.tags,d=e.updateAssetName,y=e.assetName,g=e.placeholder;return a.a.createElement("div",{className:"".concat(n&&A.a.modalSavePanel||""," ").concat(l?[A.a.savePanel,A.a.disabled].join(" "):A.a.savePanel)},r,s&&a.a.createElement(a.a.Fragment,null,!u&&a.a.createElement("div",{className:A.a.savePanelRow},a.a.createElement(o.a,{id:"app.savepanel.saveto"}),a.a.createElement(C.a,{ingestWorkflow:i,showLargeView:n,disabled:l,className:l?[A.a.librarySelector,A.a.disabled].join(" "):A.a.librarySelector})),a.a.createElement(_,{isSwatchesEmpty:l,assetName:y,placeholder:g,updateAssetName:d}),!l&&m,p&&a.a.createElement(k,{disabled:l})),!s&&a.a.createElement("div",null,a.a.createElement("h2",{className:A.a.signInToCreativeCloudMessage},h),a.a.createElement("h3",{className:A.a.signInToCreativeCloudMessage},f)),b,a.a.createElement("div",{className:A.a.helpSaveContainer},n&&a.a.createElement(T.a,{variant:"primary",onClick:c,label:t.formatMessage({id:"app.reportabuse.dialog.cancel"}),"aria-label":t.formatMessage({id:"app.reportabuse.dialog.cancel"})}),a.a.createElement(D.a,{ingestWorkflow:i})))}))},935:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(29),i=r(58),c=r(37),s=r.n(c),u=r(47),l=r.n(u),f=r(36),p=r.n(f),h=r(7),b=r(971),m=r.n(b),d=r(972),y=r.n(d),g=r(1),v=r(3),O=r(22),w=r(122),E=r(99),j=r(208),S=r.n(j),P=r(742),k=r.n(P);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function I(e,t){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===C(t)?t:String(t)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=x(e);if(t){var a=x(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}(this,r)}}(r);function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return A(R(e=t.call.apply(t,[this].concat(o))),"onClick",(function(t){var r=e.props,n=r.criteria,o=r.isUserLoggedIn,i=r.ingestWorkflow,c=r.isPantone,s=r.notification,u=r.saveThemeToLibrary,l=r.themeData,f=l;if(t.stopPropagation(),o){var p={workflow:Object(v.e)(i[0].replace("_"," ")),subcategory:Object(v.t)(e.props.ingestSubcategory)?i[0]:e.props.ingestSubcategory},b={mimetype:c?g.Gb.PANTONE:l.colorMode},m={};b=Object.assign(b,Object(w.a)(l)),c||(m.harmony=l.harmony.rule),Object(O.a)(g.Eb.ADD_TO_LIBRARY,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({event:p,content:b},m),i),e.props.setColorMode(l.colorMode.toUpperCase()),u({theme:f,isPantone:c},n).then((function(t){var r=t.libraryName;c&&e.props.setUnsetTick(!0),s({variant:g.Bc,message:a.a.createElement(h.a,{id:"app.addtolibararynotification.toast.success.message",values:{name:r}})})})).catch((function(){s({variant:g.kb,message:a.a.createElement(h.a,{id:"app.addtolibararynotification.toast.error.message"})})}))}else if(window.adobeIMS){var d={workflow:Object(v.e)(i[0].replace("_"," ")),subcategory:g.Gb.NAVIGATION};Object(O.a)(g.Eb.USER_SIGN_IN,{event:d},i),window.adobeIMS.signIn()}else console.error("window.adobeIMS is not defined")})),e}return function(e,t,r){t&&T(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){var e=this.props,t=e.themeData.themeSavedToCCLibraries.value&&!e.isPantone?"app.grid.card.actionsmenu.addedtolibrary":"app.grid.card.actionsmenu.addtolibrary",r=a.a.createElement(m.a,null),n={fill:S.a.addToLibraryCheckmarkFillColor},o={};e.isPantone&&(t=e.showTickIcon?"app.grid.card.actionsmenu.addedtolibrary":"app.grid.card.actionsmenu.addtolibrary"),(!e.isPantone&&e.themeData.themeSavedToCCLibraries.value||e.isPantone&&e.showTickIcon)&&(o.pointerEvents="none",r=a.a.createElement(y.a,{style:n}));var i=a.a.createElement(p.a,{disabled:this.props.disabled,style:o,className:e.disabled?k.a.disabled:e.className,icon:r,label:e.isExpanded?e.intl.formatMessage({id:t}):"",onClick:this.onClick,variant:"primary",quiet:!0});return e.isExpanded?i:a.a.createElement(s.a,{className:k.a.tooltip,placement:"bottom",trigger:["hover"]},i,a.a.createElement(l.a,null,a.a.createElement(h.a,{id:t})))}}]),r}(),L=Object(o.b)((function(e){return{locale:e.user.locale}}),(function(e){return Object(i.b)({setColorMode:E.setColorMode},e)}))(D);t.a=L},936:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(37),i=r.n(o),c=r(47),s=r.n(c),u=r(36),l=r.n(u),f=r(7),p=r(957),h=r.n(p),b=r(22),m=r(122),d=r(1),y=r(3),g=r(742),v=r.n(g);t.a=Object(f.e)((function(e){var t=a.a.createElement(l.a,{className:e.className,icon:e.userLikeStatus?a.a.createElement(h.a,{style:{fill:"#d7373f"}}):a.a.createElement(h.a,null),label:e.isExpanded?e.intl.formatMessage({id:"app.grid.card.actionsmenu.appreciateaction"}):"",onClick:function(t){return function(e,t){e.stopPropagation();var r=t.criteria,n=t.themeData,a=t.isUserLoggedIn,o=t.ingestWorkflow,i=t.updateThemeLike,c=t.userLikeStatus;if(t.pageName,t.notification,a){var s={workflow:Object(y.e)(o[0]),subcategory:Object(y.t)(t.ingestSubcategory)?o[0]:t.ingestSubcategory,value:c?d.Gb.UNLIKE:d.Gb.LIKE},u=Object(m.a)(n);c?Object(b.a)(d.Eb.UNFAVOURITE,{event:s,content:u},o):Object(b.a)(d.Eb.FAVOURITE,{event:s,content:u},o),i(n,r)}else if(window.adobeIMS){var l={workflow:Object(y.e)(o[0]),subcategory:d.Gb.NAVIGATION};Object(b.a)(d.Eb.USER_SIGN_IN,{event:l},o),window.adobeIMS.signIn()}else console.log("window.adobeIMS is not defined")}(t,e)},variant:"primary",quiet:!0});return e.isExpanded?t:a.a.createElement(i.a,{className:v.a.tooltip,placement:"bottom",trigger:["hover"]},t,a.a.createElement(s.a,null,a.a.createElement(f.a,{id:"app.grid.card.actionsmenu.appreciateaction"})))}))},937:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(7),i=r(37),c=r.n(i),s=r(47),u=r.n(s),l=r(36),f=r.n(l),p=r(916),h=r.n(p),b=r(121),m=r(919),d=r(742),y=r.n(d),g=function(e){var t=a.a.createElement(f.a,{className:e.className,icon:a.a.createElement(h.a,null),label:e.isExpanded?e.intl.formatMessage({id:"app.oneup.pantoneactions.downloadasjpeg"}):"",onClick:function(t){t.stopPropagation(),Object(b.b)(e.themeData.swatches)?Object(m.d)(e.ingestWorkflow,e.isUserLoggedIn,e.themeData,e.ingestSubcategory):Object(m.e)(e.ingestWorkflow,e.isUserLoggedIn,e.themeData,e.intl.formatMessage)},variant:"primary",quiet:!0});return e.isExpanded?t:a.a.createElement(c.a,{className:y.a.tooltip,placement:"bottom",trigger:["hover"]},t,a.a.createElement(u.a,null,a.a.createElement(o.a,{id:"app.oneup.pantoneactions.downloadasjpeg"})))};g.defaultProps={isExpanded:!0},t.a=Object(o.e)(Object(n.memo)(g))},938:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(36),i=r.n(o),c=r(973),s=r.n(c),u=r(29),l=r(7),f=r(917),p=r(123),h=r(3),b=r(22),m=r(1);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={workflow:Object(h.e)(e[0]),subcategory:t?m.Eb.SHARE_BLOCKED:m.Gb.TWITTER,value:Object(h.e)(m.Eb.SHARE)};Object(b.a)(m.Eb.SHARE,{event:r},e)},g=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],s=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(n.useState)(!1),2),r=t[0],o=t[1],c=Object(u.d)();return a.a.createElement(i.a,{className:e.className,disabled:r,icon:a.a.createElement(s.a,null),label:e.label,quiet:!0,variant:"primary",onClick:function(t){o(!0),e.getThemeDetails().then((function(r){o(!1),null===window.open(r,"_blank")?(c(Object(p.a)({variant:m.kb,message:a.a.createElement("div",{style:{maxWidth:"225px"}},a.a.createElement(l.a,{id:"app.share.blocked.info"}))})),y(e.ingestWorkflow,!0)):y(e.ingestWorkflow),t.preventDefault()})).catch((function(){console.log("Some Error occured while Publishing Theme")})),t.stopPropagation()}})};t.a=function(e){var t=Object(u.d)();if(e.themeData.source===m.p&&(!e.isThemeAllowedToPublish||Object(h.t)(e.themeData.isAssetPublished)))return!1;var r=function(t){return"".concat(m.Oc,"?text=").concat(encodeURIComponent(e.text),"&url=").concat(t,"&hashtags=AdobeColor,AdobeColorThemes")};return a.a.createElement(g,{className:e.className,ingestWorkflow:e.ingestWorkflow,label:e.label,getThemeDetails:function(){if(e.themeData.href){var n=r(e.themeData.href);return Promise.resolve(n)}var o={};return o.name=e.themeData.name,o.tags=e.themeData.tags,o.swatches=e.themeData.swatches,o.harmony=e.themeData.harmony,o.libraryid=JSON.parse(e.criteria).main,o.colorMode=e.themeData.colorMode,t(Object(f.i)(o,{id:e.themeData.id,uniqueID:e.themeData.uniqueID,criteria:e.criteria,srcName:m.p,isPublishToKuler:!0})).then((function(e){var n="".concat(window.location.origin,"/").concat(e.name.replaceAll(" ","-"),"-color-theme-").concat(e.id);return t(Object(p.a)({variant:m.Db,message:a.a.createElement("div",{style:{display:"grid",justifyItems:"end",maxWidth:"225px"}},a.a.createElement(l.a,{id:"app.toast.publish.info"}),a.a.createElement("a",{style:{color:"white",textDecoration:"none",marginTop:"5px"},href:n,target:"_blank"},a.a.createElement(l.a,{id:"app.savetoast.view"})))})),Promise.resolve(r(n))})).catch((function(){t(Object(p.a)({variant:m.kb,message:a.a.createElement(l.a,{id:"app.publish.toast.error.message"})}))}))}})}},939:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(1),i=r(757),c=r.n(i),s=r(51),u=r.n(s);t.a=function(e){var t=e.cardType,r=e.height,n=e.src,i=e.width,s=c.a.image,l={backgroundImage:n};switch(t){case o.n:l.height=r/i*parseInt(o.Mb?u.a.cardWidthLarge:u.a.cardWidth,10);break;case o.m:case o.o:l.height=r,l.width=i,s=c.a.imageCollectionList;break;case o.nc:l.width=u.a.oneUpImageWidth,s=c.a.imageCollectionList}return a.a.createElement("div",{className:s,role:o.Cb,style:l},a.a.createElement("img",{loading:"lazy",src:l.backgroundImage,height:l.height,width:l.width}))}},940:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(7),i=r(36),c=r.n(i),s=r(951),u=r.n(s),l=r(29),f=r(926),p=r.n(f),h=r(1),b=r(22),m=r(3),d=r(913),y=r(749),g=r.n(y);function v(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=Object(o.e)((function(e){var t=Object(l.d)(),r=Object(l.e)((function(e){return e.save.suggestedTags})),i=Object(l.e)((function(e){return e.save.tagsToSave})),s=Object(l.e)((function(e){return e.create.workflow})),f=[];return Object(n.useEffect)((function(){t(d.i([]))}),[s]),i&&i.length>0&&(f=i.map((function(e){return e.value}))),a.a.createElement("div",{className:"".concat(g.a.tags," ").concat(e.showLargeView&&g.a.tagsGrid)},a.a.createElement(o.a,{id:"app.savepanel.tags"}),a.a.createElement("div",{className:g.a.tagsContent},a.a.createElement(u.a,{placeholder:e.intl.formatMessage({id:"app.savepanel.tags.textfield.placeholder"}),value:f,onChange:function(r){var n={workflow:Object(m.e)(e.ingestWorkflow[0]),subcategory:"".concat(h.Gb.TAG_BOX,":").concat(e.ingestWorkflow[1])};r.length<i.length?(n.value=v(i).filter((function(e){return!r.some((function(t){return t===e}))})),Object(b.a)(h.Eb.TAG_REMOVE,{event:n},[h.I])):r.length>i.length&&(n.value=v(r).filter((function(e){return!i.some((function(t){return t===e}))})),Object(b.a)(h.Eb.TAG_ADD,{event:n},[h.I])),t(d.i(function(e){return e.map((function(e){return{value:e}}))}(r)))},quiet:!0,className:g.a.tagsBox,disabled:e.disabled}),a.a.createElement("div",{className:g.a.suggestedTags},r.map((function(e,r){return a.a.createElement(c.a,{key:r,onClick:function(){return function(e){t(d.i([].concat(v(i),[{value:e}]))),t(d.d(e))}(e)},className:g.a.suggestedTag,variant:"action",label:e,value:e,icon:a.a.createElement(p.a,{className:g.a.add,size:"XS"})})})))))}))},941:function(e,t,r){"use strict";var n=r(0),a=r.n(n);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.a=function(e){return a.a.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",height:"18",viewBox:"0 0 18 18",width:"18"},e),a.a.createElement("rect",{id:"Canvas",fill:"#ff13dc",opacity:"0",width:"18",height:"18"}),a.a.createElement("path",{class:"a",d:"M9.05,1.1A7.95,7.95,0,1,0,17,9.05,7.95,7.95,0,0,0,9.05,1.1Zm0,14.906A6.956,6.956,0,1,1,16.006,9.05,6.956,6.956,0,0,1,9.05,16.006Zm4.49072-9.68845-5.436,6.98773a.5.5,0,0,1-.74839.04628L4.2779,10.28586a.50035.50035,0,0,1,.00021-.70736l.66226-.66226a.5.5,0,0,1,.70709,0l1.939,1.92155,4.43735-5.701a.50006.50006,0,0,1,.70176-.08744h0l.72764.56642A.50016.50016,0,0,1,13.54072,6.31755Z"}))}},943:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(29),i=r(926),c=r.n(i),s=r(36),u=r.n(s),l=r(100),f=r.n(l),p=(r(85),r(751)),h=r.n(p),b=r(7),m=r(1);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function g(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w(e);if(t){var a=w(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).state={libraryName:"",createButtonClicked:!1,cancelClicked:!1},n.checkForEnter=n.checkForEnter.bind(O(n)),n.resetState=n.resetState.bind(O(n)),n.onSubmit=n.onSubmit.bind(O(n)),n}return function(e,t,r){t&&y(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onSubmit",value:function(){var e=this;this.state.cancelClicked||0===this.state.libraryName.length||(this.props.closeDropDown(),this.props.createLibrary({libraryName:this.state.libraryName}).then((function(t){e.props.setSaveLibrary(t),e.resetState()})))}},{key:"resetState",value:function(){this.setState({libraryName:"",createButtonClicked:!1,cancelClicked:!1})}},{key:"checkForEnter",value:function(e){e.charCode===m.Pb.ENTER&&this.onSubmit()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:h.a.createNewLibrary},a.a.createElement("div",{className:h.a.newLibrary},a.a.createElement(b.a,{id:"app.createnewlibrary.newlibrary"})),a.a.createElement(f.a,{className:h.a.libraryName,placeholder:this.props.intl.formatMessage({id:"app.createnewlibrary.placeholder"}),value:this.state.libraryName,onChange:function(t){return e.setState({libraryName:t})},onKeyPress:function(t){return e.checkForEnter(t)}}),a.a.createElement(u.a,{label:this.props.intl.formatMessage({id:"app.header.create"}),variant:"cta",className:h.a.createButton,onClick:this.onSubmit}))}}]),r}(),j=Object(b.e)(E),S=r(37),P=r.n(S),k=r(88),C=r.n(k),N=r(3),T=r(22),I=r(913),R=r(746),x=r.n(R),A=r(922),_=r(918),D=r(954),L=r(960),M=r(952);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(){U=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new S(a||[]);return n(i,"_invoke",{value:function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return{value:void 0,done:!0}}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function h(){}function b(){}var m={};s(m,o,(function(){return this}));var d=Object.getPrototypeOf,y=d&&d(d(P([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=b.prototype=p.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==B(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=b,n(g,"constructor",{value:b,configurable:!0}),n(b,"constructor",{value:h,configurable:!0}),h.displayName=s(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(O.prototype),s(O.prototype,i,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new O(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(g),s(g,c,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function G(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W(e,t,r,n,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,a)}var H=!0;t.a=Object(b.e)((function(e){var t=Object(A.a)(!0,!1),r=t.libraries,i=t.haveLibrariesBeenFetched,s=t.fetchData,l=t.initialLibFetchUrl,f=Object(o.e)((function(e){return e.save.library})),p=Object(o.e)((function(e){return e.user.IMSReady})),h=Object(o.e)((function(e){return e.user.isLoggedIn})),d={},y=Object(o.d)(),g=Object(n.useRef)(),v=function(){g.current.hide()};if(p&&!h)return"";var O=[];return r.forEach((function(e){d[e.id]=e.name})),i&&Object.keys(d).length&&""===f.id&&y(I.f({name:d[Object.keys(d)[0]],id:Object.keys(d)[0]})),O=Object(M.a)({load:function(t){return function(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){W(o,n,a,i,c,"next",e)}function c(e){W(o,n,a,i,c,"throw",e)}i(void 0)}))}}(U().mark((function r(){var n,a,o,i,c,u,f,p,h,b,m,d;return U().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.signal,a=t.cursor,r.next=3,s(a||l,n);case 3:if(o=r.sent,i=[],!o.listData.length){r.next=45;break}H=!1,c=G(o.listData),r.prev=8,c.s();case 10:if((u=c.n()).done){r.next=34;break}f=u.value,p=!1,h=G(O.items),r.prev=14,h.s();case 16:if((b=h.n()).done){r.next=23;break}if(m=b.value,f.id!==m.id){r.next=21;break}return p=!0,r.abrupt("break",23);case 21:r.next=16;break;case 23:r.next=28;break;case 25:r.prev=25,r.t0=r.catch(14),h.e(r.t0);case 28:return r.prev=28,h.f(),r.finish(28);case 31:p||i.push(f);case 32:r.next=10;break;case 34:r.next=39;break;case 36:r.prev=36,r.t1=r.catch(8),c.e(r.t1);case 39:return r.prev=39,c.f(),r.finish(39);case 42:return r.abrupt("return",{items:i,cursor:o.hrefNext});case 45:if(!H){r.next=52;break}return H=!1,r.next=49,y(_.g({libraryName:e.intl.formatMessage({id:"app.defaultlibraryname.mylibrary"})}));case 49:return(d=r.sent).id=d.id.toLowerCase(),r.abrupt("return",{items:[d],cursor:null});case 52:case"end":return r.stop()}}),r,null,[[8,36,39,42],[14,25,28,31]])})))()}}),a.a.createElement(a.a.Fragment,null,a.a.createElement(D.a,{UNSAFE_className:x.a.picker,isQuiet:!0,"aria-label":a.a.createElement(b.a,{id:"app.savepanel.saveto"}),items:O.items,isLoading:O.isLoading,selectedKey:f.id,onSelectionChange:function(t){return function(t){var r={workflow:Object(N.e)(e.ingestWorkflow[0]),subcategory:m.Gb.LIBRARY_SELECTOR},n=d[t];Object(T.a)(m.Eb.LIBRARY_CHANGED,{event:r},e.ingestWorkflow),n&&y(I.f({name:n,id:t})),v()}(t)},onLoadMore:O.loadMore},(function(e){return a.a.createElement(L.a,{key:e.id},e.name)})),a.a.createElement(P.a,{trigger:["click"],placement:"right",className:x.a.dropdownContainer,ref:g},a.a.createElement(u.a,{icon:a.a.createElement(c.a,null),quiet:!0,variant:"primary",className:x.a.button}),a.a.createElement(C.a,{variant:"default",trapFocus:!0},a.a.createElement(j,{closeDropDown:function(){return v()},setSaveLibrary:function(e){return function(e){e.id=e.id.toLowerCase(),y(I.f(e)),O.prepend(e)}(e)},createLibrary:function(e){return y(_.g(e))}}))))}))},944:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(7),i=r(6),c=r.n(i),s=r(21),u=r.n(s),l=r(81),f=r.n(l),p=r(29),h=r(3),b=r(754),m=r.n(b);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(e){var t=e.children,r=e.open,n=e.closeModal,o=e.backdropClass,i=e.closeCallback,c=Object(p.e)((function(e){return e.user.colorScheme})),s=Object(h.m)();return null===t&&r&&n(),r?u.a.createPortal(a.a.createElement(f.a,{typekitId:"lin0jjb",theme:c,scale:s},a.a.createElement("div",{className:m.a.modal},a.a.createElement("div",{className:[m.a.backdrop,o].join(" "),onClick:Object(h.f)(i,n)}),t)),document.body):null};y.defaultProps={backdropClass:""};var g=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],s=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(n.useState)(!1),2),r=t[0],o=t[1],i=function(){r?Object(h.B)(""):Object(h.B)("hidden"),o(!r)},c=e.children[0],s=e.children[1];return Object(n.useEffect)((function(){if(r)return function(){return Object(h.B)("")}}),[r]),a.a.createElement(a.a.Fragment,null,a.a.cloneElement(c,{onClick:Object(h.f)(c.props.onClick,i)}),a.a.createElement(y,{backdropClass:e.backdropClass,open:r,closeModal:i,closeCallback:e.onClose},s))},v=r(87),O=r.n(v),w=r(58),E=r(935),j=r(936),S=r(1),P=r(37),k=r.n(P),C=r(36),N=r.n(C),T=r(209),I=r(945),R=r.n(I),x=r(755),A=r.n(x);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G(n.key),n)}}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,r){return(t=G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===_(t)?t:String(t)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(r,n.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=B(e);if(t){var a=B(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}(this,r)}}(r);function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return U(M(e=t.call.apply(t,[this].concat(a))),"onSelect",(function(t){e.props.onSelect(t)})),U(M(e),"onClick",(function(e){e.stopPropagation()})),e}return function(e,t,r){t&&D(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(k.a,{trigger:this.props.overlayTriggerAction,placement:"bottom"},a.a.createElement(N.a,{className:[this.props.className,A.a.button].join(" "),label:this.props.isExpanded?a.a.createElement("div",{className:A.a.buttonLabel},a.a.createElement("div",null,this.props.intl.formatMessage({id:this.props.buttonLabel})),a.a.createElement(R.a,{className:A.a.downarrow,size:"S"})):"",icon:this.props.buttonIcon,onClick:this.onClick,quiet:!0}),a.a.createElement(T.Menu,{onSelect:this.onSelect},a.a.createElement(T.MenuHeading,null,Object(h.t)(this.props.menuHeader)?"":a.a.createElement(o.a,{id:this.props.menuHeader})),this.props.labels.map((function(e,t){return a.a.createElement(T.MenuItem,{role:"menuitemradio",key:t,value:e},e)})))))}}]),r}();F.defaultProps={actionText:"app.grid.card.actionsmenu.downloadaction",isExpanded:!0};var W=Object(o.e)(F),H=r(919),z=r(916),V=r.n(z),J=r(937),q=r(938),X=r(756),K=r.n(X);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(){return(Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,re(n.key),n)}}function $(e,t){return($=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e){var t=function(e,t){if("object"!==Y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Y(t)?t:String(t)}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=te(e);if(t){var a=te(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ee(e)}(this,r)}}(r);function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return function(e,t,r){(t=re(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ee(e=t.call.apply(t,[this].concat(a))),"onSelect",(function(t){switch(t){case"SVG":Object(H.c)(e.props.ingestWorkflow,e.props.isUserLoggedIn,e.props.themeData,S.f,null);break;case"PNG":Object(H.b)(e.props.ingestWorkflow,e.props.isUserLoggedIn,e.props.themeData,null);break;case"ASE":Object(H.a)(e.props.ingestWorkflow,e.props.isUserLoggedIn,e.props.themeData);break;case"JPEG":Object(H.e)(e.props.ingestWorkflow,e.props.isUserLoggedIn,e.props.themeData,props.intl.formatMessage)}})),e}return function(e,t,r){t&&Z(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){var e=this.props,t=e.cardHeight,r=e.isImageCard,n=e.themeData,o=e.userId,i=e.isUserLoggedIn,c=e.featureFlags,s=r&&t>=S.l&&!S.Ob,u=!(r||i&&n.author.guid===o||n.source===S.p),l=!!Object(h.t)(e.showAddToLibrary)||e.showAddToLibrary,f=n.assetType===S.g.THEME,p=n.assetType===S.g.GRADIENT,b={menuHeader:"app.oneup.pantoneactions.download",labels:["PNG","SVG"],overlayTriggerAction:"hover",buttonIcon:a.a.createElement(V.a,null),buttonLabel:"app.grid.card.actionsmenu.downloadaction"},m=n.source===S.Qb&&c&&c.includes(S.ob.ENABLE_SSR);return a.a.createElement("div",{className:s?K.a.actionsMenuExpanded:K.a.actionsMenu},l&&a.a.createElement(E.a,Q({className:s?K.a.actionButtonExpanded:K.a.actionButton},e,{isExpanded:s})),u&&a.a.createElement(j.a,Q({className:s?K.a.actionButtonExpanded:K.a.actionButton},e,{isExpanded:s})),f&&a.a.createElement(J.a,Q({className:s?K.a.actionButtonExpanded:K.a.actionButton},e,{isExpanded:s})),m&&a.a.createElement(q.a,{className:s?K.a.actionButtonExpanded:K.a.actionButton,criteria:this.props.criteria,ingestWorkflow:this.props.ingestWorkflow,text:this.props.intl.formatMessage({id:"app.share.tweet.text"}),themeData:e.themeData}),p&&a.a.createElement(W,Q({className:K.a.actionButton,isExpanded:s,onSelect:this.onSelect},b)))}}]),r}(),ae=Object(p.b)((function(e){return{featureFlags:e.user.featureFlags}}),{})(Object(o.e)(ne)),oe=r(939),ie=r(124),ce=r(915),se=r(932),ue=r(30),le=r(955),fe=r(758),pe=r.n(fe);function he(){return(he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var be=function(e){var t=e.height,r=e.swatches,n=e.assetType,o=e.gradientProps,i=e.accessibilityData,c="";switch(n){case S.g.GRADIENT:c=a.a.createElement(se.a,{stops:r,gradientProps:o,foregroundSwatchTextClass:!0});break;default:c=i.wcagLevel?a.a.createElement(le.a,{foregroundSwatch:Object(ue.t)(r[0]),backgroundSwatch:Object(ue.t)(r[1]),foregroundSwatchTextClassName:pe.a.foregroundSwatchText}):r.map((function(e,t){return a.a.createElement(ce.a,he({key:t},e))}))}return a.a.createElement("div",{className:pe.a.theme,style:{height:t}},c)};be.propTypes={swatches:c.a.arrayOf(c.a.object.isRequired).isRequired,height:c.a.oneOfType([c.a.string,c.a.number])};var me=be,de=r(958),ye=r(47),ge=r.n(ye),ve=r(24),Oe=r(767),we=r.n(Oe),Ee=function(e){return a.a.createElement("div",{className:we.a.cardInfo},a.a.createElement("div",{className:we.a.assetNameContainer},a.a.createElement("span",{className:we.a.assetName},e.name),(e.metadata.isAccessible||e.accessibilityData.colorBlindSafe)&&a.a.createElement(k.a,{className:we.a.tooltip,placement:"bottom",trigger:["hover"]},a.a.createElement("div",{className:we.a.blindSafeIconContainer},a.a.createElement("img",{src:ve.m})),a.a.createElement(ge.a,null,a.a.createElement(o.a,{id:"app.mythemes.assettype.accessibility"})))),a.a.createElement("div",{className:we.a.assetTypeInfo},e.assetTypeInfo))},je=r(122),Se=r(22),Pe=r(914),ke=r(931),Ce=r(51),Ne=r.n(Ce),Te=r(768),Ie=r.n(Te);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(){return(xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Be(n.key),n)}}function _e(e,t){return(_e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t,r){return(t=Be(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Be(e){var t=function(e,t){if("object"!==Re(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Re(t)?t:String(t)}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_e(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Le(e);if(t){var a=Le(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return De(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Me(De(n=t.call(this,e)),"manageShowCardState",(function(e){n.setState({showCard:e})})),Me(De(n),"deleteTheme",(function(e,t){switch(e.source){case S.Qb:return n.props.deleteTheme(e,t);default:return n.props.deleteTheme(e,t).then((function(){n.manageShowCardState(!0)})).catch((function(){n.props.notification({variant:S.kb,message:e.assetType===S.g.THEME?n.props.intl.formatMessage({id:"app.themedelete.toast.error.message"}):n.props.intl.formatMessage({id:"app.gradientdelete.toast.error.message"})}),n.manageShowCardState(!0)}))}})),Me(De(n),"deleteAssetFromView",(function(){return n.manageShowCardState(!1)})),Me(De(n),"undoDelete",(function(){return function(){var e=n.props,t=e.notificationsData,r=e.notificationEnd,a=e.id;n.manageShowCardState(!0),t.forEach((function(e){Object(h.t)(e.themeData)||e.themeData.id!==a||r({id:e.id})}))}})),Me(De(n),"onExtractionComplete",(function(e){var t={},r=e.finalColor;t.uniqueID=n.props.uniqueID,t.swatches=[],r.forEach((function(e){t.swatches.push(Object(ue.u)("rgb",[e.rgb.r,e.rgb.g,e.rgb.b]))})),n.props.updateThemeSwatchData(n.props.criteria,n.props.source,t)})),Me(De(n),"extractColors",(function(){if(0===n.props.swatches.length&&n.props.image.src){var e=new Image,t=document.createElement("canvas"),r=t.getContext("2d"),a=De(n);e.crossOrigin="anonymous",e.src=n.props.source===S.i?"".concat(n.props.image.src,"?cachebuster=").concat(Date.now()):n.props.image.src,e.onload=function(){t.height=n.props.source===S.i?S.j:e.naturalHeight,t.width=n.props.source===S.i?S.k:e.naturalWidth,r.drawImage(e,0,0);var o={onExtractionComplete:function(e){a.onExtractionComplete(e)},startMessage:{imageData:r.getImageData(0,0,t.width,t.height),width:t.width,height:t.height,swatchCount:5,colorMood:"Colorful"}};t=null,e=null,ke.a.queueTask(o)}}})),n.sendOneUpIngestEvent=n.sendOneUpIngestEvent.bind(De(n)),n.state={showCard:!0},n.deleteTheme=n.deleteTheme.bind(De(n)),n.closeOneUp=n.closeOneUp.bind(De(n)),n.cardRef=a.a.createRef(),n}return function(e,t,r){t&&Ae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.showCard!==t.showCard||this.props.isAssetPublished!==e.isAssetPublished||this.props.themeSavedToCCLibraries.value!==e.themeSavedToCCLibraries.value||this.props.swatches.length!==e.swatches.length||e.uniqueID!==this.props.uniqueID||void 0!==this.props.like.user&&this.props.like.user!==e.like.user||this.props.intl.locale!==e.intl.locale||this.props.tags!==e.tags||this.props.name!==e.name}},{key:"sendOneUpIngestEvent",value:function(){if(0!==this.props.swatches.length){var e={workflow:Object(h.e)(this.props.ingestWorkflow[0]),subcategory:S.Gb.NAVIGATION},t=Object(je.a)(this.props),r="";switch(this.props.assetType){case S.g.GRADIENT:r=S.Eb.GRADIENT_ONE_UP;break;default:r=S.Eb.THEME_ONE_UP}Object(Se.a)(r,{event:e,content:t},this.props.ingestWorkflow)}}},{key:"closeOneUp",value:function(){var e={workflow:Object(h.e)(this.props.ingestWorkflow[0]),subcategory:S.Gb.ONEUP};Object(Se.a)(S.Eb.CLOSE,{event:e},[S.Gb.ONEUP]),this.cardRef.current.click()}},{key:"componentDidMount",value:function(){var e=this;this.props.extractOnlyIfVisible?new IntersectionObserver((function(t,r){t.forEach((function(t){t.isIntersecting&&(e.extractColors(),r.unobserve(t.target))}))})).observe(this.cardRef.current):this.extractColors()}},{key:"render",value:function(){var e,t,r,n=this.props,o=n.criteria,i=n.image,c=n.isUserLoggedIn,s=n.ingestWorkflow,u=n.notification,l=n.reportAbuse,f=n.saveThemeToLibrary,p=n.updateThemeLike,h=n.userId,b=n.swatches,m=n.assetType,d=n.gradientProps,y=n.accessibilityData,v=void 0!==this.props.like.user&&this.props.like.user,w=void 0===this.props.cardType?S.n:this.props.cardType,E=this.props.history,j=this.deleteTheme,P=this.closeOneUp,k=this.deleteAssetFromView,C=this.undoDelete,N=S.Ob?parseInt(Ne.a.actionsMenuHeight,10):0,T={};void 0===i?(t=parseInt(S.Mb?Ne.a.paletteSwatchLargeHeight:Ne.a.paletteSwatchHeight,10),r=0):(t=parseInt(S.Mb?Ne.a.imageSwatchLargeHeight:Ne.a.imageSwatchHeight,10),r=parseInt(i.height/i.width*parseInt(S.Mb?Ne.a.cardWidthLarge:Ne.a.cardWidth,10),10),T={width:i.width,height:i.height,src:i.src}),e=t+r;var I=a.a.createElement("div",{className:Ie.a.card,style:{height:e+N},ref:this.cardRef},void 0!==i&&a.a.createElement(oe.a,xe({cardType:w},T)),0===b.length?a.a.createElement("div",{className:Ie.a.themeLoader},a.a.createElement(ie.a,{spinnerType:S.gb})):a.a.createElement(me,{swatches:b,assetType:m,gradientProps:d,accessibilityData:y}),0!==b.length&&a.a.createElement(ae,{pageName:this.props.pageName,themeData:this.props,cardHeight:e,isImageCard:void 0!==i,showAddToLibrary:this.props.showAddToLibrary,readOnly:this.props.readOnly,criteria:o,isUserLoggedIn:c,ingestWorkflow:s,notification:u,reportAbuse:l,saveThemeToLibrary:f,updateThemeLike:p,userLikeStatus:v,userId:h})),R={criteria:o,deleteTheme:j,themeData:this.props,pageName:this.props.pageName,ingestWorkflow:s,isImageCard:void 0!==i,isUserLoggedIn:c,loggedInUser:this.props.loggedInUser,notification:u,readOnly:this.props.readOnly,reportAbuse:l,saveThemeToLibrary:f,showAddToLibrary:this.props.showAddToLibrary,updateThemeLike:p,userId:h,userLikeStatus:v,history:E,closeOneUp:P,showQuickView:!0,isAllowedToPublish:this.props.isAllowedToPublish,deleteAssetFromView:k,undoDelete:C},x=a.a.createElement(O.a,{className:Ie.a.oneUp,backdropClickable:!0},a.a.createElement(de.a,R)),A=this.props.name;return this.state.showCard&&a.a.createElement("div",{className:Ie.a.cardWrapper,onClick:this.sendOneUpIngestEvent},b.length?a.a.createElement(g,{backdropClass:Ie.a.modalScrim,onClose:P},I,x):I,this.props.displayCardInfo&&a.a.createElement(Ee,{assetTypeInfo:this.props.assetTypeInfo,name:A,metadata:this.props.metadata,accessibilityData:this.props.accessibilityData}))}}]),r}();Ue.propTypes={image:c.a.shape({src:c.a.string.isRequired,height:c.a.number.isRequired,width:c.a.number.isRequired})},t.a=Object(p.b)(null,(function(e){return Object(w.b)({updateThemeSwatchData:Pe.m},e)}))(Object(o.e)(Ue))},946:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"d",(function(){return l})),r.d(t,"c",(function(){return f})),r.d(t,"b",(function(){return p}));var n=r(1),a=r(914),o=r(75),i=r(3);function c(e){return Object(a.b)(e,n.zc)}function s(e){return e.themes=e.files,delete e.files,e}function u(){return{"x-api-key":config("CLIENT_ID"),"x-product":config("STOCK_ENDPOINT").productId}}function l(e){return Object(o.c)(e,u()).then((function(e){return s(e).themes.length>0})).catch((function(e){return!1}))}function f(e,t){return function(r,c){var l=c().criteriaDataCollection;if(!Object(i.t)(l[e])&&!Object(i.C)(l[e].stock.fetchStatus))return r(Object(a.h)(e,n.zc)),Object(o.c)(t.endPoint,u()).then((function(t){var o=s(t);r(Object(a.d)(e,n.zc,o)),r(Object(a.f)(e,n.zc))})).catch((function(t){var o=n.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(o=t.response.status),console.log("error ".concat(t)),r(Object(a.g)(e,n.zc,o))}))}}function p(e,t){return function(t,r){var o={},c=r().criteriaDataCollection;Object(i.t)(c[e])||c[e].stock.fetchStatus===n.h.COMPLETED_SUCCESSFULLY||(o.themes=[],n.N.forEach((function(e){o.themes.push({title:e})})),t(Object(a.d)(e,n.zc,o)),t(Object(a.f)(e,n.zc)))}}},947:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"d",(function(){return f})),r.d(t,"c",(function(){return h})),r.d(t,"b",(function(){return b}));var n=r(1),a=r(2),o=r(914),i=r(75),c=r(3);function s(e){return Object(o.b)(e,n.i)}function u(e){return e.projects&&(e.themes=e.projects,delete e.projects),e.entities&&(e.themes=e.entities,delete e.entities),e.categories&&(e.themes=[],e.categories.forEach((function(t){n.L.includes(t.label_en)&&e.themes.push(t)})),delete e.categories),e}function l(){return{"x-api-key":config("CLIENT_ID")}}function f(e){return Object(i.c)(e,l()).then((function(e){return u(e).themes.length>0})).catch((function(e){return!1}))}function p(e,t,r){return{type:a.W,payload:r,srcName:t,criteria:e}}function h(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a,s){var f=s().criteriaDataCollection;return Object(c.t)(f[e])||Object(c.C)(f[e].behance.fetchStatus)?r?Object(i.c)(t.endPoint,l()).then((function(e){var t=u(e);if(t.gallery){var r=s(),o=r.gallery,i=r.galleries;o.criteria.some((function(e){return!(!e.galleryId||e.galleryId!==t.gallery.id||(a(p(JSON.stringify(i.criteria[0]),n.i,t)),0))}))}})).catch((function(t){console.log("error ".concat(t));var r=n.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(r=t.response.status),a(Object(o.g)(e,n.i,r))})):void 0:(a(Object(o.h)(e,n.i)),Object(i.c)(t.endPoint,l()).then((function(t){var r=u(t);if(r.gallery){var i=s(),c=i.gallery,l=i.galleries;c.criteria.some((function(e){return!(!e.galleryId||e.galleryId!==r.gallery.id||(a(p(JSON.stringify(l.criteria[0]),n.i,r)),0))}))}a(Object(o.d)(e,n.i,r)),a(Object(o.f)(e,n.i))})).catch((function(t){console.log("error ".concat(t));var r=n.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(r=t.response.status),a(Object(o.g)(e,n.i,r))})))}}function b(e,t){return function(r,a){var s=a().criteriaDataCollection;if(!Object(c.t)(s[e])&&s[e].behance.fetchStatus!==n.h.COMPLETED_SUCCESSFULLY)return r(Object(o.h)(e,n.i)),Object(i.c)(t.endPoint,l()).then((function(t){var a=u(t);r(Object(o.d)(e,n.i,a)),r(Object(o.f)(e,n.i))})).catch((function(t){console.log("error ".concat(t)),r(Object(o.g)(e,n.i,t))}))}}},948:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(7),i=r(29),c=r(36),s=r.n(c),u=r(1),l=r(22),f=r(922),p=r(966),h=r.n(p),b=r(923),m=r(913),d=r(99),y=r(123),g=r(920),v=r(3),O=r(32),w=r(743),E=r.n(w);function j(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],s=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=Object(o.e)((function(e){var t=S(Object(n.useState)(!1),2),r=t[0],c=t[1],p=S(Object(n.useState)(!1),2),w=p[0],P=p[1],k=S(Object(n.useState)(!1),2),C=k[0],N=k[1],T=Object(i.e)((function(e){return e.user.IMSReady})),I=Object(i.e)((function(e){return e.user.isLoggedIn})),R=Object(i.e)((function(e){return e.create.assetType})),x=Object(i.e)((function(e){return e.create})),A=Object(v.r)()?u.J.COLOR_CONTRAST:Object(i.e)((function(e){return e.create.workflow})),_=Object(i.e)((function(e){return e.create.isAccessible})),D=Object(b.a)(R,e.intl,Object(v.r)()).assetName,L=Object(i.e)((function(e){return e.create.isEditWorkflow})),M=Object(i.e)((function(e){return e.colorContrast.isEditWorkflow})),B=Object(i.e)((function(e){return e.save.publishToKuler})),U=!Object(v.r)()&&Object(i.e)((function(e){return 0===e.create.swatches.length})),G=Object(f.a)(!0,!1),F=G.libraries,W=G.haveLibrariesBeenFetched&&F.length,H=Object(i.e)((function(e){return e.save.library})),z=e.ingestWorkflow,V=L||M,J=Object(i.e)((function(e){return e.colorContrast.contrastRatio})),q=Object(v.o)(J),X=Object(i.d)(),K=function(){var t=e.intl.formatMessage({id:"app.savepanel.save"}),n=e.intl.formatMessage({id:"app.savepanel.update"});return r&&(t=e.intl.formatMessage({id:"app.savepanel.saving"})),w&&(n=e.intl.formatMessage({id:"app.savepanel.updating"})),{saveText:t,updateText:n}},Y=function(){var t={workflow:Object(v.e)(z[0]),subcategory:"".concat(u.Gb.SAVE_PANEL,":").concat(z[1]),value:B?u.Gb.PUBLIC:u.Gb.PRIVATE};if(T)if(I){c(!0);var r="app.addtolibararynotification.toast.success.message",n="app.addtolibararynotification.toast.error.message",i=u.Bc,s="".concat(window.location.origin,"/").concat(e.intl.locale,"/mythemes?viewTheme");R===u.g.GRADIENT?(r="app.gradient.addtolibararynotification.toast.success.message",n="app.gradient.addtolibararynotification.toast.error.message"):A===u.J.ACCESSIBILITY&&!1===_&&(r="app.create.accessibility.success.toast",i=u.Db),X(m.e(R,A)).then((function(e){X(y.a({variant:i,message:a.a.createElement("div",{style:{display:"grid",justifyItems:"end"}},a.a.createElement(o.a,{id:r,values:{name:e}}),a.a.createElement("a",{style:{color:"white",textDecoration:"none",marginTop:"5px"},href:s,target:"_blank"},a.a.createElement(o.a,{id:"app.savetoast.view"})))})),Object(v.r)()?X(g.b(!1)):X(d.setEditWorkflow(!1)),c(!1),N(!1)})).catch((function(){X(y.a({variant:u.kb,message:a.a.createElement(o.a,{id:n})})),Object(v.r)()?X(g.b(!1)):X(d.setEditWorkflow(!1)),c(!1),N(!1)}));var f=j(z);f[1]===u.Gb.ACCESSIBILITY_COLORWHEEL&&(f[1]=_?u.Gb.ACCESSIBILITY_COLORWHEEL_NO_CONFLICTS:u.Gb.ACCESSIBILITY_COLORWHEEL_CONFLICTS),f[1]===u.Gb.ACCESSIBILITY_COLOR_CONTRAST&&(t.value=q);var p={event:t};"colorwheel"===z[1]&&(p.harmony=x.harmonyRule),Object(l.a)(u.Eb.SAVE,p,f)}else window.adobeIMS&&(O.a.setItem("restore-create-after-signin",JSON.stringify(x)),Object(l.a)(u.Eb.SAVE_FAIL,{event:t},z),window.adobeIMS.signIn())},Q=!!I&&(U||!W||r||w||0===D.length);return!e.showSplitButton&&V?a.a.createElement("div",{className:E.a.splitButton},a.a.createElement(s.a,{label:K().saveText,variant:"cta",onClick:Y,className:E.a.saveButton,disabled:Q}),C?a.a.createElement(s.a,{label:K().updateText,variant:"cta",onClick:function(){var t={workflow:Object(v.e)(e.ingestWorkflow[0]),subcategory:"".concat(u.Gb.SAVE_PANEL,":").concat(e.ingestWorkflow[1]),value:B?u.Gb.PUBLIC:u.Gb.PRIVATE};if(T)if(I){P(!0);var r="app.updatecclibrarythemenotification.toast.success.message",n=u.Bc;A===u.J.ACCESSIBILITY&&!1===_&&(r="app.create.accessibility.update.toast",n=u.Db),X(m.j({main:H.id,name:H.name,pageName:u.dc},A)).then((function(){X(y.a({variant:n,message:a.a.createElement(o.a,{id:r})})),X(m.a({cclibraryThemeUpdateLibId:null,cclibraryThemeUpdateAssetId:null})),Object(v.r)()?X(g.b(!1)):X(d.setEditWorkflow(!1)),P(!1)})).catch((function(){X(y.a({variant:u.kb,message:a.a.createElement(o.a,{id:"app.addtolibararynotification.toast.error.message"})})),X(m.a({cclibraryThemeUpdateLibId:null,cclibraryThemeUpdateAssetId:null})),Object(v.r)()?X(g.b(!1)):X(d.setEditWorkflow(!1)),P(!1)})),Object(l.a)(u.Eb.UPDATE,{event:t},z)}else window.adobeIMS&&(Object(l.a)(u.Eb.SAVE_FAIL,{event:t},z),window.adobeIMS.signIn())},disabled:Q}):a.a.createElement(s.a,{variant:"cta",onClick:function(){N(!C)},icon:a.a.createElement(h.a,null)})):a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,{label:K().saveText,variant:"cta",onClick:Y,className:E.a.saveButton,disabled:Q}),e.showSplitButton&&a.a.createElement(s.a,{variant:"cta",onClick:function(){e.onSplitButtonClick();var t={workflow:Object(v.e)(e.ingestWorkflow[0]),subcategory:u.Eb.SHOW_SAVE_PANEL,value:u.Eb.SHOW_SAVE_PANEL};Object(l.a)(u.Eb.SHOW_SAVE_PANEL,{event:t},z)},disabled:Q,icon:a.a.createElement(h.a,null)}))}))},949:function(e,t,r){"use strict";var n=r(0),a=r.n(n);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.a=function(e){return a.a.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",height:"18",viewBox:"0 0 18 18",width:"18"},e),a.a.createElement("title",null,"S AlertCircle 18 N"),a.a.createElement("rect",{id:"Canvas",fill:"#ff13dc",opacity:"0",width:"18",height:"18"}),a.a.createElement("path",{class:"a",d:"M7.84555,12.88618a1.13418,1.13418,0,0,1,1.1161-1.15195q.042-.00064.08391.00178a1.116,1.116,0,0,1,1.2,1.15017,1.09065,1.09065,0,0,1-1.2,1.11661,1.0908,1.0908,0,0,1-1.2-1.11661ZM10.0625,4.39771a.20792.20792,0,0,1,.09966.183V5.62212c0,1.40034-.28322,3.98034-.33305,4.48067,0,.04984-.01678.09967-.11695.09967H8.379a.11069.11069,0,0,1-.11695-.09967c-.03305-.46678-.3-3.0305-.3-4.43084V4.6306a.1773.1773,0,0,1,.08339-.18306,2.88262,2.88262,0,0,1,1.00017-.20033A3.27435,3.27435,0,0,1,10.0625,4.39771ZM17.50005,9A8.50005,8.50005,0,1,1,9,.5H9A8.50008,8.50008,0,0,1,17.50005,9ZM15.67484,9A6.67485,6.67485,0,1,0,9,15.6748H9A6.67479,6.67479,0,0,0,15.67484,9Z"}))}},950:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(7),i=r(957),c=r.n(i),s=r(36),u=r.n(s),l=r(1),f=r(770),p=r.n(f);t.a=Object(o.e)((function(e){var t=e.history,r=e.intl,n="",i="",s="",f="";switch(e.pageName){case l.fc:n=a.a.createElement(o.a,{id:"app.mythemes.emptylibraries.lineone"}),i=a.a.createElement(o.a,{id:"app.mythemes.emptylibraries.linetwo"}),s=a.a.createElement(u.a,{variant:"cta",label:r.formatMessage({id:"app.mythemes.emptylibraries.redirectbutton"}),onClick:function(){return t.push("create")},className:p.a.redirectButton}),f=p.a.emptyMyThemes;break;case l.K.EXPLORE.MY_PUBLISHED:n=a.a.createElement(o.a,{id:"app.mypublished.emptypage.line1"});break;case l.K.EXPLORE.MY_APPRECIATIONS:n=a.a.createElement(o.a,{id:"app.myappreciations.emptypage.line1"}),i=a.a.createElement(o.a,{id:"app.myappreciations.emptypage.line2",values:{heart:a.a.createElement(c.a,{className:p.a.heartIcon})}});break;case l.sc:default:n=a.a.createElement(o.a,{id:"app.search.emptypage.line1"})}return a.a.createElement("div",{className:f||p.a.emptyPageContainer},a.a.createElement("div",{className:p.a.lineOne},n),a.a.createElement("div",{className:p.a.lineTwo},i),a.a.createElement("div",{className:p.a.redirect},s))}))},953:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(1),i=r(30),c=r(208),s=r.n(c),u=r(752),l=r.n(u),f=r(915),p=r(121),h=r(3),b=r(930),m=r.n(b),d=r(7),y=r(29),g=r(58),v=r(123),O=r(22);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}}function P(e,t,r){return t&&S(e.prototype,t),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=T(e);if(t){var a=T(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}(this,r)}}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,r){return(t=R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===w(t)?t:String(t)}var x=function(e,t){var r=Object(i.f)(e);return Object.keys(e).forEach((function(n){switch(n){case"hex":Object(p.a)(e)&&(r[n]="".concat(e.hex));break;case"rgb":r[n]="".concat(t.formatMessage({id:"app.create.colormode.dropdown.rgb"})," ").concat(r.rgb.r,", ").concat(r.rgb.g,", ").concat(r.rgb.b);break;case"hsv":r[n]="".concat(t.formatMessage({id:"app.create.colormode.dropdown.hsv"})," ").concat(r.hsv.h,", ").concat(r.hsv.s,", ").concat(r.hsv.v);break;case"cmyk":r[n]="".concat(t.formatMessage({id:"app.create.colormode.dropdown.cmyk"})," ").concat(r.cmyk.c,", ").concat(r.cmyk.m,", ").concat(r.cmyk.y,", ").concat(r.cmyk.k);break;case"lab":r[n]="".concat(t.formatMessage({id:"app.create.colormode.dropdown.lab"})," ").concat(r.lab.l,", ").concat(r.lab.a,", ").concat(r.lab.b);break;default:r[n]=e[n]}})),r},A=function(e){var t=e.swatch,r=e.textColor,n=e.isGradient,o=e.isCreate;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:l.a.colorValues,style:{color:r}},(n||Object(p.a)(t))&&a.a.createElement("div",{className:l.a.colorValue},"#",t.hex),a.a.createElement("div",{className:l.a.colorValue},t.rgb),a.a.createElement("div",{className:l.a.colorValue},t.hsv),a.a.createElement("div",{className:l.a.colorValue},t.cmyk),a.a.createElement("div",{className:l.a.colorValue},t.lab)),n&&o&&a.a.createElement("div",{className:l.a.copyHexContainer,style:{color:r}},a.a.createElement("div",{className:l.a.colorValue},a.a.createElement(m.a,{size:"S",className:l.a.copyIcon}),a.a.createElement(d.a,{styles:{paddingLeft:5},id:"app.oneup.copy"})),a.a.createElement("div",{className:l.a.colorValue},"#",t.hex)))},_=function(e){k(r,n.PureComponent);var t=C(r);function r(){var e;j(this,r);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return I(N(e=t.call.apply(t,[this].concat(i))),"onClick",(function(t,r){return function(){if(e.props.isCreate){var n=x(t,r).hex;Object(h.h)("#".concat(n)).then((function(){var t={workflow:Object(h.e)(e.props.ingestWorkflow[0]),subcategory:"".concat(o.Gb.GRADIENT,"_").concat(o.Gb.IMAGE),value:n},r=o.Eb.COPY_HEX;e.props.notification({variant:o.Bc,message:a.a.createElement(d.a,{id:"app.oneupactions.toast.success.message"})}),Object(O.a)(r,{event:t},[o.Gb.GRADIENT,o.Gb.IMAGE])})).catch((function(t){e.props.notification({variant:o.kb,message:a.a.createElement(d.a,{id:"app.oneupactions.toast.error.message"})})}))}}})),I(N(e),"selectedClass",(function(t){var r=e.props,n=r.assetType,a=r.activeSwatch,i=r.isCreate,c=r.order,s=r.gradientProps,u="";switch(n){case o.g.GRADIENT:u=i&&a===c[t]||!Object(h.t)(s)&&s.isOneUp&&a===t?l.a.themeDetailsCardContainerSelected:i?l.a.gradientDetailsCard:l.a.themeDetailsCard}return u})),e}return P(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.swatches,n=t.isCreate,c=this.props.assetType===o.g.GRADIENT;return a.a.createElement("div",{className:c?[n?l.a.themeDetailsCardContainerOnCreate:l.a.themeDetailsCardContainerOneUp]:l.a.themeDetailsCardContainer},r.map((function(t,r){return a.a.createElement(f.a,E({key:r},t,{onClick:e.onClick(t,e.props.intl),className:e.selectedClass(r)}),a.a.createElement(A,{textColor:Object(i.q)(t.rgb)>o.yb.RGB?"".concat(s.a.oneUpThemeDetailsTextColorDark):"".concat(s.a.oneUpThemeDetailsTextColorLight),swatch:x(t,e.props.intl),isGradient:c,isCreate:n}))})))}}]),r}(),D=function(e){k(r,n.Component);var t=C(r);function r(){return j(this,r),t.apply(this,arguments)}return P(r,[{key:"render",value:function(){return a.a.createElement(_,E({},this.props.themeData,{intl:this.props.intl,closeOneUp:this.props.closeOneUp,activeSwatch:this.props.activeSwatch,notification:this.props.notification,ingestWorkflow:this.props.ingestWorkflow}))}}]),r}(),L=Object(y.b)((function(e){return{activeSwatch:e.create.activeSwatch}}),(function(e){return Object(g.b)({notification:v.a},e)}))(D);t.a=L},955:function(e,t,r){"use strict";r.d(t,"a",(function(){return re}));var n=r(0),a=r.n(n),o=r(7),i=r(29),c=r(915),s=r(940),u=r(934),l=r(923),f=r(1),p=r(913),h=r(30),b=r(3),m=r(941),d=r(949),y=r(63),g=r(962),v=r(66),O=r(86),w=function(e){return e.reduce((function(e,t){return e&&t>0&&t<1}),!0)},E=new O.a,j=function(e,t,r){return function(e,t,r){var n=Object(v.b)(e).Y/100,a=Object(v.b)(t),o=r;r>1?o+=.01:o=1/(1/o+.01);var i=o*(n+.05)-.05;a.Y=100*i;var c=Object(v.c)(a),s=w([c.r,c.g,c.b]);if(!s){var u=function(e,t,r){var n=Object(v.b)(e).Y/100,a=Object(v.b)(t),o=[.3127,.329],i=[a.x,a.y],c=[o[0]-i[0],o[1]-i[1]],s=a.Y/100,u=Math.sqrt(c.reduce((function(e,t){return e+t*t}),0));c=c.map((function(e){return e/u}));var l=!1,f={r:1,g:1,b:1},p=r*(n+.05)-.05;if(p>1)return{outsRGB:f={r:1,g:1,b:1},valid:l=!1};if(p<0)return{outsRGB:f={r:1,g:0,b:0},valid:l=!1};E.setColors("rgb",[t.r,t.g,t.b],"rgb",[e.r,e.g,e.b]);for(var h=E.computeContrastRatio(!1),b=1;b<=1e3;b++){if(h<r){s=a.Y/100+.01;var m=Object(v.c)({x:a.x,y:a.y,Y:100*s});if(w([m.r,m.g,m.b]))a.Y=100*s;else if("break"===function(){var e=c.map((function(e){return.005*e}));i=[i[0]+e[0],i[1]+e[1]];var t=[o[0]-a.x,o[1]-a.y],r=Math.sqrt(t.reduce((function(e,t){return e+t*t}),0)),n=t.map((function(e){return e/r}));t=[o[0]-i[0],o[1]-i[1]],r=Math.sqrt(t.reduce((function(e,t){return e+t*t}),0));var s=t.map((function(e){return e/r}));if(s[0]*n[0]+s[1]*n[1]<0)return l=!1,f={r:1,g:1,b:1},"break";a.x=i[0],a.y=i[1]}())break}else{if(!(h>r)){f=Object(v.c)(a),l=!0;break}p>=0&&(a.Y=100*p)}var d=Object(v.d)(Object(v.c)(a));E.setColors("rgb",[d.r,d.g,d.b],"rgb",[e.r,e.g,e.b]),h=E.computeContrastRatio(!1)}return{outsRGB:f,valid:l}}(e,t,o);c=u.outsRGB,s=u.valid}return{outsRGB:Object(v.d)(c),valid:s}}(t,e,r)},S=r(927),P=r(36),k=r.n(P),C=r(967),N=r.n(C),T=r(100),I=r.n(T),R=r(963),x=r.n(R),A=r(920),_=r(123),D=r(47),L=r.n(D),M=r(37),B=r.n(M),U=r(743),G=r.n(U),F=r(208),W=r.n(F);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],s=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$(n.key),n)}}function K(e,t){return(K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t,r){return(t=$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $(e){var t=function(e,t){if("object"!==H(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===H(t)?t:String(t)}function ee(){return(ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var te=new O.a,re=function(e){var t=e.foregroundSwatch,r=e.backgroundSwatch,n=e.foregroundSwatchContainerClassName,o=e.foregroundSwatchTextClassName;return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.a,ee({key:0,id:0},t,{className:n}),a.a.createElement("p",{className:o,style:{color:Object(h.q)(Object(h.m)(t).rgb)>f.yb.RGB?"".concat(W.a.contrastThemeTextColorDark):"".concat(W.a.contrastThemeTextColorLight)}},"T")),a.a.createElement(c.a,ee({key:1,id:1},r)))},ne=function(){var e,t,r=Object(i.e)((function(e){return e.user.isLoggedIn})),n=f.Jb&&r,c=Object(i.e)((function(e){return e.colorContrast.contrastRatio}));switch(Object(b.o)(c)){case"AAA":e=a.a.createElement(o.a,{id:"app.savepanel.colorcontrast.all.checked.message"}),t=a.a.createElement(m.a,{className:G.a.displayMessageIcon});break;case"AA":e=a.a.createElement(o.a,{id:"app.savepanel.colorcontrast.aa.checked.message",values:{level:a.a.createElement("b",null,a.a.createElement(o.a,{id:"app.savepanel.level2"}))}}),t=a.a.createElement(m.a,{className:G.a.displayMessageIcon});break;default:e=a.a.createElement(o.a,{id:"app.savepanel.colorcontrast.fail.message"}),t=a.a.createElement(d.a,{className:G.a.displayMessageIcon})}return a.a.createElement(a.a.Fragment,null,n&&a.a.createElement("div",{className:G.a.savePanelDisplayMessageContainer},t,a.a.createElement("div",{className:G.a.displayMessage},e)))},ae=function(){var e=Object(i.e)((function(e){return e.colorContrast.foregroundSwatch})),t=Object(i.e)((function(e){return e.colorContrast.backgroundSwatch}));return a.a.createElement("div",{className:[G.a.themeContainer,"FFFFFF"===e.hex||"FFFFFF"===t.hex?G.a.borderForWhiteSwatch:""].join(" ")},a.a.createElement(re,{foregroundSwatch:e,backgroundSwatch:t,foregroundSwatchContainerClassName:G.a.foregroundSwatchContainer,foregroundSwatchTextClassName:G.a.foregroundSwatchText}))},oe=function(e){var t=e.intl,r=e.setIsApplied,n=e.isApplied,c=e.idx,s=e.backgroundSwatch,u=e.foregroundSwatch,l=e.notification,p=e.notificationMessage,h=e.locale,m=Object(i.d)();te.setColors("hex",u.hex,"hex",s.hex);var d=te.compute().contrastRatio.toFixed(1);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:G.a.suggestedThemeContainer},a.a.createElement("div",{className:[G.a.suggestedTheme,"FFFFFF"===u.hex||"FFFFFF"===s.hex?G.a.borderForWhiteSwatch:""].join(" ")},a.a.createElement(re,{foregroundSwatch:u,backgroundSwatch:s,foregroundSwatchContainerClassName:G.a.foregroundSwatchContainer,foregroundSwatchTextClassName:G.a.foregroundSwatchText})),a.a.createElement("div",{className:G.a.suggestedThemeActions},n?a.a.createElement("div",{className:G.a.appliedContainer},a.a.createElement(x.a,{className:G.a.checkMarkIcon}),t.formatMessage({id:"app.savepanel.contrast.applied"})):a.a.createElement(N.a,{onClick:function(e){e.preventDefault(),r&&r(c),m(Object(A.c)({foregroundSwatch:u,backgroundSwatch:s})),m(Object(A.d)({foregroundSwatch:u,backgroundSwatch:s})),l&&m(l({variant:f.Bc,message:p}))}},t.formatMessage({id:"app.savepanel.contrast.apply"})),a.a.createElement("div",null," ",t.formatMessage({id:"app.contrast.ratio"})," ",a.a.createElement("b",null,a.a.createElement(o.b,{value:d,minimumFractionDigits:1}),Object(b.p)(h),"1")))))},ie=function(e,t,r){var n=[],a=parseFloat(e,10);if(!isNaN(a)&&!Object(b.t)(a)){var o=j(r.rgb,t.rgb,a);o.valid&&n.push({foregroundSwatch:Object(h.o)([o.outsRGB.r,o.outsRGB.g,o.outsRGB.b]),backgroundSwatch:t}),(o=j(r.rgb,t.rgb,1/a)).valid&&n.push({foregroundSwatch:Object(h.o)([o.outsRGB.r,o.outsRGB.g,o.outsRGB.b]),backgroundSwatch:t}),(o=j(t.rgb,r.rgb,a)).valid&&n.push({foregroundSwatch:r,backgroundSwatch:Object(h.o)([o.outsRGB.r,o.outsRGB.g,o.outsRGB.b])}),(o=j(t.rgb,r.rgb,1/a)).valid&&n.push({foregroundSwatch:r,backgroundSwatch:Object(h.o)([o.outsRGB.r,o.outsRGB.g,o.outsRGB.b])})}return n},ce=function(e){for(var t=e.intl,r=e.currentRatio,n=e.backgroundSwatch,i=e.foregroundSwatch,c=e.locale,s=Math.ceil(r),u=[],l=Math.max(s+1,5);l<Math.min(21,s+4);l++){var p=ie(l,n,i);if((u=u.concat(p)).length>=f.ac){u.length=f.ac;break}}return 0===u.length?a.a.createElement("div",{className:G.a.noResultFound},t.formatMessage({id:"app.savepanel.contrast.no.result.found"})):a.a.createElement(a.a.Fragment,null,u.map((function(e,r){return a.a.createElement(oe,ee({intl:t},e,{isApplied:!1,idx:r,notification:_.a,notificationMessage:a.a.createElement(o.a,{id:"app.contrast.applied"}),locale:c}))})))},se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Q(e);if(t){var a=Q(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Y(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Z(Y(n=t.call(this,e)),"compute",(function(){var e=n.props,t=e.backgroundSwatch,r=e.foregroundSwatch,a=n.props.inputContrastRatio;!Object(b.t)(a)&&a.includes(",")&&(a="".concat(a.split(",")[0],".").concat(a.split(",")[1])),n.setState({suggestions:ie(a,t,r),isAppliedId:null})})),n.state={isAppliedId:null,suggestions:[]},n.setIsAppliedId=n.setIsAppliedId.bind(Y(n)),n}return function(e,t,r){t&&X(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"setIsAppliedId",value:function(e){this.setState({isAppliedId:e})}},{key:"componentDidUpdate",value:function(e){this.props.shouldComputeResults&&(this.compute(),this.setState({isAppliedId:null}),this.props.setShouldComputeResults(!1))}},{key:"render",value:function(){var e=this,t=this.props.intl;return 0!==this.state.suggestions.length||this.props.isInputSelected?a.a.createElement(a.a.Fragment,null,this.state.suggestions.map((function(r,n){return a.a.createElement(oe,ee({},r,{intl:t,isApplied:n===e.state.isAppliedId,setIsApplied:e.setIsAppliedId,idx:n}))}))):a.a.createElement("div",{className:G.a.noResultFound},t.formatMessage({id:"app.savepanel.contrast.no.result.found"}))}}]),r}(),ue=function(e){var t=e.onTabChange,r=e.intl,c=e.locale,s=Object(i.e)((function(e){return e.colorContrast.history.present.contrastRatio})),u=Object(i.e)((function(e){return e.colorContrast.history.present.backgroundSwatch})),l=Object(i.e)((function(e){return e.colorContrast.history.present.foregroundSwatch})),p=J(Object(n.useState)(null),2),h=p[0],m=p[1],d=J(Object(n.useState)(!0),2),y=d[0],g=d[1],v=J(Object(n.useState)(!1),2),O=v[0],w=v[1],E=J(Object(n.useState)(!0),2),j=E[0],P=E[1],C=function(){h&&(g(!1),P(!0))};return a.a.createElement(a.a.Fragment,null,a.a.createElement(S.Accordion,{defaultSelectedIndex:0,onChange:function(){return m(null)},className:G.a.accordian},a.a.createElement(S.AccordionItem,{header:r.formatMessage({id:"app.savepanel.contrast.suggestions"})},a.a.createElement(ce,{intl:r,currentRatio:s.contrastRatio,backgroundSwatch:u,foregroundSwatch:l,locale:c})),a.a.createElement(S.AccordionItem,{header:r.formatMessage({id:"app.savepanel.contrast.setratio"})},a.a.createElement("div",{className:G.a.inputContrastContainer},a.a.createElement("div",{className:[G.a.inputContrastRatioBox,O?G.a.isSelected:""].join(" ")},a.a.createElement(I.a,Z({autoFocus:!1,className:G.a.inputContrastRatio,quiet:!0,value:h||"",onChange:function(e){return m(e)},onFocus:function(){g(!0),w(!0)},onBlur:function(){return w(!1)},onKeyPress:function(e){e.charCode===f.Pb.ENTER&&(e.target.blur(),C())}},"autoFocus",!0)),a.a.createElement("div",{className:G.a.colon},Object(b.p)(c)),a.a.createElement("div",{className:G.a.inputContrastFixedField},"1")),y?a.a.createElement(B.a,{className:G.a.buttonTooltip,placement:"bottom",trigger:["hover"]},a.a.createElement(k.a,{className:G.a.setResetButton,label:r.formatMessage({id:"app.go"}),onClick:C,disabled:!h}),a.a.createElement(L.a,null,a.a.createElement(o.a,{id:"app.go"}))):a.a.createElement(B.a,{className:G.a.buttonTooltip,placement:"bottom",trigger:["hover"]},a.a.createElement(k.a,{className:G.a.setResetButton,label:r.formatMessage({id:"app.refresh"}),onClick:function(){P(!0)}}),a.a.createElement(L.a,null,a.a.createElement(o.a,{id:"app.refresh"})))),a.a.createElement(se,{intl:r,backgroundSwatch:u,isInputSelected:O,foregroundSwatch:l,inputContrastRatio:h,shouldComputeResults:j,setShouldComputeResults:P}))),a.a.createElement(k.a,{className:f.Nb?G.a.saveToLibrariesTablet:G.a.saveToLibraries,label:r.formatMessage({id:"app.savepanel.contrast.save.to.libraries"}),onClick:function(){t(1)}}))};t.b=Object(o.e)((function(e){var t=e.intl,r=e.showLargeView,o=e.ingestWorkflow,c=e.closeDialog,h=V(V({},Object(l.a)(f.g.THEME,t,!0)),{},{isUserLoggedIn:Object(i.e)((function(e){return e.user.isLoggedIn})),isEditWorkflow:Object(i.e)((function(e){return e.colorContrast.isEditWorkflow})),isSwatchesEmpty:!1,signintocreativecloudmessage:t.formatMessage({id:"app.savepanel.signintocreativecloudmessage.h2"}),usageMessage:t.formatMessage({id:"app.savepanel.theme.pageDescription.h3"}),isAllowedToPublish:!1,showLargeView:r,ingestWorkflow:o,closeDialog:c,message:a.a.createElement(ne,null),tags:a.a.createElement(s.a,{showLargeView:r,ingestWorkflow:o})}),b=Object(i.e)((function(e){return e.user.locale})),m=Object(i.d)(),d=J(Object(n.useState)(0),2),v=d[0],O=d[1],w=function(e){e!==v&&O(e)};return Object(n.useEffect)((function(){m(Object(p.g)(!1))}),[]),a.a.createElement(g.TabView,{className:G.a.saveAndRecommendation,selectedIndex:v,onSelect:w},a.a.createElement(y.Tab,{label:t.formatMessage({id:"app.savepanel.recommendations"})},a.a.createElement(ue,{intl:t,onTabChange:w,locale:b})),a.a.createElement(y.Tab,{label:t.formatMessage({id:"app.savepanel.save"})},a.a.createElement("div",{className:G.a.colorContrastSaveContainer},a.a.createElement(u.a,h,a.a.createElement(ae,null)))))}))},956:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(753),i=r.n(o);t.a=a.a.memo((function(e){return a.a.createElement("div",{className:i.a.gridWrapper},e.children)}))},958:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(7),i=r(927),c=r(974),s=r.n(c),u=r(945),l=r.n(u),f=r(29),p=r(1),h=r(3),b=r(58),m=r(36),d=r.n(m),y=function(){return a.a.createElement("svg",{className:"spectrum-Icon",xmlns:"http://www.w3.org/2000/svg","data-name":"S_ColorThemeEdit_18_N@2x",height:"36",id:"S_ColorThemeEdit_18_N_2x",viewBox:"0 0 36 36",width:"36"},a.a.createElement("path",{d:"M35.645,16.685l-4.324-4.323a.912.912,0,0,0-.65-.265h-.028a1.035,1.035,0,0,0-.7.3L14.711,27.639a.736.736,0,0,0-.188.315l-2.444,7.34c-.085.282.345.638.588.638a.231.231,0,0,0,.046-.005c.207-.048,6.26-2.118,7.344-2.444a.733.733,0,0,0,.31-.187L35.6,18.059a1.03,1.03,0,0,0,.3-.662A.916.916,0,0,0,35.645,16.685ZM14.039,33.973l1.978-5.519,3.54,3.531C17.936,32.472,15.439,33.555,14.039,33.973Z"}),a.a.createElement("path",{d:"M20,18.956V4.5a.5.5,0,0,0-.5-.5h-3a.5.5,0,0,0-.5.5v17a.5.5,0,0,0,.5.5h.456Z"}),a.a.createElement("path",{d:"M26,12.955V4.5a.5.5,0,0,0-.5-.5h-3a.5.5,0,0,0-.5.5V16.955Z"}),a.a.createElement("path",{d:"M28.251,10.705A3.4,3.4,0,0,1,30.55,9.7l.075,0h.046A3.335,3.335,0,0,1,32,9.976V5a1,1,0,0,0-1-1H28.5a.5.5,0,0,0-.5.5v6.455Z"}),a.a.createElement("path",{d:"M5,4H7.5a.5.5,0,0,1,.5.5v17a.5.5,0,0,1-.5.5H5a1,1,0,0,1-1-1V5A1,1,0,0,1,5,4Z"}),a.a.createElement("rect",{height:"18",rx:"0.5",width:"4",x:"10",y:"4"}))},g=r(30),v=r(22),O=r(99),w=r(913),E=r(920);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function P(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===j(t)?t:String(t)}function k(e,t){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=N(e);if(t){var a=N(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).onClick=n.onClick.bind(C(n)),n}return function(e,t,r){t&&S(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onClick",value:function(){var e={workflow:Object(h.e)(this.props.ingestWorkflow[0]),subcategory:p.Gb.ONEUP},t=[];if(this.props.onClick&&this.props.onClick(),this.props.swatches.forEach((function(e,r){var n=[e.rgb.r,e.rgb.g,e.rgb.b];t.push(Object(g.f)(Object(g.u)("rgb",n)))})),this.props.isForContrastChecker?(this.props.setContrastColors({foregroundSwatch:t[0],backgroundSwatch:t[1]}),this.props.setContrastColorsHistory({foregroundSwatch:t[0],backgroundSwatch:t[1]}),this.props.setThemeNameAndIsUserEnteredName({themeName:this.props.name,isUserEnteredName:!0})):(this.props.setInitialOrder({order:Object(h.k)(this.props.swatches.length)}),this.props.setColorMode(this.props.colorMode.toUpperCase()===p.x.CMYK?p.x.RGB:this.props.colorMode.toUpperCase()),(this.props.metadata||this.props.accessibilityData)&&this.props.setIsAccessible(Object(h.t)(this.props.metadata.isAccessible)?!Object(h.t)(this.props.accessibilityData.colorBlindSafe)&&this.props.accessibilityData.colorBlindSafe:this.props.metadata.isAccessible),this.props.setInitialSwatches(t),this.props.setThemeNameAndIsUserEnteredName({themeName:this.props.name,isUserEnteredName:!0}),this.props.setHarmonyRule()),this.props.source.toLowerCase()===p.p.toLowerCase()){var r=JSON.parse(this.props.criteria),n=r.main;this.props.setSaveLibrary({id:n,name:r.name}),this.props.isForContrastChecker?this.props.setContrastColorEditWorkflow(!0):this.props.setEditWorkflow(!0),this.props.cclibraryUpdateThemeFlow({cclibraryThemeUpdateLibId:n,cclibraryThemeUpdateAssetId:this.props.id}),Object(v.a)(p.Eb.THEME_EDIT,{event:e},[p.Gb.ONEUP])}else this.props.setAssetType(p.g.THEME),this.props.setWorkflow(p.J.COLORWHEEL),Object(v.a)(p.Eb.THEME_CREATE,{event:e},[p.Gb.ONEUP]);this.props.updateTagsToSave(this.props.tags),this.props.history.push("/".concat(this.props.locale).concat(this.props.route))}},{key:"render",value:function(){return a.a.createElement(d.a,{onClick:this.onClick,icon:a.a.createElement(y,null),label:a.a.createElement(o.a,{id:this.props.labelText}),value:p.jb,variant:"primary",quiet:!0})}}]),r}(),I=Object(f.b)((function(e){return{locale:e.user.locale}}),(function(e){return Object(b.b)({setAssetType:O.setAssetType,setSwatch:O.setSwatch,setWorkflow:O.setWorkflow,setThemeNameAndIsUserEnteredName:w.h,updateTagsToSave:w.i,cclibraryUpdateThemeFlow:w.a,setColorMode:O.setColorMode,setEditWorkflow:O.setEditWorkflow,setHarmonyRule:O.setHarmonyRule,setInitialOrder:O.setInitialOrder,setSaveLibrary:w.f,setInitialSwatches:O.setInitialSwatches,setIsAccessible:O.setIsAccessible,setContrastColors:E.c,setContrastColorsHistory:E.d,setContrastColorEditWorkflow:E.b},e)}))(T),R=r(24),x=r(47),A=r.n(x),_=r(37),D=r.n(_),L=r(759),M=r.n(L),B=r(760),U=r.n(B);function G(){return(G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var F=function(e){var t=G({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return a.a.createElement("svg",G({},t,{className:U.a.fill,xmlns:"http://www.w3.org/2000/svg",height:"18",viewBox:"0 0 18 18",width:"18"}),a.a.createElement("title",null,"S AlertCircle 18 N"),a.a.createElement("rect",{id:"Canvas",opacity:"0",width:"18",height:"18"}),a.a.createElement("path",{d:"M7.84555,12.88618a1.13418,1.13418,0,0,1,1.1161-1.15195q.042-.00064.08391.00178a1.116,1.116,0,0,1,1.2,1.15017,1.09065,1.09065,0,0,1-1.2,1.11661,1.0908,1.0908,0,0,1-1.2-1.11661ZM10.0625,4.39771a.20792.20792,0,0,1,.09966.183V5.62212c0,1.40034-.28322,3.98034-.33305,4.48067,0,.04984-.01678.09967-.11695.09967H8.379a.11069.11069,0,0,1-.11695-.09967c-.03305-.46678-.3-3.0305-.3-4.43084V4.6306a.1773.1773,0,0,1,.08339-.18306,2.88262,2.88262,0,0,1,1.00017-.20033A3.27435,3.27435,0,0,1,10.0625,4.39771ZM17.50005,9A8.50005,8.50005,0,1,1,9,.5H9A8.50008,8.50008,0,0,1,17.50005,9ZM15.67484,9A6.67485,6.67485,0,1,0,9,15.6748H9A6.67479,6.67479,0,0,0,15.67484,9Z"}))};function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X(n.key),n)}}function z(e,t){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t,r){return(t=X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e){var t=function(e,t){if("object"!==W(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===W(t)?t:String(t)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=J(e);if(t){var a=J(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return V(e)}(this,r)}}(r);function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return q(V(e=t.call.apply(t,[this].concat(a))),"goToHelpXPage",(function(t){t.stopPropagation();var r={workflow:p.Gb.CCX_ONEUP,subcategory:p.Gb.CCX_ONEUP,value:p.Gb.CCX_ONEUP};Object(v.a)(p.Eb.CCX_ONEUP,{event:r},[p.Gb.CCX_ONEUP]),window.open(e.props.intl.formatMessage({id:"app.explore.ccxbanner.link.oneup.helpX"}),"_blank")})),q(V(e),"goToExpressPage",(function(t){t.stopPropagation();var r={workflow:p.Gb.CCX_ONEUP,subcategory:p.Gb.CCX_ONEUP,value:p.Gb.CCX_ONEUP};Object(v.a)(p.Eb.CCX_ONEUP,{event:r},[p.Gb.CCX_ONEUP]),window.open(e.props.intl.formatMessage({id:"app.explore.ccxbanner.link.oneup"}),"_blank")})),e}return function(e,t,r){t&&H(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){return a.a.createElement(d.a,{className:M.a.createButton,onClick:this.goToExpressPage,icon:R.c,label:this.props.intl.formatMessage({id:"app.oneup.action.express"}),variant:"primary",quiet:!0},a.a.createElement(D.a,{placement:"top",variant:"info"},a.a.createElement(F,{onClick:this.goToHelpXPage}),a.a.createElement(A.a,null,this.props.intl.formatMessage({id:"app.oneup.adobeExpress"}))))}}]),r}(),Y=r(975),Q=r.n(Y),Z=r(917),$=r(123);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ie(n.key),n)}}function re(e,t){return(re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t,r){return(t=ie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e){var t=function(e,t){if("object"!==ee(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===ee(t)?t:String(t)}var ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&re(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae(e);if(t){var a=ae(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ne(e)}(this,r)}}(r);function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return oe(ne(e=t.call.apply(t,[this].concat(i))),"onViewPublishedClicked",(function(){window.open(e.props.href,"_blank")})),oe(ne(e),"onClick",(function(){var t={};t.name=e.props.name,t.tags=e.props.tags,t.swatches=e.props.swatches,t.harmony=e.props.harmony,t.libraryid=JSON.parse(e.props.criteria).main,t.colorMode=e.props.colorMode,e.props.publishThemeFromOneUp(t,{id:e.props.id,uniqueID:e.props.uniqueID,criteria:e.props.criteria,srcName:p.p,isPublishToKuler:!0}).then((function(){e.props.notification({variant:p.Bc,message:a.a.createElement(o.a,{id:"app.publish.toast.success.message"})})})).catch((function(){e.props.notification({variant:p.kb,message:a.a.createElement(o.a,{id:"app.publish.toast.error.message"})})}))})),e}return function(e,t,r){t&&te(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){return a.a.createElement(d.a,{onClick:this.props.isAssetPublished?this.onViewPublishedClicked:this.onClick,icon:a.a.createElement(Q.a,null),label:this.props.isAssetPublished?this.props.intl.formatMessage({id:"app.oneup.actions.viewpublished"}):this.props.intl.formatMessage({id:"app.oneup.actions.publish"}),value:p.qc,variant:"primary",quiet:!0,disabled:Object(h.t)(this.props.isAssetPublished)})}}]),r}(),se={notification:$.a,publishThemeFromOneUp:Z.i},ue=Object(f.b)(null,se)(ce),le=Object(o.e)(ue),fe=r(85),pe=r.n(fe),he=r(916),be=r.n(he),me=r(211),de=r.n(me),ye=r(209),ge=r(930),ve=r.n(ge),Oe=r(924);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,je(n.key),n)}}function je(e){var t=function(e,t){if("object"!==we(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==we(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===we(t)?t:String(t)}function Se(e,t){return(Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Se(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ke(e);if(t){var a=ke(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===we(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pe(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).buttonClicked=n.buttonClicked.bind(Pe(n)),n.themeToLess=n.themeToLess.bind(Pe(n)),n.themeToCSS=n.themeToCSS.bind(Pe(n)),n.themeToSCSS=n.themeToSCSS.bind(Pe(n)),n.themeToXML=n.themeToXML.bind(Pe(n)),n}return function(e,t,r){t&&Ee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"themeToXML",value:function(e){var t="<palette>\n";return e.swatches.forEach((function(r,n){Object(g.r)(r.rgb),t+="<color name='".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(n+1,"' rgb='").concat(r.hex,"' ")+"r='".concat(parseInt(r.rgb.r*p.z.MAX.RGB.R,10),"'")+" g='".concat(parseInt(r.rgb.g*p.z.MAX.RGB.G,10),"'")+" b='".concat(parseInt(r.rgb.b*p.z.MAX.RGB.B,10),"' />\n")})),t+="</palette>",Object(h.h)(t)}},{key:"themeToSCSS",value:function(e){var t="",r={};return t="/* Color Theme Swatches in Hex */\n",e.swatches.forEach((function(r,n){t+="$".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(n+1,"-hex: #").concat(r.hex,";\n")})),t+="\n/* Color Theme Swatches in RGBA */\n",e.swatches.forEach((function(r,n){t+="$".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(n+1,"-rgba:")+" rgba(".concat(parseInt(r.rgb.r*p.z.MAX.RGB.R,10),",")+"".concat(parseInt(r.rgb.g*p.z.MAX.RGB.G,10),",")+"".concat(parseInt(r.rgb.b*p.z.MAX.RGB.B,10),", 1);\n")})),t+="\n/* Color Theme Swatches in HSLA */\n",e.swatches.forEach((function(n,a){r=Object(g.r)(n.rgb),t+="$".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(a+1,"-hsla:")+" hsla(".concat(parseInt(r.h*p.z.MAX.HSL.H,10),",")+" ".concat(parseInt(r.s*p.z.MAX.HSL.S,10),",")+" ".concat(parseInt(r.l*p.z.MAX.HSL.L,10),", 1);\n")})),Object(h.h)(t)}},{key:"themeToCSS",value:function(e){var t="",r={};switch(e.assetType){case p.g.GRADIENT:var n=Object(Oe.b)(e.swatches),a=n.linearGradientDataHEX,o=n.linearGradientDataRGBA;t="/* Gradient in Hex */\n",t+="linear-gradient(to right, ".concat(a,");\n"),t+="\n/* Gradient in RGBA */\n",t+="linear-gradient(to right, ".concat(o,");\n");break;default:t="/* Color Theme Swatches in Hex */\n",e.swatches.forEach((function(r,n){t+=".".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(n+1,"-hex { color: #").concat(r.hex,"; }\n")})),t+="\n/* Color Theme Swatches in RGBA */\n",e.swatches.forEach((function(r,n){t+=".".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(n+1,"-rgba { ")+"color: rgba(".concat(parseInt(r.rgb.r*p.z.MAX.RGB.R,10),",")+" ".concat(parseInt(r.rgb.g*p.z.MAX.RGB.G,10),",")+" ".concat(parseInt(r.rgb.b*p.z.MAX.RGB.B,10),", 1); }\n")})),t+="\n/* Color Theme Swatches in HSLA */\n",e.swatches.forEach((function(n,a){r=Object(g.r)(n.rgb),t+=".".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(a+1,"-hsla { ")+"color: hsla(".concat(parseInt(r.h*p.z.MAX.HSL.H,10),",")+" ".concat(parseInt(r.s*p.z.MAX.HSL.S,10),",")+" ".concat(parseInt(r.l*p.z.MAX.HSL.L,10),", 1); }\n")}))}return Object(h.h)(t)}},{key:"themeToLess",value:function(e){var t="",r={};return t="/* Color Theme Swatches in Hex */\n",e.swatches.forEach((function(r,n){t+="@".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(n+1,"-hex: #").concat(r.hex,";\n")})),t+="\n/* Color Theme Swatches in RGBA */\n",e.swatches.forEach((function(r,n){t+="@".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(n+1,"-rgba:")+" rgba(".concat(parseInt(r.rgb.r*p.z.MAX.RGB.R,10),",")+" ".concat(parseInt(r.rgb.g*p.z.MAX.RGB.G,10),",")+" ".concat(parseInt(r.rgb.b*p.z.MAX.RGB.B,10),", 1);\n")})),t+="\n/* Color Theme Swatches in HSLA */\n",e.swatches.forEach((function(n,a){r=Object(g.r)(n.rgb),t+="@".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(a+1,"-hsla:")+" hsla(".concat(parseInt(r.h*p.z.MAX.HSL.H,10),",")+" ".concat(parseInt(r.s*p.z.MAX.HSL.S,10),",")+" ".concat(parseInt(r.l*p.z.MAX.HSL.L,10),", 1);\n")})),Object(h.h)(t)}},{key:"buttonClicked",value:function(e){var t=this,r=!1,n={workflow:Object(h.e)(this.props.ingestWorkflow[0]),subcategory:p.Gb.ONEUP,value:e},i={type:this.props.themeData.assetType};switch(Object(v.a)(p.Eb.COPY,{event:n,content:i},[p.Gb.ONEUP]),e){case p.mb.LESS:r=this.themeToLess(this.props.themeData);break;case p.mb.CSS:r=this.themeToCSS(this.props.themeData);break;case p.mb.SASS:r=this.themeToSCSS(this.props.themeData);break;case p.mb.XML:r=this.themeToXML(this.props.themeData)}r.then((function(){t.props.notification({variant:p.Bc,message:a.a.createElement(o.a,{id:"app.oneupactions.toast.success.message"})})})).catch((function(e){console.log(e),t.props.notification({variant:p.kb,message:a.a.createElement(o.a,{id:"app.oneupactions.toast.error.message"})})}))}},{key:"render",value:function(){var e=this,t=!0,r=!0,n=!0,i=this.props.isExpanded;return this.props.themeData.assetType===p.g.GRADIENT&&(t=!1,r=!1,n=!1),a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(d.a,{icon:a.a.createElement(ve.a,null),label:i?a.a.createElement(o.a,{id:"app.copy.less"}):"",value:p.mb.LESS,variant:"primary",quiet:!0,onClick:function(){return e.buttonClicked(p.mb.LESS)}}),a.a.createElement(d.a,{icon:a.a.createElement(ve.a,null),label:i?a.a.createElement(o.a,{id:"app.copy.css"}):"",value:p.mb.CSS,variant:"primary",quiet:!0,onClick:function(){return e.buttonClicked(p.mb.CSS)}}),r&&a.a.createElement(d.a,{icon:a.a.createElement(ve.a,null),label:i?a.a.createElement(o.a,{id:"app.copy.sass"}):"",value:p.mb.SASS,variant:"primary",quiet:!0,onClick:function(){return e.buttonClicked(p.mb.SASS)}}),n&&a.a.createElement(d.a,{icon:a.a.createElement(ve.a,null),label:i?a.a.createElement(o.a,{id:"app.copy.xml"}):"",value:p.mb.XML,variant:"primary",quiet:!0,onClick:function(){return e.buttonClicked(p.mb.XML)}}))}}]),r}(),Ne=Object(o.e)(Ce),Te=r(935),Ie=r(938),Re=r(936),xe=r(919),Ae=r(742),_e=r.n(Ae);function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Me(n.key),n)}}function Me(e){var t=function(e,t){if("object"!==De(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==De(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===De(t)?t:String(t)}function Be(e,t){return(Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Be(e,t)}(r,n.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ge(e);if(t){var a=Ge(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===De(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ue(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).onClick=n.onClick.bind(Ue(n)),n}return function(e,t,r){t&&Le(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onClick",value:function(e,t){var r=t.ingestWorkflow,n=t.isUserLoggedIn,a=t.themeData;e.stopPropagation(),Object(xe.a)(r,n,a,this.props.ingestSubcategory)}},{key:"render",value:function(){var e=this,t=!Object(h.v)(),r=a.a.createElement(d.a,{className:this.props.className,icon:a.a.createElement(be.a,null),label:this.props.isExpanded?this.props.intl.formatMessage({id:this.props.actionText}):"",onClick:function(t){return e.onClick(t,e.props)},variant:"primary",quiet:!0});return this.props.isExpanded?t&&r:t&&a.a.createElement(D.a,{className:_e.a.tooltip,placement:"bottom",trigger:["hover"]},r,a.a.createElement(A.a,null,a.a.createElement(o.a,{id:this.props.actionText})))}}]),r}();Fe.defaultProps={actionText:"app.grid.card.actionsmenu.downloadaction"};var We=Object(o.e)(Fe),He=r(976),ze=r(91),Ve=r.n(ze),Je=r(210),qe=r.n(Je),Xe=r(100),Ke=r.n(Xe),Ye=r(87),Qe=r.n(Ye),Ze=r(129),$e=r.n(Ze),et=r(977),tt=r.n(et),rt=r(761),nt=r.n(rt);function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(){return(ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ut(n.key),n)}}function st(e,t,r){return t&&ct(e.prototype,t),r&&ct(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ut(e){var t=function(e,t){if("object"!==at(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===at(t)?t:String(t)}function lt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ht(e);if(t){var a=ht(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===at(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pt(e)}(this,r)}}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bt=function(e){lt(r,n.Component);var t=ft(r);function r(e){var n;return it(this,r),(n=t.call(this,e)).state={name:e.loggedInUser.name,email:e.loggedInUser.email,report:n.props.intl.formatMessage({id:"app.reportabuse.dialog.report1"}),reason:n.props.intl.formatMessage({id:"app.reportabuse.dialog.reason1"}),description:""},n.getFormData=n.getFormData.bind(pt(n)),n}return st(r,[{key:"getFormData",value:function(){var e=this.state.report===this.props.intl.formatMessage({id:"app.reportabuse.dialog.report1"})?p.Dc:p.Cc,t=this.state;return{name:t.name,email:t.email,report:t.report,reportedOn:e,reason:t.reason,description:t.description}}},{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(o.a,{id:"app.reportabuse.message",values:{termsOfUse:a.a.createElement("a",{className:nt.a.redirectLink,href:"".concat(this.props.intl.formatMessage({id:"app.url.termsofuse"})),target:"_blank"},a.a.createElement(o.a,{id:"app.footer.termsofuse"})),communityGuidelines:a.a.createElement("a",{className:nt.a.redirectLink,target:"_blank",href:"/".concat(this.props.intl.locale,"/communityguidelines")},a.a.createElement(o.a,{id:"app.footer.communityguidelines"}))}})),a.a.createElement(He.Form,{className:nt.a.form},a.a.createElement(He.FormItem,{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.name"}),className:nt.a.formItem},a.a.createElement(Ke.a,{placeholder:this.props.intl.formatMessage({id:"app.reportabuse.dialog.name.placeholder"}),value:this.state.name,onChange:function(t){return e.setState({name:t})}})),a.a.createElement(He.FormItem,{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.email"}),className:nt.a.formItem},a.a.createElement(Ke.a,{placeholder:this.props.intl.formatMessage({id:"app.reportabuse.dialog.email.placeholder"}),value:this.state.email,onChange:function(t){return e.setState({email:t})}})),a.a.createElement(He.FormItem,{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.report"}),className:nt.a.formItem},a.a.createElement(qe.a,{value:this.state.report,style:{width:"100%"},options:[{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.report1"}),value:this.props.intl.formatMessage({id:"app.reportabuse.dialog.report1"})},{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.report2"}),value:this.props.intl.formatMessage({id:"app.reportabuse.dialog.report2"})}],onChange:function(t){return e.setState({report:t})}})),a.a.createElement(He.FormItem,{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason"}),className:nt.a.formItem},a.a.createElement(qe.a,{value:this.state.reason,style:{width:"100%"},options:[{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason1"}),value:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason1"})},{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason2"}),value:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason2"})},{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason3"}),value:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason3"})},{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason4"}),value:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason4"})},{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason5"}),value:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason5"})},{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason6"}),value:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason6"})}],onChange:function(t){return e.setState({reason:t})}})),a.a.createElement(He.FormItem,{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.description"}),className:nt.a.formItem},a.a.createElement(Ve.a,{value:this.state.description,onChange:function(t){return e.setState({description:t})}}))))}}]),r}(),mt=function(e){lt(r,n.Component);var t=ft(r);function r(e){var n;return it(this,r),(n=t.call(this,e)).state={cancelClicked:!1},n.onSubmit=n.onSubmit.bind(pt(n)),n.sendIngestEvent=n.sendIngestEvent.bind(pt(n)),n}return st(r,[{key:"onSubmit",value:function(e,t){var r=this;if(this.state.cancelClicked)return!0;var n=t.themeData,a=t.reportAbuse,o=this.dialogRef.getFormData();if(0===o.name.length||!Object(h.q)(o.email))return!1;a({themeData:n,dialog:o}).then((function(){r.props.notification({variant:p.Bc,message:r.props.intl.formatMessage({id:"app.reportabuse.notification.success"})})})).catch((function(){r.props.notification({variant:p.kb,message:r.props.intl.formatMessage({id:"app.reportabuse.notification.failure"})})}))}},{key:"sendIngestEvent",value:function(){var e={workflow:Object(h.e)(this.props.ingestWorkflow[0]),subcategory:p.Gb.ONEUP,value:p.Gb.ABUSE};Object(v.a)(p.Eb.REPORT_ABUSE,{event:e},[p.Gb.ONEUP])}},{key:"render",value:function(){var e=this;return a.a.createElement($e.a,null,a.a.createElement(d.a,{icon:a.a.createElement(tt.a,null),label:this.props.isExpanded?this.props.intl.formatMessage({id:"app.theme.action.reportabuse"}):"",variant:"primary",quiet:!0,onClick:function(){return e.sendIngestEvent()}}),a.a.createElement(Qe.a,{className:nt.a.reportAbuseModal,title:this.props.intl.formatMessage({id:"app.theme.action.reportabuse"}),confirmLabel:this.props.intl.formatMessage({id:"app.reportabuse.dialog.submit"}),cancelLabel:this.props.intl.formatMessage({id:"app.reportabuse.dialog.cancel"}),onClose:function(t){return e.onSubmit(t,e.props)},onCancel:function(){return e.setState({cancelClicked:!0})},ref:function(t){e.reportAbuseDialogRef=t}},a.a.createElement(bt,ot({ref:function(t){e.dialogRef=t}},this.props))))}}]),r}(),dt=Object(o.e)(mt),yt=r(745),gt=r.n(yt),vt=r(978),Ot=r.n(vt),wt=r(122),Et=Object(o.e)((function(e){var t=a.a.createElement(d.a,{value:p.eb,className:e.className,icon:a.a.createElement(Ot.a,null),label:e.isExpanded?e.intl.formatMessage({id:"app.grid.card.actionsmenu.deleteaction"}):"",onClick:function(t){return function(e,t){e.stopPropagation(),t.onClick&&t.onClick();var r=t.criteria,n=t.deleteTheme,i=t.isUserLoggedIn,c=t.ingestWorkflow,s=t.notification,u=t.themeData,l=t.ingestSubcategory,f=t.deleteAssetFromView,b=t.undoDelete;if(i){var m={workflow:Object(h.e)(c[0]),subcategory:Object(h.t)(l)?c[0]:l,value:u.source===p.Qb?p.Gb.PUBLIC:p.Gb.PRIVATE},d=Object(wt.a)(u);d.type=u.assetType,Object(v.a)(p.Eb.DELETE,{event:m,content:d},c);var y=a.a.createElement(o.a,{id:"app.themedelete.toast.success.message"}),g=a.a.createElement(o.a,{id:"app.notifcation.assetType.theme"});if(u.source===p.p){switch(u.assetType){case p.g.GRADIENT:g=a.a.createElement(o.a,{id:"app.notifcation.assetType.gradient"})}y=a.a.createElement(o.a,{id:"app.delete.confirmationtoast.message",values:{assetType:g}}),f(),s({variant:p.Bc,message:a.a.createElement("div",{style:{display:"grid",justifyItems:"end"}},y,a.a.createElement("div",{onClick:b(),style:{cursor:"pointer"}},a.a.createElement(o.a,{id:"app.delete.confirmationtoast.option.undo"}))),workflow:p.ic.THEME_DELETION,themeData:u,criteria:r,deleteTheme:function(){return n(u,r)}})}else n(u,r).then((function(){s({variant:p.Bc,message:y})})).catch((function(){s({variant:p.kb,message:a.a.createElement(o.a,{id:"app.themedelete.toast.error.message"})})}))}else if(window.adobeIMS){var O={workflow:Object(h.e)(c[0]),subcategory:p.Gb.NAVIGATION};Object(v.a)(p.Eb.USER_SIGN_IN,{event:O},c),window.adobeIMS.signIn()}else console.error("window.adobeIMS is not defined")}(t,e)},variant:"primary",quiet:!0});return e.isExpanded?t:a.a.createElement(D.a,{className:_e.a.tooltip,placement:"bottom",trigger:["hover"]},t,a.a.createElement(A.a,null,a.a.createElement(o.a,{id:"app.grid.card.actionsmenu.deleteaction"})))})),jt=r(121),St=r(937);function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ct(n.key),n)}}function Ct(e){var t=function(e,t){if("object"!==Pt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Pt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Pt(t)?t:String(t)}function Nt(e,t){return(Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nt(e,t)}(r,n.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=It(e);if(t){var a=It(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Pt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tt(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).onClick=n.onClick.bind(Tt(n)),n}return function(e,t,r){t&&kt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onClick",value:function(e){e.stopPropagation();var t=this.props,r=t.ingestWorkflow,n=t.isUserLoggedIn,a=t.themeData,o=t.ingestSubcategory;(0,t.downloadAsPNG)(r,n,a,o)}},{key:"render",value:function(){var e=a.a.createElement(d.a,{className:this.props.className,icon:a.a.createElement(be.a,null),label:this.props.isExpanded?this.props.intl.formatMessage({id:this.props.actionText}):"",onClick:this.onClick,variant:"primary",quiet:!0});return this.props.isExpanded?e:a.a.createElement(D.a,{className:_e.a.tooltip,placement:"bottom",trigger:["hover"]},e,a.a.createElement(A.a,null,a.a.createElement(o.a,{id:this.props.actionText})))}}]),r}();Rt.defaultProps={actionText:"app.oneup.gradientactions.downloadaspng"};var xt=Object(o.e)(Rt);function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dt(n.key),n)}}function Dt(e){var t=function(e,t){if("object"!==At(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==At(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===At(t)?t:String(t)}function Lt(e,t){return(Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lt(e,t)}(r,n.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Bt(e);if(t){var a=Bt(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===At(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mt(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).onClick=n.onClick.bind(Mt(n)),n}return function(e,t,r){t&&_t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onClick",value:function(e){e.stopPropagation();var t=this.props,r=t.ingestWorkflow,n=t.isUserLoggedIn,a=t.themeData,o=t.ingestSubcategory;(0,t.downloadAsSVG)(r,n,a,p.f,o)}},{key:"render",value:function(){var e=this,t=a.a.createElement(d.a,{className:this.props.className,icon:a.a.createElement(be.a,null),label:this.props.isExpanded?this.props.intl.formatMessage({id:this.props.actionText}):"",onClick:function(t){return e.onClick(t,e.props)},variant:"primary",quiet:!0});return this.props.isExpanded?t:a.a.createElement(D.a,{className:_e.a.tooltip,placement:"bottom",trigger:["hover"]},t,a.a.createElement(A.a,null,a.a.createElement(o.a,{id:this.props.actionText})))}}]),r}();Ut.defaultProps={actionText:"app.oneup.gradientactions.downloadassvg"};var Gt=Object(o.e)(Ut);function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(){return(Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ht(e){return function(e){if(Array.isArray(e))return zt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return zt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zt(n.key),n)}}function qt(e,t,r){return t&&Jt(e.prototype,t),r&&Jt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Qt(e);if(t){var a=Qt(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Ft(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yt(e)}(this,r)}}function Yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zt(e){var t=function(e,t){if("object"!==Ft(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Ft(t)?t:String(t)}var $t=function(e){Xt(r,n.PureComponent);var t=Kt(r);function r(e){var n;return Vt(this,r),function(e,t,r){(t=Zt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Yt(n=t.call(this,e)),"onButtonClick",(function(){n.props.closeOneUp&&n.props.closeOneUp()})),n.ingestSubcategory=p.Gb.ONEUP,n}return qt(r,[{key:"render",value:function(){var e,t=this.props,r=!(t.isImageCard||t.isUserLoggedIn&&t.themeData.author.guid===t.userId||t.themeData.source===p.p),n=!!Object(h.t)(t.showAddToLibrary)||t.showAddToLibrary,o=Object(jt.b)(t.themeData.swatches),i=t.history,c=t.isInline,s=void 0!==c&&c,u=this.props.themeData.assetType===p.g.GRADIENT,l=p.Jb&&t.themeData.source===p.p&&!Object(h.t)(t.themeData.accessibilityData.wcagLevel),f=!1,b=!0,m=!1,y=!1;if(t.themeData.source===p.Qb?(f=t.isUserLoggedIn&&t.themeData.author.guid===t.userId,y=t.featureFlags&&t.featureFlags.includes(p.ob.ENABLE_SSR)):t.themeData.source===p.p&&(f=!t.readOnly,b=!(u||l||t.readOnly||o),y=m=!l&&!u&&!t.readOnly&&t.isAllowedToPublish&&!o),e=b&&p.Jb&&t.themeData.source===p.p,s){var g=[].concat(Ht(u?[{value:"png",component:a.a.createElement(xt,Wt({actionText:"app.oneup.gradientactions.downloadaspng",className:gt.a.buttonHeight},t,{isExpanded:!0,ingestSubcategory:this.ingestSubcategory,downloadAsPNG:xe.b}))}]:[]),Ht(u?[{value:"svg",component:Object(h.v)()?null:a.a.createElement(Gt,Wt({actionText:"app.oneup.gradientactions.downloadassvg",className:gt.a.buttonHeight},t,{isExpanded:!0,ingestSubcategory:this.ingestSubcategory,downloadAsSVG:xe.c}))}]:[]),Ht(u?[]:[{value:"ase",component:Object(h.v)()?null:a.a.createElement(We,Wt({actionText:"app.oneup.pantoneactions.downloadasase",className:gt.a.buttonHeight},t,{isExpanded:!0,ingestSubcategory:this.ingestSubcategory}))}]),Ht(u?[]:[{value:"jpeg",component:a.a.createElement(St.a,Wt({className:gt.a.buttonHeight},t,{ingestSubcategory:this.ingestSubcategory}))}])),v=(g=g.filter((function(e){return null!==e.component}))).length>0;return a.a.createElement("div",{className:gt.a.inlineThemeActions},n&&a.a.createElement(Te.a,Wt({},t,{isExpanded:!s,ingestSubcategory:this.ingestSubcategory})),r&&a.a.createElement(Re.a,Wt({},t,{isExpanded:!s,ingestSubcategory:this.ingestSubcategory})),v&&a.a.createElement(de.a,{closeOnSelect:!0},a.a.createElement(d.a,{icon:a.a.createElement(be.a,null),label:"",variant:"primary",quiet:!0,dropdownTrigger:!0}),a.a.createElement(ye.Menu,{dropdownMenu:!0},g.map((function(e){return a.a.createElement(ye.MenuItem,{role:"menuitemradio",value:e.value},e.component)})))),y&&a.a.createElement(Ie.a,{criteria:this.props.criteria,ingestWorkflow:this.props.ingestWorkflow,isThemeAllowedToPublish:m,text:this.props.intl.formatMessage({id:"app.share.tweet.text"}),themeData:t.themeData}),t.themeData.source===p.Qb&&a.a.createElement(dt,Wt({},t,{isExpanded:!s})))}return a.a.createElement("div",{className:gt.a.actions},n&&a.a.createElement(Te.a,Wt({},t,{isExpanded:!0,ingestSubcategory:this.ingestSubcategory})),r&&a.a.createElement(Re.a,Wt({},t,{isExpanded:!0,ingestSubcategory:this.ingestSubcategory})),!u&&a.a.createElement(a.a.Fragment,null,a.a.createElement(We,Wt({actionText:"app.oneup.pantoneactions.downloadasase",className:gt.a.buttonHeight},t,{isExpanded:!0,ingestSubcategory:this.ingestSubcategory})),a.a.createElement(St.a,Wt({className:gt.a.buttonHeight},t,{ingestSubcategory:this.ingestSubcategory}))),u&&a.a.createElement(a.a.Fragment,null,a.a.createElement(xt,Wt({actionText:"app.oneup.gradientactions.downloadaspng",className:gt.a.buttonHeight},t,{isExpanded:!0,ingestSubcategory:this.ingestSubcategory,downloadAsPNG:xe.b})),a.a.createElement(Gt,Wt({actionText:"app.oneup.gradientactions.downloadassvg",className:gt.a.buttonHeight},t,{isExpanded:!0,ingestSubcategory:this.ingestSubcategory,downloadAsSVG:xe.c}))),a.a.createElement(Ne,Wt({},t,{isExpanded:!0})),y&&a.a.createElement(Ie.a,{className:gt.a.buttonHeight,criteria:this.props.criteria,ingestWorkflow:this.props.ingestWorkflow,isThemeAllowedToPublish:m,label:this.props.intl.formatMessage({id:"app.share.label"}),text:this.props.intl.formatMessage({id:"app.share.tweet.text"}),themeData:t.themeData}),(f||b||m)&&a.a.createElement(pe.a,{variant:"small",className:gt.a.separator}),m&&a.a.createElement(le,Wt({},t.themeData,{criteria:this.props.criteria})),b&&a.a.createElement(I,Wt({},t.themeData,{ingestWorkflow:this.props.ingestWorkflow,history:i,onClick:this.onButtonClick,route:p.rc.CREATE,labelText:t.themeData.source.toLowerCase()===p.p.toLowerCase()?"app.edit.a.copy":"app.create.using.theme"})),e&&a.a.createElement(I,Wt({},t.themeData,{ingestWorkflow:this.props.ingestWorkflow,history:i,onClick:this.onButtonClick,route:p.rc.CREATEACCESSIBLE,labelText:"app.edit.a.copy.accessibility"})),l&&a.a.createElement(I,Wt({},t.themeData,{ingestWorkflow:this.props.ingestWorkflow,history:i,onClick:this.onButtonClick,route:p.rc.CREATE_COLOR_CONTRAST,isForContrastChecker:!0,labelText:"app.edit.a.copy.contrastChecked"})),a.a.createElement(K,Wt({},t,{ingestWorkflow:this.props.ingestWorkflow})),f&&a.a.createElement(Et,Wt({},t,{isExpanded:!0,onClick:this.onButtonClick,ingestSubcategory:this.ingestSubcategory,className:gt.a.deleteAction})),t.themeData.source===p.Qb&&a.a.createElement(a.a.Fragment,null,a.a.createElement(pe.a,{variant:"small",className:gt.a.separator}),a.a.createElement(dt,Wt({},t,{isExpanded:!0}))))}}]),r}(),er=function(e){Xt(r,n.PureComponent);var t=Kt(r);function r(){return Vt(this,r),t.apply(this,arguments)}return qt(r,[{key:"render",value:function(){return a.a.createElement($t,this.props)}}]),r}();function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rr(){return(rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function nr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ar(n.key),n)}}function ar(e){var t=function(e,t){if("object"!==tr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==tr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===tr(t)?t:String(t)}function or(e,t){return(or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cr(e){return(cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&or(e,t)}(r,n.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=cr(e);if(t){var a=cr(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===tr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ir(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).onButtonClick=n.onButtonClick.bind(ir(n)),n.ingestSubcategory=p.Gb.ONEUP,n}return function(e,t,r){t&&nr(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onButtonClick",value:function(){this.props.closeOneUp&&this.props.closeOneUp()}},{key:"render",value:function(){var e=this.props,t=e.history,r=e.themeData,n=this.props.themeData.assetType===p.g.GRADIENT,o=!1;r.accessibilityData&&r.accessibilityData.wcagLevel&&!p.Jb&&(o=!0);var i=!1,c=!0,s=!1;return e.themeData.source===p.Qb?i=e.isUserLoggedIn&&e.themeData.author.guid===e.userId:e.themeData.source===p.p&&(i=!e.readOnly,c=!(n||o||e.readOnly||Object(jt.b)(e.themeData.swatches)),s=!n&&!e.readOnly&&e.isAllowedToPublish&&!Object(jt.b)(e.themeData.swatches)),a.a.createElement("div",{className:"".concat(gt.a.actions," ").concat(gt.a.moreactions)},a.a.createElement(Ne,rr({},e,{isExpanded:!0})),s&&a.a.createElement(le,rr({},e.themeData,{criteria:e.criteria})),c&&a.a.createElement(I,rr({},e.themeData,{ingestWorkflow:this.props.ingestWorkflow,history:t,onClick:this.onButtonClick,route:p.rc.CREATE,labelText:e.themeData.source.toLowerCase()===p.p.toLowerCase()?"app.edit.a.copy":"app.create.using.theme"})),a.a.createElement(K,rr({},e,{ingestWorkflow:this.props.ingestWorkflow})),i&&a.a.createElement(Et,rr({},e,{isExpanded:!0,onClick:this.onButtonClick,ingestSubcategory:this.ingestSubcategory,className:gt.a.deleteButton})))}}]),r}(),ur=r(762),lr=r.n(ur),fr=r(763),pr=r.n(fr),hr=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","data-name":"S_Close_18_N@2x",height:"36",id:"S_Close_18_N_2x",viewBox:"0 0 36 36",width:"36"},a.a.createElement("path",{className:pr.a.fill,d:"M26.485,6.686,18,15.172,9.515,6.686a1,1,0,0,0-1.414,0L6.686,8.1a1,1,0,0,0,0,1.414L15.172,18,6.686,26.485a1,1,0,0,0,0,1.414L8.1,29.314a1,1,0,0,0,1.414,0L18,20.828l8.485,8.485a1,1,0,0,0,1.414,0L29.314,27.9a1,1,0,0,0,0-1.414L20.828,18l8.485-8.485a1,1,0,0,0,0-1.414L27.9,6.686A1,1,0,0,0,26.485,6.686Z"}))},br=r(208),mr=r.n(br),dr=r(915),yr=r(932);function gr(e){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vr(){return(vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nr(n.key),n)}}function Er(e,t,r){return t&&wr(e.prototype,t),r&&wr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function Sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=kr(e);if(t){var a=kr(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===gr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pr(e)}(this,r)}}function Pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kr(e){return(kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cr(e,t,r){return(t=Nr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nr(e){var t=function(e,t){if("object"!==gr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==gr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===gr(t)?t:String(t)}var Tr=function(e){jr(r,n.PureComponent);var t=Sr(r);function r(){var e;return Or(this,r),Cr(Pr(e=t.call(this)),"onClick",(function(t){return function(){var r=Object(jt.a)(t)?t.pantone:"#".concat(t.hex);Object(h.h)(r).then((function(){var n={workflow:Object(h.e)(e.props.ingestWorkflow[0]),subcategory:p.Gb.ONEUP,value:r},i=Object(wt.a)(e.props.themeData),c=Object(jt.a)(t)?p.Eb.COPY_PANTONE:p.Eb.COPY_HEX;p.Ob&&e.props.notification({variant:p.Bc,message:a.a.createElement(o.a,{id:"app.oneupactions.toast.success.message"})}),Object(v.a)(c,{content:i,event:n},[p.Gb.ONEUP]),e.setState({copyTextStatus:!0})})).catch((function(t){p.Ob&&e.props.notification({variant:p.kb,message:a.a.createElement(o.a,{id:"app.oneupactions.toast.error.message"})}),e.setState({copyTextStatus:!1})}))}})),Cr(Pr(e),"onCopyText",(function(t){t.preventDefault(),e.setState({copyTextStatus:!1})})),e.state={copyTextStatus:!1},e}return Er(r,[{key:"render",value:function(){var e=this,t=this.props.themeData,r=t.gradientProps;return r.isOneUp=!0,a.a.createElement("div",{className:gt.a.theme,onMouseOver:this.onCopyText},t.assetType!==p.g.GRADIENT?t.swatches.map((function(r,n){return a.a.createElement(dr.a,vr({key:n},r,{onClick:e.onClick(r),className:t.accessibilityData.wcagLevel?gt.a.contrastCheckedLongSwatchWithHex:gt.a.longSwatchWithHex,children:a.a.createElement("div",{className:gt.a.hexColorValue,style:{color:Object(g.q)(r.rgb)>p.yb.RGB?"".concat(mr.a.oneUpThemeDetailsTextColorDark):"".concat(mr.a.oneUpThemeDetailsTextColorLight)}},!p.Ob&&a.a.createElement("div",{className:gt.a.copyHex},a.a.createElement(ve.a,{size:"S",className:gt.a.copyIcon}),a.a.createElement(o.a,{styles:{paddingLeft:5},id:e.state.copyTextStatus?"app.oneup.copied":"app.oneup.copy"})),t.accessibilityData.wcagLevel?a.a.createElement("div",{className:[gt.a.contrastCheckedSwatch,Object(g.q)(r.rgb)>p.yb.RGB?"".concat(mr.a.oneUpThemeDetailsTextColorDark):"".concat(mr.a.oneUpThemeDetailsTextColorLight)].join(" ")},a.a.createElement("p",null,e.props.intl.formatMessage({id:0===n?"app.contrastChecker.colortype.text":"app.contrastChecker.colortype.background"})),a.a.createElement("span",null,"#".concat(r.hex))):a.a.createElement("div",{className:gt.a.hex},Object(jt.a)(r)?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,"".concat(jt.d)),a.a.createElement("div",null,"".concat(r.pantone.split(jt.d).join(" ")))):"#".concat(r.hex)))}))})):a.a.createElement(yr.a,{stops:t.swatches,gradientProps:r,themeData:t,notification:this.props.notification}))}}]),r}(),Ir=function(e){return a.a.createElement("div",{className:gt.a.sidePanel},a.a.createElement(er,e))},Rr=function(e){jr(r,n.PureComponent);var t=Sr(r);function r(){return Or(this,r),t.apply(this,arguments)}return Er(r,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Tr,vr({},this.props,{ingestWorkflow:this.props.ingestWorkflow})),!p.Mb&&a.a.createElement(Ir,vr({},this.props,{isInline:!1})))}}]),r}(),xr=r(764),Ar=r.n(xr),_r=a.a.memo((function(e){var t="avatar-default";return"lg"===e.size?t=Ar.a.avatarLarge:"sm"===e.size&&(t=Ar.a.avatarSmall),a.a.createElement("div",{className:"".concat(Ar.a.avatar," ").concat(t)},e.src?a.a.createElement("img",{src:e.src}):a.a.createElement("p",null,e.name.charAt(0).toUpperCase()))})),Dr=r(10),Lr=r(939),Mr=r(951),Br=r.n(Mr),Ur=r(765),Gr=r.n(Ur);function Fr(e){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hr(n.key),n)}}function Hr(e){var t=function(e,t){if("object"!==Fr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Fr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Fr(t)?t:String(t)}function zr(e,t){return(zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Vr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jr(e){return(Jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zr(e,t)}(r,n.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Jr(e);if(t){var a=Jr(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Fr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vr(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).onKeyPress=n.onKeyPress.bind(Vr(n)),n.updateTags=n.updateTags.bind(Vr(n)),n.updateThemeName=n.updateThemeName.bind(Vr(n)),n.state={tags:n.props.themeData.tags.filter((function(e){return e&&!Object(h.t)(e.value)})).map((function(e){return e.value})),name:n.props.themeData.name},n}return function(e,t,r){t&&Wr(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"updateTags",value:function(e){var t=this.props.themeData,r={name:this.state.name,tags:e.map((function(e){return{value:e}})),swatches:t.swatches,harmony:t.harmony,cclibraryThemeUpdateAssetId:t.id,cclibraryThemeUpdateLibId:JSON.parse(t.criteria).main,colorMode:t.colorMode,accessibilityData:t.metadata&&t.metadata.isAccessible?{colorBlindSafe:!0}:t.accessibilityData},n={uniqueID:t.uniqueID,tags:e};this.setState({tags:e}),this.props.updateThemeTags(t.criteria,n),this.props.updateAssetFromOneUp(t.criteria,r,p.g.THEME)}},{key:"updateThemeName",value:function(e){this.setState({name:e.target.value})}},{key:"onKeyPress",value:function(e){var t=this;if(e.which===p.Pb.ENTER&&this.state.name!==this.props.themeData.name){var r=this.props,n=r.themeData,i=r.ingestWorkflow,c={uniqueID:n.uniqueID,name:this.state.name,assetType:this.props.themeData.assetType},s={},u=p.g.THEME,l="app.mythemes.oneup.updtaename.success.message",f="app.mythemes.oneup.updtaename.error.message";this.props.themeData.assetType===p.g.GRADIENT?(s={name:this.state.name,cclibraryThemeUpdateAssetId:n.id,cclibraryThemeUpdateLibId:JSON.parse(n.criteria).main},u=p.g.GRADIENT,l="app.gradients.oneup.updatename.success.message",f="app.gradients.oneup.updatename.error.message"):s={name:this.state.name,tags:this.state.tags.map((function(e){return{value:e}})),swatches:n.swatches,harmony:n.harmony,cclibraryThemeUpdateAssetId:n.id,cclibraryThemeUpdateLibId:JSON.parse(n.criteria).main,colorMode:n.colorMode,accessibilityData:n.metadata&&n.metadata.isAccessible?{colorBlindSafe:!0}:n.accessibilityData};var b={workflow:Object(h.e)(i[0]),subcategory:p.Gb.ONEUP,value:p.Gb.PRIVATE},m=Object(wt.a)(n);m.type=n.assetType,Object(v.a)(p.Eb.RENAME,{event:b,content:m},i),this.props.updateThemeName(n.criteria,c),this.props.updateAssetFromOneUp(n.criteria,s,u).then((function(){t.props.notification({variant:p.Bc,message:a.a.createElement(o.a,{id:l})})})).catch((function(){t.props.notification({variant:p.kb,message:a.a.createElement(o.a,{id:f})})}))}}},{key:"render",value:function(){var e=this.props,t=e.intl,r=(e.readOnly,"");switch(e.themeData.assetType){case p.g.GRADIENT:r=this.props.intl.formatMessage({id:"app.mythemes.oneup.info.gradientname.placeholder"});break;default:r=this.props.intl.formatMessage({id:"app.mythemes.oneup.info.name.placeholder"})}return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:Gr.a.themeNameContainer},a.a.createElement(o.a,{id:"app.mythemes.oneup.info.name"}),a.a.createElement("input",{className:"".concat(Gr.a.themeName," spectrum-Textfield"),placeholder:r,value:this.state.name,onChange:this.updateThemeName,onKeyPress:this.onKeyPress,disabled:this.props.themeData.readOnly})),this.props.themeData.assetType===p.g.THEME&&a.a.createElement("div",{className:Gr.a.tagsContainer},a.a.createElement(o.a,{id:"app.mythemes.oneup.info.tags"}),a.a.createElement(Br.a,{closeable:!1,placeholder:t.formatMessage({id:"app.mythemes.oneup.info.tags.placeholder"}),value:this.state.tags,onChange:this.updateTags,className:Gr.a.tagsBox,disabled:this.props.themeData.readOnly})))}}]),r}(),Xr=Object(f.b)(null,(function(e){return Object(b.b)({updateThemeName:Z.k,updateThemeTags:Z.l,updateAssetFromOneUp:Z.j},e)}))(qr),Kr=Object(o.e)(Xr),Yr=r(766),Qr=r.n(Yr),Zr=r(959);function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nn(n.key),n)}}function rn(e,t,r){return t&&tn(e.prototype,t),r&&tn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nn(e){var t=function(e,t){if("object"!==$r(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==$r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===$r(t)?t:String(t)}function an(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function on(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=sn(e);if(t){var a=sn(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===$r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cn(e)}(this,r)}}function cn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var un=function(e){var t=new URL(e);return"".concat(t.origin,"/").concat(p.Ac[Object(Dr.b)(p.vc)]).concat(t.pathname,"/").concat(t.search)},ln=function(e,t,r){var n={workflow:Object(h.e)(t[0]),subcategory:p.Gb.NAVIGATION,value:e},a=Object(wt.a)(r);Object(v.a)(p.Eb.NAV_SOURCE,{content:a,event:n},[p.Gb.ONEUP])},fn=function(e,t,r){var n={workflow:Object(h.e)(t[0]),subcategory:p.Gb.NAVIGATION,value:e},a=Object(wt.a)(r);Object(v.a)(p.Eb.NAV_UNAME,{content:a,event:n},[p.Gb.ONEUP])},pn=function(e){var t,r,n=e.ingestWorkflow,o=e.themeData,i=e.intl;switch(o.source){case p.i:t=R.j,r=o.href;break;case p.zc:case p.Pc:t=R.C,r=un(o.href,i.locale);break;default:r=o.href}return a.a.createElement("a",{target:"_blank",className:Qr.a.redirectIcon,href:r,onClick:function(){return ln("icon",n,o)}},t)},hn=function(e){var t=e.ingestWorkflow,r=e.themeData;if(r.source===p.Qb)return a.a.createElement(a.a.Fragment,null,a.a.createElement("hr",{className:Qr.a.divider}),a.a.createElement("div",{className:Qr.a.authorInfo},a.a.createElement(_r,{name:r.author.name}),a.a.createElement("div",{className:Qr.a.authorName},r.author.name)));if(!Object(h.t)(r.image)&&!Object(h.t)(r.image.creator)){var n=r.image.creator.profileUrl?r.image.creator.profileUrl:"";return r.source===p.zc&&(n=un(n)),a.a.createElement(a.a.Fragment,null,a.a.createElement("hr",{className:Qr.a.divider}),a.a.createElement("div",{className:Qr.a.authorInfo},a.a.createElement("a",{target:"_blank",href:n,onClick:function(){return fn("avatar",t,r)}},a.a.createElement(_r,{name:r.image.creator.name,src:r.image.creator.imageUrl})),a.a.createElement("a",{className:Qr.a.authorName,target:"_blank",href:n,onClick:function(){return fn("name",t,r)}},r.image.creator.name)))}return""},bn=function(e){var t=e.ingestWorkflow,r=e.themeData,n=e.intl,o=e.noLinkToBookmarkable,i=e.notification;return a.a.createElement("div",{className:"".concat(Qr.a.infoContainer," ").concat(r.source===p.p?Qr.a.ccLibraryInfo:"")},a.a.createElement(mn,{ingestWorkflow:t,intl:n,themeData:r,noLinkToBookmarkable:o,notification:i}),a.a.createElement(hn,{ingestWorkflow:t,themeData:r}))},mn=function(e){an(r,n.PureComponent);var t=on(r);function r(e){var n;return en(this,r),(n=t.call(this,e)).getSourceHref=n.getSourceHref.bind(cn(n)),n}return rn(r,[{key:"getSourceHref",value:function(e){var t="";switch(e){case p.zc:t=un(this.props.themeData.href);break;case p.Qb:t=function(e,t){return"/".concat(Object(Dr.b)(p.vc),"/").concat(e,"-color-theme-").concat(t)}(encodeURIComponent(this.props.themeData.name),this.props.themeData.id);break;default:t=this.props.themeData.href}return t}},{key:"render",value:function(){var e=this.props,t=e.ingestWorkflow,r=e.themeData,n=e.intl;if(r.source===p.p)return a.a.createElement("div",{className:Qr.a.cclibInfoOuterContiner},a.a.createElement("div",null,a.a.createElement(Kr,this.props)),r.accessibilityData.wcagLevel&&a.a.createElement("div",{className:Qr.a.cclibMetadataContainer},a.a.createElement(Zr.a,{accessibilityData:r.accessibilityData,placement:"top"})),(r.metadata.isAccessible||r.accessibilityData.colorBlindSafe)&&a.a.createElement("div",{className:Qr.a.cclibMetadataContainer},a.a.createElement("img",{src:R.m})));if(r.source===p.Qb){var i=this.props.noLinkToBookmarkable?a.a.createElement("div",{className:Qr.a.projectName},r.name):a.a.createElement("a",{href:this.getSourceHref(r.source),className:Qr.a.projectName,target:"_blank",onClick:function(){return ln("name",t,r)}},r.name);return a.a.createElement("div",{className:Qr.a.themeInfoAndIconContainer},a.a.createElement("div",{className:Qr.a.imageInfo},i,a.a.createElement("div",{className:Qr.a.themeTags},Object(h.n)(r.tags))))}return a.a.createElement("div",{className:Qr.a.themeInfoAndIconContainer},a.a.createElement("div",{className:Qr.a.imageInfo},a.a.createElement("div",{className:Qr.a.supportText},a.a.createElement(o.a,{id:"app.oneup.supporttext"})),a.a.createElement("a",{href:this.getSourceHref(r.source),className:Qr.a.projectName,target:"_blank",onClick:function(){return ln("name",t,r)}},r.name)),a.a.createElement(pn,{ingestWorkflow:t,intl:n,themeData:r}))}}]),r}(),dn=function(e){an(r,n.PureComponent);var t=on(r);function r(){return en(this,r),t.apply(this,arguments)}return rn(r,[{key:"render",value:function(){var e=this.props,t=e.ingestWorkflow,r=e.themeData,n=e.intl,o=e.noLinkToBookmarkable,i=e.notification;return void 0===r.image?a.a.createElement("div",{className:"".concat(Qr.a.imageAndInfo," ").concat(Qr.a.singleCol)},a.a.createElement(bn,{ingestWorkflow:t,themeData:r,intl:n,noLinkToBookmarkable:o,notification:i})):a.a.createElement("div",{className:Qr.a.imageAndInfo},!p.Mb&&a.a.createElement(Lr.a,{className:Qr.a.image,cardType:p.nc,width:r.image.width,height:r.image.height,src:r.image.src}),a.a.createElement(bn,{ingestWorkflow:t,themeData:r,intl:n,notification:i}))}}]),r}(),yn=r(953);function gn(e){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vn(){return(vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function On(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wn(n.key),n)}}function wn(e){var t=function(e,t){if("object"!==gn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==gn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===gn(t)?t:String(t)}function En(e,t){return(En=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sn(e){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pn=a.a.createElement("div",{className:lr.a.accordionItemHeader},a.a.createElement("div",{className:lr.a.libraryName},a.a.createElement(s.a,{size:"S",className:"Safari"===Object(h.c)()?lr.a.codeIconSafari:lr.a.codeIcon}),a.a.createElement(o.a,{id:"app.oneup.colormodes"})),a.a.createElement(l.a,{size:"S",className:lr.a.accordionOpenCloseChevron})),kn=a.a.createElement("div",{className:lr.a.accordionItemHeader},a.a.createElement("div",{className:lr.a.libraryName},a.a.createElement(o.a,{id:"app.label.moreactions"})),a.a.createElement(l.a,{size:"S",className:lr.a.accordionOpenCloseChevron})),Cn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&En(e,t)}(r,n.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Sn(e);if(t){var a=Sn(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===gn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jn(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).onChange=n.onChange.bind(jn(n)),n}return function(e,t,r){t&&On(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidMount",value:function(){this.props.themeData.source===p.p&&this.props.themeData.assetType===p.g.THEME&&Object(h.t)(this.props.themeData.accessibilityData.wcagLevel)&&!this.props.readOnly&&this.props.isAllowedToPublish&&!Object(jt.b)(this.props.themeData.swatches)&&this.props.isThemePublished(this.props.themeData.id,{uniqueID:this.props.themeData.uniqueID,criteria:this.props.criteria,srcName:p.p})}},{key:"onChange",value:function(e,t){if(!Object(h.t)(e)&&e<1){var r=[p.Eb.COLOR_MODES],n={workflow:Object(h.e)(this.props.ingestWorkflow[0]),subcategory:p.Gb.ONEUP},a={type:""};r[e]===p.Eb.COLOR_MODES&&(a.type=this.props.themeData.assetType),Object(v.a)(r[e],{event:n,content:a},this.props.ingestWorkflow)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.showQuickView;return t.isUserLoggedIn,a.a.createElement("div",{className:lr.a.oneUp},a.a.createElement("div",{className:lr.a.row},a.a.createElement(Rr,this.props)),a.a.createElement("div",{className:lr.a.row},a.a.createElement(dn,this.props)),p.Mb&&a.a.createElement("div",{className:lr.a.themeActionsWrapper},a.a.createElement(er,vn({},this.props,{isInline:!0}))),a.a.createElement(i.Accordion,{className:lr.a.accordion,onChange:function(t){return e.onChange(t,e.props)},defaultSelectedIndex:p.Mb?0:null},a.a.createElement(i.AccordionItem,{className:lr.a.accordionItem,header:Pn},a.a.createElement(yn.a,this.props)),p.Mb&&a.a.createElement(i.AccordionItem,{className:lr.a.accordionItem,header:kn},a.a.createElement(sr,this.props))),r&&a.a.createElement("div",{className:lr.a.closeButton,onClick:this.props.closeOneUp},a.a.createElement(hr,null)))}}]),r}();Cn.defaultProps={showQuickView:!1};var Nn={isThemePublished:Z.h};t.a=Object(f.b)((function(e){return{featureFlags:e.user.featureFlags}}),Nn)(Object(o.e)(Cn))},959:function(e,t,r){"use strict";r.d(t,"a",(function(){return te}));var n=r(0),a=r.n(n),o=r(927),i=r(969),c=r.n(i),s=r(970),u=r.n(s),l=r(7),f=r(956),p=r(9),h=r(3),b=r(1),m=r(944),d=r(210),y=r.n(d),g=r(769),v=r.n(g);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function E(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===O(t)?t:String(t)}function j(e,t){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=P(e);if(t){var a=P(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).onChange=n.onChange.bind(S(n)),n}return function(e,t,r){t&&w(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onChange",value:function(e){this.props.fetchWithSort(e),this.props.changeSortOption(e)}},{key:"shouldComponentUpdate",value:function(e){return this.props.locale!==e.locale||this.props.sortOption!==e.sortOption}},{key:"render",value:function(){var e=this,t=this.props.disabled,r=b.ec.map((function(t){return{label:e.props.intl.formatMessage({id:b.ib[t]}),value:t}}));return a.a.createElement("div",{className:v.a.myThemesSortDropDown},a.a.createElement("div",{className:t?[v.a.disabled,v.a.dropDownLabel].join(" "):v.a.dropDownLabel},this.props.intl.formatMessage({id:"app.mythemes.sortoption.label"})),a.a.createElement(y.a,{options:r,quiet:!0,disabled:t,value:this.props.sortOption,onChange:function(t){return e.onChange(t)},flexible:!0}))}}]),r}(),C=Object(l.e)(k),N=r(950),T=r(85),I=r.n(T),R=r(121),x=r(29),A=r(746),_=r.n(A),D=r(922),L=r(22),M=r(954),B=r(960),U=r(952),G=r(917);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(){W=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new S(a||[]);return n(i,"_invoke",{value:function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return{value:void 0,done:!0}}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function h(){}function b(){}var m={};s(m,o,(function(){return this}));var d=Object.getPrototypeOf,y=d&&d(d(P([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=b.prototype=p.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==F(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=b,n(g,"constructor",{value:b,configurable:!0}),n(b,"constructor",{value:h,configurable:!0}),h.displayName=s(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(O.prototype),s(O.prototype,i,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new O(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(g),s(g,c,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function H(e,t,r,n,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,a)}var z=Object(l.e)((function(e){var t=Object(D.a)(!1,!0,!1),r=t.libraries,n=(t.haveLibrariesBeenFetched,t.fetchData),o=t.initialLibFetchUrl,i=r.map((function(e){return{label:e.name,value:e.id}})),c=Object(x.d)(),s=Object(p.g)(),u=s.location.pathname.split("/"),f=u[u.length-1],m=Object(U.a)({load:function(e){return function(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){H(o,n,a,i,c,"next",e)}function c(e){H(o,n,a,i,c,"throw",e)}i(void 0)}))}}(W().mark((function t(){var r,a,i;return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.signal,a=e.cursor,t.next=3,n(a||o,r);case 3:return i=t.sent,t.abrupt("return",{items:i.listData,cursor:i.hrefNext});case 5:case"end":return t.stop()}}),t)})))()}});return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:_.a.dropDownLabel},e.intl.formatMessage({id:"app.mythemes.dropdown.label"})),a.a.createElement(M.a,{width:"100%",marginStart:"5px",marginEnd:"25px","aria-label":a.a.createElement(l.a,{id:"app.savepanel.saveto"}),items:m.items,isLoading:m.isLoading,selectedKey:f,onSelectionChange:function(t){return function(t){u.pop(),u.push(t);var r={workflow:Object(h.e)(b.dc),subcategory:b.Gb.LIBRARY_SELECTOR},n=i.filter((function(e){return e.value===t}))[0];Object(L.a)(b.Eb.LIBRARY_CHANGED,{event:r},e.ingestWorkflow),c(G.a([{main:t,name:n.label}])),c(G.f()),s.push("".concat(u.join("/")))}(t)},onLoadMore:m.loadMore},(function(e){return a.a.createElement(B.a,{key:e.id},e.name)})))})),V=r(124),J=r(37),q=r.n(J),X=r(47),K=r.n(X),Y=r(771),Q=r.n(Y),Z=r(51),$=r.n(Z);function ee(){return(ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var te=function(e){return a.a.createElement(q.a,{className:"bottom"===e.placement?Q.a.tooltip:Q.a.tooltipTop,placement:e.placement,trigger:["hover"]},a.a.createElement("span",{className:"FAIL"===e.accessibilityData.wcagLevel?Q.a.wcagLevelLabelFail:Q.a.wcagLevelLabel},e.accessibilityData.wcagLevel),a.a.createElement(K.a,null,a.a.createElement(l.a,{id:b.Rc[e.accessibilityData.wcagLevel]})))},re=function(e){var t=e,r=parseInt($.a.myThemesCardImageHeight,10),n={themeHeight:void 0===e.image?parseInt($.a.myThemesCardImageHeight,10)+parseInt($.a.imageSwatchHeight,10):""},o="";switch(e.assetType){case b.g.GRADIENT:o=e.intl.formatMessage({id:"app.mythemes.assettype.gradient"});break;default:o=e.metadata.isAccessible||e.accessibilityData.colorBlindSafe?e.intl.formatMessage({id:"app.mythemes.assettype.accessibility"}):e.accessibilityData.wcagLevel?a.a.createElement("div",null,e.intl.formatMessage({id:"app.mythemes.assettype.contrastChecker"}),a.a.createElement(te,{accessibilityData:e.accessibilityData,placement:"bottom"})):Object(R.b)(e.swatches)?e.intl.formatMessage({id:"app.mythemes.assettype.pantonetheme"}):e.intl.formatMessage({id:"app.mythemes.assettype.theme"})}return void 0!==t.image&&(t.image.width=parseInt($.a.cardWidth,10),t.image.height=r),a.a.createElement(m.a,ee({},t,{assetTypeInfo:o,readOnly:e.readOnly,showAddToLibrary:!1,styles:n,cardType:b.o,displayCardInfo:!0}))},ne=function(e){var t=e.collaborated,r=e.readOnly,n={marginLeft:parseInt($.a.myThemesCollaboratedMarginleft,10),verticalAlign:"text-top"};return t?r?a.a.createElement(u.a,{size:"XS",style:n}):a.a.createElement(c.a,{size:"XS",style:n}):""},ae=function(e){return a.a.createElement("div",{className:Q.a.libraryThemeCount},e.lib.themeCount," ",a.a.createElement(l.a,{id:"app.mythemes.themes"}),!b.Mb&&a.a.createElement(a.a.Fragment,null,", ",e.lib.gradientCount," ",a.a.createElement(l.a,{id:"app.mythemes.gradients"})))},oe=function(e){return a.a.createElement("div",{id:"gridWrapper",className:Q.a.myThemesGrid},a.a.createElement(f.a,null,e.libFeed.map((function(t){return function(t){var r=Object.assign({},e);return r.pageName=Object(h.e)(e.pageName.toLowerCase()),a.a.createElement(re,ee({},t.data,r,{key:t.data.id}))}({data:t})}))),a.a.createElement("div",{className:Q.a.loadMorethemes},e.canLoadMore(e.elements,e.libFeed.length)&&a.a.createElement("div",{className:Q.a.showMore,onClick:function(){return e.loMore(e.criteria)}},e.intl.formatMessage({id:"app.mythemes.showmore"}))))},ie=function(e){var t=e.changeCriteria,r=e.changeSortOption,n=e.fetchLibraries,i=e.locale,c=e.showEmptyMyThemes,s=e.sortOption,u=e.featureFlags,l=e.fetchWithSort,f=new URLSearchParams(Object(p.h)().search).get("viewTheme"),m=Object(h.t)(f)?-1:0;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:Q.a.sortedBy},a.a.createElement(C,{disabled:c,changeCriteria:t,changeSortOption:r,fetchLibraries:n,locale:i,sortOption:s,featureFlags:u,fetchWithSort:l})),a.a.createElement("div",null,c&&a.a.createElement(I.a,{className:Q.a.emptyPageDivider}),a.a.createElement(o.Accordion,{defaultSelectedIndex:m},e.feed.map((function(t,r){var n=a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:Q.a.libraryName},t.libraryName,a.a.createElement(ne,t)),a.a.createElement(ae,{featureFlags:e.featureFlags,lib:t}));return a.a.createElement(o.AccordionItem,{header:n,key:r,className:Q.a.accordionItem},a.a.createElement(oe,ee({},e,{readOnly:t.readOnly,libFeed:t.libraryFeed,criteria:t.criteria,elements:t.totalElements})))}))),c&&a.a.createElement(N.a,{pageName:b.fc,history:e.history})))},ce=function(e){var t=e.intl,r=e.showEmptyMyThemes,n=e.feed[0];return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:Q.a.stickyHeader},a.a.createElement("h1",{className:Q.a.title},t.formatMessage({id:"app.header.mylibraries"})),a.a.createElement("div",{className:Q.a.dropdownContainer},a.a.createElement(z,{ingestWorkflow:e.ingestWorkflow})),r&&a.a.createElement(I.a,{className:Q.a.emptyPageDivider}),n&&a.a.createElement(ae,{featureFlags:e.featureFlags,lib:n})),a.a.createElement("div",{className:Q.a.libraryContent},!e.feed.length&&!r&&a.a.createElement(V.a,{style:{position:"absolute"},size:"L"}),n&&a.a.createElement(oe,ee({},e,{readOnly:n.readOnly,libFeed:n.libraryFeed,criteria:n.criteria,elements:n.totalElements})),r&&a.a.createElement(N.a,{pageName:b.fc,history:e.history})))};t.b=Object(l.e)((function(e){return a.a.createElement("div",{className:Q.a.myThemesContainer},b.Mb?a.a.createElement(ce,e):a.a.createElement(ie,e))}))},968:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return p})),r.d(t,"f",(function(){return h})),r.d(t,"d",(function(){return b})),r.d(t,"g",(function(){return m})),r.d(t,"j",(function(){return d})),r.d(t,"i",(function(){return y})),r.d(t,"e",(function(){return g})),r.d(t,"h",(function(){return v}));var n=r(1),a=r(918),o={criteria:[{main:n.cb}],sources:[n.i,n.Qb,n.zc]};function i(e){var t=config("BEHANCE_ENDPOINT").basePath;return"".concat(t).concat(config("BEHANCE_ENDPOINT").searchApi,"?q=").concat(encodeURIComponent(e.main),"&sort=featured_date&page=").concat(e.pageNumber)}function c(e,t){var r=t().user,a=config("ETHOS_ENDPOINT"),o=a.basePathForSearch,i=a.api,c=a.searchPath,s=(parseInt(e.pageNumber,10)-1)*n.Ub,u="".concat(o).concat(i).concat(c,"?q=%7B%22").concat(e.typeOfQuery?e.typeOfQuery:"term","%22%3A%22").concat(encodeURIComponent(e.main),"%22%7D");return r.isLoggedIn&&(u="".concat(u,"&metadata=all")),"".concat(u,"&startIndex=").concat(s,"&maxNumber=").concat(n.Ub)}function s(e){var t=config("STOCK_ENDPOINT").api,r=(parseInt(e.pageNumber,10)-1)*n.Hc;return"".concat(t,"?locale=en-US&search_parameters%5Bwords%5D=").concat(encodeURIComponent(e.main),"&search_parameters%5Bfilters%5D%5Bcontent_type%3Aphoto%5D=1&search_parameters%5Bfilters%5D%5Bpremium%5D=false&search_parameters%5Blimit%5D=").concat(n.Hc,"&search_parameters%5Boffset%5D=").concat(r)}function u(e){var t,r=e.user,a=e.search,o=new FormData,i=(parseInt(a.criteria[0].pageNumber,10)-1)*n.Hc;if(r.isLoggedIn){var c=config("UNIVERSAL_SEARCH_ENDPOINT"),s=c.basePath,u=c.api,l=c.similaritySearch;t="".concat(s).concat(u).concat(l)}else{var f=config("UNIVERSAL_SEARCH_PROXY"),p=f.basePath,h=f.similaritySearch;t="".concat(p).concat(h)}return o.append("request",'{"scope": ["stock"], "limit": '.concat(n.Hc,', "start_index": ').concat(i,', "asset_type": ["images"]}')),o.append("image",a.fileData),{url:t,formData:o}}var l=function(e){return function(t){return t(a.a(n.sc,e))}},f=function(e){return function(t){return t(a.b(n.sc,e))}},p=function(e){return function(t){return t(a.c(n.sc,e))}},h=function(){return function(e,t){var r=t().search,n=r.criteria,o=r.srcFilter,l=(r.fileData,r.showDefaultCriteria),f=r.defaultCriteria,p={},h=n;l&&(h=f),h.forEach((function(r){var n;p.kulerUrl=c(r,t),p.behanceUrl=i(r),p.stockUrl=s(r),n=u(t()),p.universalSearchUrl=n.url,p.formData=n.formData,e(a.o(JSON.stringify(r),o,p,!0))}))}},b=function(){return function(e,t){var r=t().search,n=r.criteria,o=r.srcFilter,l=r.showDefaultCriteria,f=r.defaultCriteria,p={},h=n,b=null;return l&&(h=f),h.forEach((function(e){var r=e.pageNumber;e.pageNumber=r+1,p.kulerUrl=c(e,t),p.stockUrl=s(e),p.behanceUrl=i(e),b=u(t()),p.universalSearchUrl=b.url,e.pageNumber=r})),e(a.d(p,o,{universalSearchFormData:b.formData},!0))}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return function(t){return t(a.p(n.sc,e))}},d=function(e){return function(t){return t(a.x(n.sc,e))}},y=function(e,t){return function(r){return r(a.u(t,e))}},g=function(e,t){return function(r){return r(a.h(t,e))}},v=function(e,t){return function(r){return r(a.r(t,e))}}},979:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(7),i=r(36),c=r.n(i),s=r(3),u=r(772),l=r.n(u);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function h(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===f(t)?t:String(t)}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).state={isNextPageAvailable:!1},n.goToPreviousPage=n.goToPreviousPage.bind(m(n)),n.goToNextPage=n.goToNextPage.bind(m(n)),n.goToPage=n.goToPage.bind(m(n)),n.checkForNextPage=n.checkForNextPage.bind(m(n)),n.checkForAvailablePagesCalled=!1,n}return function(e,t,r){t&&p(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"goToPage",value:function(e){var t=this.props.history;if(this.props.currentPage!==e){var r=new URLSearchParams(t.location.search);r.set("page",e),t.push("".concat(t.location.pathname,"?").concat(r.toString()))}}},{key:"goToPreviousPage",value:function(){1!==this.props.currentPage&&this.goToPage(this.props.currentPage-1)}},{key:"goToNextPage",value:function(){this.goToPage(this.props.currentPage+1)}},{key:"checkForNextPage",value:function(e,t){var r=this;e?this.props.checkForAvailablePages(t).then((function(e){var t=e.reduce((function(e,t){return t||e}),!1);r.setState({isNextPageAvailable:t})})):this.props.checkForAvailablePages().then((function(e){var t=e.reduce((function(e,t){return t||e}),!1);r.setState({isNextPageAvailable:t})}))}},{key:"componentWillReceiveProps",value:function(e){e.currentPage===this.props.currentPage&&Object(s.g)(this.props.sources,e.sources)&&this.props.showPagination===e.showPagination||(this.checkForNextPage(e.isGallery,e.galleryCriteria),this.checkForAvailablePagesCalled=!0)}},{key:"shouldComponentUpdate",value:function(e,t){return e.currentPage!==this.props.currentPage||this.props.showPagination!==e.showPagination||!Object(s.g)(this.props.sources,e.sources)||this.state.isNextPageAvailable!==t.isNextPageAvailable||this.props.locale!==e.locale}},{key:"render",value:function(){return!1!==this.state.isNextPageAvailable||this.checkForAvailablePagesCalled||this.checkForNextPage(this.props.isGallery,this.props.galleryCriteria),a.a.createElement("div",{className:this.props.showPagination?l.a.paginationContainer:l.a.hide},a.a.createElement(c.a,{quiet:!0,className:l.a.navigateButton,label:this.props.intl.formatMessage({id:"app.pagination.prev"}),"aria-label":this.props.intl.formatMessage({id:"app.pagination.prev"}),onClick:this.goToPreviousPage,disabled:1===this.props.currentPage}),a.a.createElement(c.a,{quiet:!0,flexible:!0,className:l.a.currentPage,label:"".concat(this.props.currentPage),"aria-label":"".concat(this.props.currentPage)}),a.a.createElement(c.a,{quiet:!0,className:l.a.navigateButton,label:this.props.intl.formatMessage({id:"app.pagination.next"}),"aria-label":this.props.intl.formatMessage({id:"app.pagination.next"}),onClick:this.goToNextPage,disabled:!this.state.isNextPageAvailable}))}}]),r}();y.defaultProps={isGallery:!1,galleryCriteria:{}},t.a=Object(o.e)(y)},980:function(e,t,r){e.exports=function(){"use strict";var e=function(e){if(!e)throw new Error("No config object has been provided.");"boolean"!=typeof e.useTransform&&(e.useTransform=!0),"number"!=typeof e.gutter&&(e.gutter=25),e.container||t("container"),e.items||e.static||t("items or static")},t=function(e){throw new Error("Missing property '"+e+"' in MagicGrid config")},r=function(t){e(t),t.container instanceof HTMLElement?(this.container=t.container,this.containerClass=t.container.className):(this.containerClass=t.container,this.container=document.querySelector(t.container)),this.items=this.container.children,this.static=t.static||!1,this.size=t.items,this.gutter=t.gutter,this.maxColumns=t.maxColumns||!1,this.useMin=t.useMin||!1,this.useTransform=t.useTransform,this.animate=t.animate||!1,this.started=!1,this.init()};return r.prototype.init=function(){if(this.ready()&&!this.started){this.container.style.position="relative";for(var e=0;e<this.items.length;e++){var t=this.items[e].style;t.position="absolute",this.animate&&(t.transition=(this.useTransform?"transform":"top, left")+" 0.2s ease")}this.started=!0}},r.prototype.colWidth=function(){return this.items[0].getBoundingClientRect().width+this.gutter},r.prototype.setup=function(){var e=this.container.getBoundingClientRect().width,t=this.colWidth(),r=Math.floor(e/t)||1,n=[];this.maxColumns&&r>this.maxColumns&&(r=this.maxColumns);for(var a=0;a<r;a++)n[a]={height:0,index:a};return{cols:n,wSpace:e-r*t+this.gutter}},r.prototype.nextCol=function(e,t){return this.useMin?function(e){var t=e[0];for(var r of e)r.height<t.height&&(t=r);return t}(e):e[t%e.length]},r.prototype.positionItems=function(){var e=this.setup(),t=e.cols,r=e.wSpace,n=0,a=this.colWidth();r=Math.floor(r/2);for(var o=0;o<this.items.length;o++){var i=this.nextCol(t,o),c=this.items[o],s=i.height?this.gutter:0,u=i.index*a+r+"px",l=i.height+s+"px";this.useTransform?c.style.transform="translate("+u+", "+l+")":(c.style.top=l,c.style.left=u),i.height+=c.getBoundingClientRect().height+s,i.height>n&&(n=i.height)}this.container.style.height=n+"px"},r.prototype.ready=function(){return!!this.static||this.items.length>=this.size},r.prototype.getReady=function(){var e=this,t=setInterval((function(){e.container=document.querySelector(e.containerClass),e.items=e.container.children,e.ready()&&(clearInterval(t),e.init(),e.listen())}),100)},r.prototype.listen=function(){var e,t=this;this.ready()?(window.addEventListener("resize",(function(){e||(e=setTimeout((function(){t.positionItems(),e=null}),200))})),this.positionItems()):this.getReady()},r}()},981:function(e,t,r){e.exports=r(982)},982:function(e,t,r){"use strict";var n=r(4),a=r(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,c,s=n(r(17)),u=n(r(16)),l=n(r(13)),f=n(r(14)),p=n(r(18)),h=n(r(19)),b=n(r(20)),m=n(r(12)),d=n(r(4)),y=n(r(31)),g=n(r(36)),v=n(r(23)),O=r(102),w=n(r(52)),E=n(r(53)),j=n(r(1014)),S=n(r(983)),P=r(101),k=n(r(6)),C=a(r(0)),N=n(r(100)),T={"cs-CZ":(0,d.default)(r(984)).default,"da-DK":(0,d.default)(r(985)).default,"de-DE":(0,d.default)(r(986)).default,"en-US":(0,d.default)(r(987)).default,"es-ES":(0,d.default)(r(988)).default,"fi-FI":(0,d.default)(r(989)).default,"fr-FR":(0,d.default)(r(990)).default,"hu-HU":(0,d.default)(r(991)).default,"it-IT":(0,d.default)(r(992)).default,"ja-JP":(0,d.default)(r(993)).default,"ko-KR":(0,d.default)(r(994)).default,"nb-NO":(0,d.default)(r(995)).default,"nl-NL":(0,d.default)(r(996)).default,"pl-PL":(0,d.default)(r(997)).default,"pt-BR":(0,d.default)(r(998)).default,"ru-RU":(0,d.default)(r(999)).default,"sv-SE":(0,d.default)(r(1e3)).default,"tr-TR":(0,d.default)(r(1001)).default,"uk-UA":(0,d.default)(r(1002)).default,"zh-CN":(0,d.default)(r(1003)).default,"zh-TW":(0,d.default)(r(1004)).default};r(774),r(775),r(776),r(777);var I=(0,P.messageFormatter)(T),R=function(e){return e||""},x=(0,w.default)(o=(0,y.default)((c=i=function(e){function t(e){var r;(0,l.default)(this,t),(r=(0,p.default)(this,(0,h.default)(t).call(this,e))).searchId=(0,E.default)();var n=e.value,a=e.defaultValue;return r.state={value:R(n||a)},r}return(0,b.default)(t,e),(0,f.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){R(e.value)!==this.state.value&&this.setState({value:e.value})}},{key:"handleTextKeyDown",value:function(e){var t=this.props,r=t.onSubmit,n=t.onKeyDown,a=t.disabled,o=this.state.value,i=e.which;13!==i&&27!==i||e.preventDefault(),a||(13===i&&r(o),27===i&&this.handleTextChange("",e,"escapeKey"),n&&n(e))}},{key:"handleTextChange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"input",n=this.props,a=n.onChange;n.disabled||e===this.state.value||("value"in this.props||this.setState({value:e}),a(e,t,{from:r}))}},{key:"handleClearButtonClick",value:function(e){this.handleTextChange("",e,"clearButton"),this.searchbox&&this.searchbox.focus()}},{key:"render",value:function(){var e=this,t=this.props,r=t.disabled,n=t.className,a=t.icon,o=t.id,i=void 0===o?this.searchId:o,c=(0,u.default)(t,["disabled","className","icon","id"]),l=this.state.value;return C.default.createElement("div",{className:(0,v.default)("spectrum-Search",{"is-disabled":r},n)},C.default.createElement(N.default,(0,s.default)({type:"search",ref:function(t){return e.searchbox=t},className:"spectrum-Search-input",value:l,disabled:r,id:i},c,{onKeyDown:this.handleTextKeyDown,onChange:this.handleTextChange})),(0,O.cloneIcon)(a,{className:"spectrum-Search-icon",size:"S"}),""!==l&&C.default.createElement(g.default,{"aria-label":I("Clear search"),"aria-labelledby":"".concat(i," ").concat(i,"-clear-button"),variant:"clear",icon:C.default.createElement(j.default,null),id:"".concat(i,"-clear-button"),disabled:r,onClick:this.handleClearButtonClick}))}}]),t}(C.Component),(0,m.default)(i,"propTypes",{value:k.default.string,defaultValue:k.default.string,icon:k.default.node}),(0,m.default)(i,"defaultProps",{icon:C.default.createElement(S.default,null),onChange:function(){},onSubmit:function(){}}),o=c))||o)||o;t.default=x,x.displayName="Search"},983:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(27)),a=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return a.default.createElement(n.default,e,a.default.createElement("svg",{className:"spectrum-UIIcon-Magnifier"},a.default.createElement("path",{d:"M15.77 14.709l-4.534-4.534a6.013 6.013 0 1 0-1.061 1.061l4.534 4.534a.75.75 0 1 0 1.061-1.061zM6.5 11A4.5 4.5 0 1 1 11 6.5 4.505 4.505 0 0 1 6.5 11z",className:"spectrum-UIIcon--medium"}),a.default.createElement("path",{d:"M19.77 18.709l-5.464-5.463a7.5 7.5 0 1 0-1.06 1.06l5.463 5.464a.75.75 0 1 0 1.061-1.061zM2.5 8.5a6 6 0 1 1 6 6 6.007 6.007 0 0 1-6-6z",className:"spectrum-UIIcon--large"})))};i.displayName="Magnifier",t.default=i},984:function(e){e.exports=JSON.parse('{"Clear search":"Vymazat hledání"}')},985:function(e){e.exports=JSON.parse('{"Clear search":"Ryd søgning"}')},986:function(e){e.exports=JSON.parse('{"Clear search":"Suche zurücksetzen"}')},987:function(e){e.exports=JSON.parse('{"Clear search":"Clear search"}')},988:function(e){e.exports=JSON.parse('{"Clear search":"Borrar búsqueda"}')},989:function(e){e.exports=JSON.parse('{"Clear search":"Tyhjennä haku"}')},990:function(e){e.exports=JSON.parse('{"Clear search":"Effacer la recherche"}')},991:function(e){e.exports=JSON.parse('{"Clear search":"Keresés törlése"}')},992:function(e){e.exports=JSON.parse('{"Clear search":"Cancella ricerca"}')},993:function(e){e.exports=JSON.parse('{"Clear search":"検索をクリア"}')},994:function(e){e.exports=JSON.parse('{"Clear search":"검색 지우기"}')},995:function(e){e.exports=JSON.parse('{"Clear search":"Tøm søk"}')},996:function(e){e.exports=JSON.parse('{"Clear search":"Zoekactie wissen"}')},997:function(e){e.exports=JSON.parse('{"Clear search":"Wyczyść zawartość wyszukiwania"}')},998:function(e){e.exports=JSON.parse('{"Clear search":"Limpar pesquisa"}')},999:function(e){e.exports=JSON.parse('{"Clear search":"Очистить поиск"}')}}]);