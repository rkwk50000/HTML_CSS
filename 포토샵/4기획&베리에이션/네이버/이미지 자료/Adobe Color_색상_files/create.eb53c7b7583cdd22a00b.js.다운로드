(this.webpackJsonp=this.webpackJsonp||[]).push([[5],{1171:function(e,t,r){e.exports=function(){return new Worker(r.p+"630bb02e4c5c4d244957.worker.js")}},1247:function(e,t,r){e.exports=function(){return new Worker(r.p+"f853c2897d0e4a475a62.worker.js")}},231:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(9),i=r(7),c=r(58),s=r(29),l=r(63),u=r(962),f=r(99),p=r(913),h=r(1),d=r(3),b=r(955),m=r(915),y=r(940),g=r(934),v=r(923),w=r(941),O=r(949),E=r(743),S=r.n(E);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(){return(P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var T=function(){var e=Object(s.e)((function(e){return e.user.isLoggedIn})),t=h.Jb&&e,r=Object(s.e)((function(e){return e.create.isAccessible})),n=r?o.a.createElement("div",{className:S.a.displayMessage},o.a.createElement(i.a,{id:"app.savepanel.colorblind.safe.message"})," "):o.a.createElement("div",{className:S.a.displayMessage},o.a.createElement(i.a,{id:"app.savepanel.not.colorblind.safe.message"})),a=r?o.a.createElement(w.a,{className:S.a.displayMessageIcon}):o.a.createElement(O.a,{className:S.a.displayMessageIcon});return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement("div",{className:S.a.savePanelDisplayMessageContainer},a,n))},I=function(){var e=Object(s.e)((function(e){return e.create.swatches})),t=Object(s.e)((function(e){return e.create.order})),r=0===e.length;return o.a.createElement("div",{className:r?[S.a.themeContainerDisabled,S.a.disabled].join(" "):S.a.themeContainer},t.map((function(t,r){return o.a.createElement(m.a,P({key:r,id:t},e[t]))})))},A=Object(i.e)((function(e){var t=e.intl,r=e.showLargeView,n=e.ingestWorkflow,a=e.closeDialog,i=0===Object(s.e)((function(e){return e.create.swatches.length})),c=k(k({},Object(v.a)(h.g.THEME,t)),{},{isUserLoggedIn:Object(s.e)((function(e){return e.user.isLoggedIn})),isEditWorkflow:Object(s.e)((function(e){return e.create.isEditWorkflow})),isSwatchesEmpty:i,signintocreativecloudmessage:t.formatMessage({id:"app.savepanel.signintocreativecloudmessage.h2"}),usageMessage:t.formatMessage({id:"app.savepanel.theme.pageDescription.h3"}),isAllowedToPublish:Object(s.e)((function(e){return e.user.isAllowedToPublish})),showLargeView:r,ingestWorkflow:n,closeDialog:a,message:o.a.createElement(T,null),tags:o.a.createElement(y.a,{showLargeView:r,ingestWorkflow:n,disabled:i})});return o.a.createElement(g.a,c,o.a.createElement(I,null))})),_=r(24);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===M(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(){return(L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var B=function(){var e=Object(s.e)((function(e){return e.user.isLoggedIn})),t=h.Jb&&e,r=Object(s.e)((function(e){return e.user.locale})),n=Object(a.g)(),c=Object(s.d)(),l=function(e){(Object(d.t)(e.keyCode)||e.keyCode===KEYBOARD_KEYCODE.ENTER)&&(c(f.setWorkflow(h.J.ACCESSIBILITY)),n.push("/".concat(r).concat(h.rc.CREATEACCESSIBLE)))};return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement("div",{className:S.a.savePanelDisplayMessageContainer},o.a.createElement("img",{src:_.m,className:S.a.displayMessageIcon,onClick:l,alt:""}),o.a.createElement("div",{className:S.a.checkInAccessibility,onClick:l,tabIndex:"0",onKeyDown:l},o.a.createElement(i.a,{id:"app.savepanel.check.for.accessibility"})," ")))},G=function(){var e=Object(s.e)((function(e){return e.create.swatches})),t=Object(s.e)((function(e){return e.create.order})),r=0===e.length;return o.a.createElement("div",{className:r?[S.a.themeContainerDisabled,S.a.disabled].join(" "):S.a.themeContainer},t.map((function(t,r){return o.a.createElement(m.a,L({key:r,id:t},e[t]))})))},F=Object(i.e)((function(e){var t=e.intl,r=e.showLargeView,n=e.ingestWorkflow,a=e.closeDialog,i=0===Object(s.e)((function(e){return e.create.swatches.length})),c=N(N({},Object(v.a)(h.g.THEME,t)),{},{isUserLoggedIn:Object(s.e)((function(e){return e.user.isLoggedIn})),isEditWorkflow:Object(s.e)((function(e){return e.create.isEditWorkflow})),isSwatchesEmpty:i,signintocreativecloudmessage:t.formatMessage({id:"app.savepanel.signintocreativecloudmessage.h2"}),usageMessage:t.formatMessage({id:"app.savepanel.theme.pageDescription.h3"}),isAllowedToPublish:Object(s.e)((function(e){return e.user.isAllowedToPublish})),showLargeView:r,ingestWorkflow:n,closeDialog:a,message:o.a.createElement(B,null),tags:o.a.createElement(y.a,{showLargeView:r,ingestWorkflow:n,disabled:i})});return o.a.createElement(g.a,c,o.a.createElement(G,null))}));function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==H(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===H(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y(){return(Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var z=function(){var e=Object(s.e)((function(e){return e.create.swatches})),t=Object(s.e)((function(e){return e.create.order})),r=0===e.length,n=[];if(0===e.length)for(var a=1;a<=h.kc;++a)n.push(o.a.createElement(m.a,{key:a,hex:"",className:1!==a?S.a.swatchWithBorder:""}));else for(var i=0;i<e.length;++i)n.push(o.a.createElement(m.a,Y({key:i,id:t[i]},e[t[i]])));return o.a.createElement("div",{className:r?[S.a.themeContainerDisabled,S.a.disabled].join(" "):S.a.themeContainer},n)},K=Object(i.e)((function(e){var t=e.intl,r=e.showLargeView,n=e.ingestWorkflow,a=e.closeDialog,i=0===Object(s.e)((function(e){return e.create.swatches.length})),c=W(W({},Object(v.a)(h.g.THEME,t)),{},{isUserLoggedIn:Object(s.e)((function(e){return e.user.isLoggedIn})),isEditWorkflow:Object(s.e)((function(e){return e.create.isEditWorkflow})),isSwatchesEmpty:i,signintocreativecloudmessage:t.formatMessage({id:"app.savepanel.signintocreativecloudmessage.h2"}),usageMessage:t.formatMessage({id:"app.savepanel.theme.pageDescription.h3"}),isAllowedToPublish:!0,showLargeView:r,ingestWorkflow:n,closeDialog:a,tags:o.a.createElement(y.a,{showLargeView:r,ingestWorkflow:n,disabled:i})});return o.a.createElement(g.a,c,o.a.createElement(z,null))})),X=r(932),Z=r(30);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===q(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ee=function(){var e=Object(s.e)((function(e){return e.create.swatches})),t=Object(s.e)((function(e){return e.create.order})),r=0===e.length;return o.a.createElement("div",{className:r?[S.a.gradientContainerDisabled,S.a.disabled].join(" "):S.a.gradientContainer},t.length===e.length&&function(e,t){var r=[];return t.forEach((function(t){var n=e[t],o=Object(Z.p)(n.rgb);o.offset=n.offset,o.midpoint=n.midpoint,r.push(o)})),o.a.createElement(X.a,{stops:r,gradientProps:{type:"linear",angle:0,isOneUp:!1,isCreate:!0,isSave:!0}})}(e,t))},te=Object(i.e)((function(e){var t=e.intl,r=e.showLargeView,a=e.ingestWorkflow,i=e.closeDialog,c=0===Object(s.e)((function(e){return e.create.swatches.length})),l=Object(s.d)(),u=Q(Q({},Object(v.a)(h.g.GRADIENT,t)),{},{isUserLoggedIn:Object(s.e)((function(e){return e.user.isLoggedIn})),isEditWorkflow:Object(s.e)((function(e){return e.create.isEditWorkflow})),isSwatchesEmpty:c,signintocreativecloudmessage:t.formatMessage({id:"app.savepanel.signintocreativecloudmessage.gradient.h2"}),usageMessage:t.formatMessage({id:"app.savepanel.gradient.pageDescription.h3"}),isAllowedToPublish:!1,showLargeView:r,ingestWorkflow:a,closeDialog:i});return Object(n.useEffect)((function(){l(Object(p.g)(!1))}),[]),o.a.createElement(g.a,u,o.a.createElement(ee,null))})),re=Object(i.e)((function(e){var t=Object(s.e)((function(e){return e.create.assetType})),r=Object(s.e)((function(e){return e.create.workflow}));return Object(d.r)()?o.a.createElement(b.b,e):t===h.g.THEME&&r===h.J.ACCESSIBILITY?o.a.createElement(A,e):t===h.g.THEME&&r===h.J.IMAGE?o.a.createElement(K,e):t===h.g.GRADIENT?o.a.createElement(te,e):o.a.createElement(F,e)})),ne=r(961);function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ae=function(e,t,r,n,o){return n+(o-n)/(r-t)*(e-t)},ie=function(e){return e<60?e*(35/60):e<122?ae(e,60,122,35,60):e<165?ae(e,122,165,60,120):e<218?ae(e,165,218,120,180):e<275?ae(e,218,275,180,240):e<330?ae(e,275,330,240,300):ae(e,330,360,300,360)},ce=function(e){return e<35?e*(60/35):e<60?ae(e,35,60,60,122):e<120?ae(e,60,120,122,165):e<180?ae(e,120,180,165,218):e<240?ae(e,180,240,218,275):e<300?ae(e,240,300,275,330):ae(e,300,360,330,360)},se=function(e,t){for(var r,n,o,a,i=0;i<t.length-2;i+=2)if(r=t[i],n=t[i+1],o=t[i+2],a=t[i+3],e<=o&&e>=r)return n+(a-n)*(e-r)/(o-r)},le=function(e,t,r){var n=(2-t)*r/2;return{h:e,s:t,l:n}},ue=function(e,t,r){for(var n,o,a,i,c=t,s=t,l=le(0,0,e),u=le(0,1,e),f=Math.round(100*l.s),p=Math.round(100*l.l),h=Math.round(100*u.s),d=Math.round(100*u.l),b=[0,0,15,8,30,17,45,26,60,34,75,41,90,48,105,54,120,60,135,81,150,103,165,123,180,138,195,155,210,171,225,187,240,204,255,219,270,234,285,251,300,267,315,282,330,298,345,329,360,360],m=0;m<=360;m+=1)i=se(m,b),n=(360-m+1)*Math.PI/180,o=(360-m-1)*Math.PI/180,r.beginPath(),r.moveTo(c,s),r.arc(c,s,t+1,o,n,!1),r.closePath(),(a=r.createRadialGradient(c,s,0,c,s,t)).addColorStop(0,"hsl(".concat(i,", ").concat(f,"%,").concat(p,"%)")),a.addColorStop(1,"hsl(".concat(i,", ").concat(h,"%,").concat(d,"%)")),r.fillStyle=a,r.fill()},fe=function(e,t){var r=e.hsv,n=[],o=[],a=r.v,i=t,c=r.v;if("000000"===e.hex)for(;i>0;)o.push({h:r.h,s:r.s,v:++a}),i--;else if("FFFFFF"===e.hex)for(;i>0;)n.push({h:r.h,s:r.s,v:--a}),i--;else{for(i=2*t;a-1>=0&&i>20;)n.push({h:r.h,s:r.s,v:--a}),i--,c=a;for(a=r.v;a+1<=100&&i>0;)o.push({h:r.h,s:r.s,v:++a}),i--;for(a=c;i>0;)n.push({h:r.h,s:r.s,v:--a}),i--}return[].concat(function(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.reverse()),[r],o)},pe=r(32),he=r(68),de=r(925),be=r(22),me=r(1136),ye=r.n(me),ge=r(748),ve=r.n(ge);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pe(n.key),n)}}function je(){return(je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Re(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Ce(e,t){return(Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e){var t=function(e,t){if("object"!==we(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==we(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===we(t)?t:String(t)}var Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t)}(r,de.a);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Re(e);if(t){var o=Re(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===we(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ke(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,r){(t=Pe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ke(n=t.call(this,e)),"updateMarkerPosition",ye()(n.updateMarkerPositionHandler.bind(ke(n)),16)),n.radius=parseInt(Object(d.l)(),10),n}return function(e,t,r){t&&Se(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"sendMarkerMoveIngestEvent",value:function(){var e={workflow:Object(d.e)(h.I),subcategory:h.Gb.MARKER};Object(be.a)(h.Eb.MARKER_MOVE,{event:e},[h.Gb.COLORWHEEL])}},{key:"mouseUp",value:function(e){je(Re(r.prototype),"mouseUp",this).call(this,e),this.props.fetchSuggestedTags(this.props.workflow),this.sendMarkerMoveIngestEvent()}},{key:"touchEnd",value:function(e){je(Re(r.prototype),"touchEnd",this).call(this,e),this.props.fetchSuggestedTags(this.props.workflow),this.sendMarkerMoveIngestEvent()}},{key:"updateMarkerPositionHandler",value:function(e){var t=e;Object(d.t)(e.touches)||0===e.touches.length||(t=e.touches[0]),this.position={x:(t.pageX-this.hitOffset.x+this.radius)/this.hitOffset.diameter,y:(t.pageY-this.hitOffset.y+this.radius)/this.hitOffset.diameter},this.position.x=Math.round(this.position.x),this.position.y=Math.round(this.position.y),this.position.x=Math.min(this.props.canvas.width-1,Math.max(0,this.position.x)),this.position.y=Math.min(this.props.canvas.height-1,Math.max(0,this.position.y));var r=Oe(Object(Z.w)(this.position.x-this.props.wheelRadius,this.position.y-this.props.wheelRadius),2),n=r[0],o=r[1];if(n<this.props.wheelRadius){var a=this.getColor(this.position);this.props.onSwatchValueChange({i:this.props.id,swatch:Object(Z.o)(a)})}else{n=this.props.wheelRadius;var i=Oe(Object(Z.n)(n,o),2),c=i[0],s=i[1];this.position={x:c+this.props.wheelRadius,y:s+this.props.wheelRadius};var l=this.getColor(this.position);this.props.onSwatchValueChange({i:this.props.id,swatch:Object(Z.o)(l)})}}},{key:"getColor",value:function(e){return this.props.canvas.getContext("2d").getImageData(e.x,e.y,1,1).data}},{key:"componentDidMount",value:function(){this.paint()}},{key:"children",value:function(){if(this.props.id===this.props.baseColorIndex)return o.a.createElement("img",{alt:"",draggable:!1,src:_.i,className:ve.a.baseMarkerIndicator})}},{key:"paint",value:function(){if(this.props.swatches.length>0){var e=this.props.swatches[this.props.id].rgb,t=e.r,r=e.g,n=e.b,o=this.props.swatches[this.props.id].hsv,a=o.h,i=o.s,c=ce(a),s=this.props.wheelRadius*i/100,l=Object(Z.d)(180-c),u=Oe(Object(Z.n)(s,l),2),f=u[0],p=u[1];this.position={x:f+this.props.wheelRadius,y:p+this.props.wheelRadius},this.marker.style.backgroundColor=Object(Z.g)([t,r,n]),this.marker.style.left="calc(".concat(100*this.position.x/this.props.canvas.width,"% - ").concat(this.radius,"px)"),this.marker.style.top="calc(".concat(100*this.position.y/this.props.canvas.height,"% - ").concat(this.radius,"px)"),this.props.id===this.props.baseColorIndex&&(this.marker.style.transform="rotate(".concat(-c,"deg)"))}}},{key:"componentDidUpdate",value:function(){this.paint()}}]),r}(),Ie=Object(s.b)((function(e){var t=e.create;return{swatches:t.swatches,activeSwatch:t.activeSwatch,workflow:t.workflow}}),(function(e){return Object(c.b)({fetchSuggestedTags:p.c,setSwatch:f.setSwatch,setActiveSwatch:f.setActiveSwatch},e)}))(Te),Ae=r(821),_e=r.n(Ae);function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ne(n.key),n)}}function Ne(e){var t=function(e,t){if("object"!==Me(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Me(t)?t:String(t)}function De(e,t){return(De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Le(e);if(t){var o=Le(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.apply(this,arguments)}return function(e,t,r){t&&xe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidMount",value:function(){this.spoke.style.top="".concat(this.props.wheelRadius,"px"),this.spoke.style.left="".concat(this.props.wheelRadius,"px"),this.spoke.style.transformOrigin=0,this.paint()}},{key:"componentDidUpdate",value:function(){this.paint()}},{key:"paint",value:function(){if(this.props.swatches.length>0){var e=this.props.swatches[this.props.id].hsv,t=e.h,r=e.s,n=ce(t),o=this.props.wheelRadius*r/100;this.spoke.style.transform="rotate(".concat(-n,"deg)"),this.spoke.style.width="".concat(o,"px")}}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:this.props.id===this.props.activeSwatch?_e.a.activeSpoke:_e.a.spoke,ref:function(t){e.spoke=t}})}}]),r}(),Ge=Object(s.b)((function(e){var t=e.create;return{swatches:t.swatches,activeSwatch:t.activeSwatch}}),(function(e){return Object(c.b)({setSwatch:f.setSwatch,setActiveSwatch:f.setActiveSwatch},e)}))(Be),Fe=r(1009),He=r.n(Fe),Ue=r(1038),We=r.n(Ue),Ve=r(1039),Ye=r.n(Ve),ze=r(37),Ke=r.n(ze),Xe=r(47),Ze=r.n(Xe),qe=r(210),Je=r.n(qe);function Qe(){return(Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(828);var et=function(e,t){var r;return void 0!==e&&(r=void 0===t?function(t){return e(t)}:function(r){return e.apply(void 0,[r].concat(function(e){return function(e){if(Array.isArray(e))return $e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return $e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$e(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t)))}),r},tt=function(e){var t=e.defaultValue,r=e.disabled,n=e.multiple,a=e.options,i=e.quiet,c=e.flexible,s=e.value,l=function(e){var t={};return t.onChange=et(e.onChange,e.onChangeParams),t.onClose=et(e.onClose,e.onCloseParams),t.onOpen=et(e.onOpen,e.onOpenParams),t}(e),u={};return e.isControlled?u.value=s:u.defaultValue=t,o.a.createElement(Je.a,Qe({},u,{multiple:void 0!==n&&n},l,{options:a,quiet:void 0===i||i,flexible:c||!0,disabled:void 0!==r&&r}))},rt=r(829),nt=r.n(rt),ot=function(e){return o.a.createElement(Ke.a,{className:nt.a.tooltip,placement:"bottom",trigger:h.Ob?"click":"hover"},o.a.createElement(He.a,{className:nt.a.helpIcon,size:"S"}),o.a.createElement(Ze.a,{variant:"info"},o.a.createElement("div",{className:nt.a.harmonyRuleSelectorTooltipTitle},o.a.createElement(i.a,{id:"app.create.harmonyrule.selector.title.tooltip"})),o.a.createElement("div",{className:nt.a.harmonyRuleSelectorTooltipInfo},o.a.createElement(i.a,{id:"app.create.harmonyrule.selector.info.tooltip",values:{name:e.themeName}}))))},at=Object(i.e)((function(e){var t=Object(he.d)(),r=Object(s.e)((function(e){return e.create.harmonyRule})),n=Object(s.e)((function(e){return e.user.featureFlags})),a=Object(s.d)(),c=function(e){var t={workflow:Object(d.e)(h.I),subcategory:h.Gb.HARMONY_RULE,value:e};Object(be.a)(h.Eb.RULE_CHANGED,{event:t},[h.Gb.COLORWHEEL]),a(Object(f.setHarmonyRule)(e))},l=h.zb;if(n.includes(h.ob.SHOW_NEW_HARMONY_RULES)){l={};var u=0;for(var p in h.zb){if(l[p]=h.zb[p],3===u)for(var b in h.hc)l[b]=h.hc[b];u++}}return"desktop"===t?o.a.createElement("div",{className:nt.a.container},o.a.createElement("div",{className:nt.a.text},o.a.createElement(i.a,{id:"app.create.colorHarmonyRule"}),o.a.createElement(ot,{themeName:e.themeName})),o.a.createElement(Ye.a,{vertical:!0,name:"harmony-rule-selector",selectedValue:r,className:nt.a.radioGroup,onChange:function(e){return c(e)}},Object.keys(l).map((function(t,r){return o.a.createElement(We.a,{key:r,label:e.intl.formatMessage({id:l[t]}),value:t})})))):o.a.createElement("div",{className:nt.a.dropdown},o.a.createElement(i.a,{id:"app.create.harmonyRule"}),o.a.createElement(tt,{options:function(t){return Object.keys(t).map((function(r,n){return{label:e.intl.formatMessage({id:t[r]}),value:r}}))}(l),defaultValue:r,onChange:c}),o.a.createElement(ot,{themeName:e.themeName}))})),it=r(830),ct=r.n(it);function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ut(n.key),n)}}function ut(e){var t=function(e,t){if("object"!==st(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==st(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===st(t)?t:String(t)}function ft(e,t){return(ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ft(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pt(e);if(t){var o=pt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===st(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.apply(this,arguments)}return function(e,t,r){t&&lt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){return o.a.createElement("div",{className:ct.a.createPageLayoutContainer},o.a.createElement("div",{className:ct.a.leftPanel},this.renderLeftPanel()),o.a.createElement("div",{className:ct.a.middlePanel},this.renderMiddlePanel()))}}]),r}(),dt=function(e){var t=e%360;return t<0?t+360:t},bt=function(e){var t=e%360;return t<=-180?t+360:t>180?t-360:t},mt=function e(t,r,n){return Object(d.t)(t)&&(t=0),Object(d.t)(r)&&(r=0),Object(d.t)(n)&&(n=.001),this.angle=function(e){if(Object(d.t)(e))return this._angle;this._angle=dt(e)},this.radius=function(e){if(Object(d.t)(e))return this._radius;e<0?(this.angle(this.angle()+180),this.radius(-1*e)):this._radius=e>1?1:e},this.height=function(e){if(Object(d.t)(e))return this._height;this._height=e>1?1:e<.001?.001:e},this.copy=function(){return new e(this._angle,this._radius,this._height)},this.setTo=function(e,t,r){return this.radius(t),this.height(r),this.angle(e),this},this.canonical360=function(){return function(e){var t=e.copy();return t.radius()<0&&(t.radius(-1*t.radius()),t.angle(t.angle()+180)),t.angle(dt(t.angle())),t}(this)},this.equivalent=function(e){return function(e,t){var r=e.canonical360(),n=t.canonical360();return r.angle()==n.angle()&&r.radius()==n.radius()&&e.height()==t.height()}(this,e)},this._height=n,this._angle=t,this._radius=r,this},yt=function(e){return Math.min(1,Math.max(0,e))},gt=function(e){return Math.min(1,Math.max(-1,e))};function vt(e){var t;this.type=function(e){if(!Object(d.t)(e)){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:t=e;break;default:t=0}return this}return t},this.type(e||0)}var wt=function(e,t,r,n){return t>0&&e+n>=1?t>=n?1:e+t/n*(1-e):t<0&&e+r<=0?t<=r||0===r?0:e*(1-t/r):e+t},Ot=function(e,t,r,n){if(5==r.type())return t<0?e+e*t:e+(1-e)*t;var o=e+t;if(o<0||o<n&&e>=n){switch(r.type()){case 0:o=n;break;case 2:(o+=1-n)<n&&(o=n);break;case 4:o=2*n-o;break;case 3:o=e-t}o>1&&(o=1-e>=Math.abs(e-n)?1:n)}else if(o>1){switch(r.type()){case 0:o=1;break;case 2:(o=n+(o-1))>1&&(o=1);break;case 4:o=2-o;break;case 3:o=e-t}o<n&&(o=1-e>=Math.abs(e-(1-t))?1:Math.max(1-t,n))}return o};function Et(e,t,r,n){return e-t}function St(e,t,r,n){return t>e&&e+n>1?(t-e)/n:t<e&&e+r<0?(e-t)/r:t-e}function jt(){var e=this;e.parentScheme=function(){return i},e.SetZeroWidthDeltas=function(o,a,i,c){e.fThetaCoefficient=0,e.fThetaFrom180=!1,e.fLinkHue=t=r=c,n=bt(o),e.fRadiusDelta=gt(a),e.fHeightDelta=gt(i)},e.setColorScheme2=function(t,r,n,c,s){return e.SetZeroWidthDeltas(r,n,c,s),null===t||Object(d.t)(t)?(o.type(0),a.type(0)):(i=t,o.type(5),a.type(5),t.addRegion(e)),e},e.setColorScheme5=function(c,s,l,u,f,p,h,d,b){return function(o,a,c,s,l,u,f,p,h,d,b){n=bt(o),e.setRadiusDelta(a),e.setHeightDelta(c),dt(0),yt(0),yt(0),e.fLinkHue=f,e.fThetaCoefficient=gt(p),e.fThetaFrom180=h,t=d,r=b,null!==i&&i.hasRule()&&i.setCreatingRule(null)}(s,l,u,0,0,0,f,p,h,d,b),null!==c?(i=c,o.type(5),a.type(5),c.addRegion(e)):(o.type(0),a.type(0)),e},e.setAngleDelta=function(t){return n=bt(t),e},e.setRadiusDelta=function(t){return e.fRadiusDelta=gt(t),e},e.setHeightDelta=function(t){return e.fHeightDelta=gt(t),e},e.setLinkHue=function(t){return e.fLinkHue=t,e},e.setOnRadiusOverflow=function(t){return o=t,e},e.setOnHeightOverflow=function(t){return a=t,e},e.derivedColor=function(t){return Object(d.t)(t)&&(t=null),null===t?i?e.derivedColor(i.getBaseCylPoint()):e.derivedColor(new mt(0,1,1)):(new mt).setTo(t.angle()+n,function(t){return 0===e.fRadiusDelta?t:!c&&e.fRadiusDelta>0&&i&&i.hasRule()&&t+e.fRadiusDelta<.1?.1:5==o.type()&&i?wt(t,e.fRadiusDelta,i.minRadiusDelta(),i.maxRadiusDelta()):Ot(t,e.fRadiusDelta,o,c?0:.1)}(t.radius()),function(t){return 0===e.fHeightDelta?t:!c&&e.fHeightDelta>0&&i&&i.hasRule()&&t+e.fHeightDelta<.2?.2:5==a.type()&&i?Math.max(.001,wt(t,e.fHeightDelta,i.minHeightDelta(),i.maxHeightDelta())):Math.max(.001,Ot(t,e.fHeightDelta,a,c?0:.2))}(t.height()))},e.moveToColor=function(s){var l,u=e.isBaseRegion(),f=i.getBaseCylPoint();if(u){if(s.equivalent(f))return;i.setBaseColor(s,!0)}else{var p=e.derivedColor(f);l=f;var h=!1;if(s.equivalent(p))return;if(p.angle()!==s.angle()){var d=bt(s.angle()-f.angle());if(null!==i&&e.fLinkHue||u)if(0===e.fThetaCoefficient){var b=dt(s.angle()-n);l.angle(b)}else{var m;m=e.fThetaFrom180?e.fThetaCoefficient<0?(d+180)/e.fThetaCoefficient:(d-180)/e.fThetaCoefficient:d/e.fThetaCoefficient,h=!0,i.setTheta(m)}else h=!0,n=d}if(p.radius()!==s.radius())if(!u&&s.radius()<.1&&s.radius()<=.01&&f.radius()>s.radius()&&(o=new vt(5)),null!==i&&t||u){var y=function(t){if(null!==i&&5==o.type())return Et(t,e.fRadiusDelta,i.minRadiusDelta(),i.maxRadiusDelta())}(s.radius());l.radius(y)}else{var g=function(e,t){return null===i||5!==o.type()?t-e:St(e,t,i.minRadiusDelta(),i.maxRadiusDelta())}(f.radius(),s.radius());g!==e.fRadiusDelta&&(h=!0,function(t){var r;if(t<e.fRadiusDelta){if(t<i.minRadiusDelta())i.minRadiusDelta(t);else if(e.fRadiusDelta==i.maxRadiusDelta()&&e.fRadiusDelta>0){e.fRadiusDelta=t;var n=0;for(r in i.regions())r.fRadiusDelta>n&&(n=r.fRadiusDelta);i.maxRadiusDelta(n)}}else if(t>e.fRadiusDelta)if(t>i.maxRadiusDelta())i.maxRadiusDelta(t);else if(e.fRadiusDelta==i.minRadiusDelta()&&e.fRadiusDelta<0){e.fRadiusDelta=t;var o=0;for(r in i.regions())r.fRadiusDelta<o&&(o=r.fRadiusDelta);i.minRadiusDelta(o)}e.fRadiusDelta=t}(g))}if(p.height()!==s.height())if(!u&&s.height()<.2&&(c=!0,s.height()<=.01&&f.height()>s.height()&&(a=new vt(5))),null!==i&&r||u){var v=function(t){if(null!==i&&5==a.type())return Et(t,e.fHeightDelta,i.minHeightDelta(),i.maxHeightDelta())}(s.height());l.height(v)}else{var w=function(e,t){return null===i||5!==a.type()?t-e:St(e,t,i.minHeightDelta(),i.maxHeightDelta())}(f.height(),s.height());w!==e.fHeightDelta&&(h=!0,function(t){var r;if(t<e.fHeightDelta){if(t<i.minHeightDelta())i.minHeightDelta(t);else if(e.fHeightDelta==i.maxHeightDelta()&&e.fHeightDelta>0){e.fHeightDelta=t;var n=0;for(r in i.regions())r.fHeightDelta>n&&(n=r.fHeightDelta);i.maxHeightDelta(n)}}else if(t>e.fHeightDelta)if(t>i.maxHeightDelta())i.maxHeightDelta(t);else if(e.fHeightDelta==i.minHeightDelta()&&e.fHeightDelta<0){e.fHeightDelta=t;var o=0;for(r in i.regions())r.fHeightDelta<o&&(o=r.fHeightDelta);i.minHeightDelta(o)}e.fHeightDelta=t}(w))}i.setBaseColor(l),h&&i.setModifiedFromCreatingRule(!0)}},e.isBaseRegion=function(){return i&&0===n&&0===e.fRadiusDelta&&0===e.fHeightDelta&&!0===e.fLinkHue&&!0===t&&!0===r&&0===e.fThetaCoefficient},e.fLinkHue=!1;var t=!1,r=!1,n=0;e.fRadiusDelta=0,e.fHeightDelta=0,e.fThetaCoefficient=0,e.fThetaFrom180=!1;var o=new vt(0),a=new vt(0),i=null,c=!1}function Ct(){this.regions=function(){return r},this.hasRule=function(){return e},this.setCreatingRule=function(t){e=null!==t},this.setModifiedFromCreatingRule=function(e){},this.minRadiusDelta=function(e){if(Object(d.t)(e))return n;n=e},this.minHeightDelta=function(e){if(Object(d.t)(e))return a;a=e},this.maxRadiusDelta=function(e){if(Object(d.t)(e))return o;o=e},this.maxHeightDelta=function(e){if(Object(d.t)(e))return i;i=e},this.setTo=function(){return c=new mt(0,1,1),this},this.getBaseRegion=function(){for(var e=0;e<r.length;e++){var t=r[e];if(t.isBaseRegion())return t}return null},this.addRegion=function(t){null===t||Object(d.t)(t)||(t.fRadiusDelta<n?n=t.fRadiusDelta:t.fRadiusDelta>o&&(o=t.fRadiusDelta),t.fHeightDelta<a?a=t.fHeightDelta:t.fHeightDelta>i&&(i=t.fHeightDelta),r.push(t),e=!1)},this.getBaseCylPoint=function(){return c},this.setBaseColor=function(e){e.equivalent(c)||(c=e)},this.setTheta=function(e){if(t!=e){t=e;for(var n=0;n<r.length;n++){var o=r[n];if(o.fLinkHue&&0!==o.fThetaCoefficient){var a,i=o.fThetaCoefficient;a=o.fThetaFrom180?180+i*t:i*t,o.setAngleDelta(a)}}}},this.setRegionsToBaseOnly=function(c){var s=r.length;if(s<1)(new jt).setColorScheme2(this,0,0,0,!1);else{for(var l=0;l<s;l++){var u=r[l];if(u.isBaseRegion()){r=[u];break}}r[0].SetZeroWidthDeltas(0,0,0,!0)}t=c,e=!1,n=o=a=i=0},this.clearRegionList=function(){r=[],e=!1,n=o=a=i=0};var e=!1,t=0,r=[],n=0,o=0,a=0,i=0,c=(new mt).setTo(0,1,1)}var kt=function(){var e=[];this.schemes=function(){return e}};function Rt(){this._fName=null,this.setSchemeToRule=function(e){this.setSchemeToRuleImpl(e)},this.setFormulaToRule=function(e){if(0===e.schemes().length)this.addSchemeToFormulaImpl(e);else{for(;e.schemes().length>1;)e.schemes().pop();this.setSchemeToRuleImpl(e.schemes()[0])}},this.addSchemeToFormulaImpl=function(e){return null},this.setSchemeToRuleImpl=function(e){},this.addDependentRegions=function(e){}}Rt.ANALOGOUS=function(){Rt.call(this),this._fName="ANALOGOUS",this.addSchemeToFormulaImpl=function(e){var t=(new Ct).setTo(30);return t.setBaseColor((new mt).setTo(0,1,1)),(new jt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(30),this.addDependentRegions(e)},this.addDependentRegions=function(e){var t;(t=(new jt).setColorScheme5(e,30,.05,.05,!0,1,!1,!1,!1)).setOnRadiusOverflow(new vt(4)),(t=(new jt).setColorScheme5(e,15,.05,.09,!0,.5,!1,!1,!1)).setOnRadiusOverflow(new vt(4)),t.setOnHeightOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,-15,.05,.09,!0,-.5,!1,!1,!1)).setOnRadiusOverflow(new vt(4)),t.setOnHeightOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,-30,.05,.05,!0,-1,!1,!1,!1)).setOnRadiusOverflow(new vt(4)),e.setCreatingRule(this._fName)}},Rt.COMPLEMENTARY=function(){Rt.call(this),this._fName="COMPLEMENTARY 2",this.addSchemeToFormulaImpl=function(e){var t=(new Ct).setTo(30);return(new jt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(180),this.addDependentRegions(e)},this.addDependentRegions=function(e){var t=(new jt).setColorScheme5(e,0,.1,-.3,!0,0,!1,!1,!1);t.setOnHeightOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,0,-.1,.3,!0,0,!1,!1,!1)).setOnHeightOverflow(new vt(5)),(t=(new jt).setColorScheme5(e,180,.2,-.3,!0,0,!1,!1,!1)).setOnHeightOverflow(new vt(3)),(new jt).setColorScheme5(e,180,0,0,!0,0,!1,!1,!1),e.setCreatingRule(this._fName)}},Rt.COMPOUND=function(){Rt.call(this),this._fName="COMPOUND1",this.addDependentRegions=function(e){var t;(t=(new jt).setColorScheme5(e,30,.1,.2,!0,0,!1,!1,!1)).setOnRadiusOverflow(new vt(3)),t.setOnHeightOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,30,-.4,.4,!0,0,!1,!1,!1)).setOnRadiusOverflow(new vt(3)),t.setOnHeightOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,165,-.25,.05,!0,0,!1,!1,!1)).setOnRadiusOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,150,.1,.2,!0,0,!1,!1,!1)).setOnRadiusOverflow(new vt(3)),t.setOnHeightOverflow(new vt(3)),e.setCreatingRule(this._fName)},this.addSchemeToFormulaImpl=function(e){var t=(new Ct).setTo(0);return t.setBaseColor((new mt).setTo(0,1,1)),(new jt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(30),this.addDependentRegions(e)}},Rt.MONOCHROMATIC=function(){Rt.call(this),this._fName="MONOCHROMATIC 2",this.addSchemeToFormulaImpl=function(e){var t=(new Ct).setTo(0);return t.setBaseColor((new mt).setTo(0,1,1)),(new jt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(0),this.addDependentRegions(e)},this.addDependentRegions=function(e){var t;(t=(new jt).setColorScheme5(e,0,0,.3,!0,0,!1,!0,!1)).setOnHeightOverflow(new vt(2)),(t=(new jt).setColorScheme5(e,0,-.3,.1,!0,0,!1,!1,!0)).setOnRadiusOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,0,-.3,.3,!0,0,!1,!1,!1)).setOnRadiusOverflow(new vt(3)),t.setOnHeightOverflow(new vt(2)),(t=(new jt).setColorScheme5(e,0,0,.6,!0,0,!1,!0,!1)).setOnHeightOverflow(new vt(2)),e.setCreatingRule(this._fName)}},Rt.SHADES=function(){Rt.call(this),this._fName="SHADES",this.addSchemeToFormulaImpl=function(e){var t=(new Ct).setTo(0);return t.setBaseColor((new mt).setTo(0,1,1)),(new jt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(0),this.addDependentRegions(e)},this.addDependentRegions=function(e){(new jt).setColorScheme5(e,0,0,-.25,!0,0,!1,!0,!1).setOnHeightOverflow(new vt(2)),(new jt).setColorScheme5(e,0,0,-.5,!0,0,!1,!0,!1).setOnHeightOverflow(new vt(2)),(new jt).setColorScheme5(e,0,0,-.75,!0,0,!1,!0,!1).setOnHeightOverflow(new vt(2)),(new jt).setColorScheme5(e,0,0,-.9,!0,0,!1,!0,!1).setOnHeightOverflow(new vt(2)),e.setCreatingRule(this._fName)}},Rt.TRIAD=function(){Rt.call(this),this._fName="TRIAD2",this.addSchemeToFormulaImpl=function(e){var t=(new Ct).setTo(120);return t.setBaseColor((new mt).setTo(0,1,1)),(new jt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(120),this.addDependentRegions(e)},this.addDependentRegions=function(e){var t;(t=(new jt).setColorScheme5(e,0,.1,-.3,!0,0,!1,!1,!1)).setOnHeightOverflow(new vt(3)),t.setOnRadiusOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,120,-.1,0,!0,0,!1,!1,!1)).setOnRadiusOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,-120,.1,0,!0,0,!1,!1,!1)).setOnRadiusOverflow(new vt(3)),t.setOnHeightOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,-120,.05,-.3,!0,0,!1,!1,!1)).setOnRadiusOverflow(new vt(3)),t.setOnHeightOverflow(new vt(3)),e.setCreatingRule(this._fName)}},Rt.SQUARE=function(){Rt.call(this),this._fName="SQUARE",this.addSchemeToFormulaImpl=function(e){var t=(new Ct).setTo(90);return t.setBaseColor((new mt).setTo(0,1,1)),(new jt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(90),this.addDependentRegions(e)},this.addDependentRegions=function(e){var t;(t=(new jt).setColorScheme5(e,0,.1,0,!0,0,!1,!1,!1)).setOnHeightOverflow(new vt(3)),t.setOnRadiusOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,90,-.1,0,!0,0,!1,!1,!1)).setOnRadiusOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,180,.1,0,!0,0,!1,!1,!1)).setOnRadiusOverflow(new vt(3)),t.setOnHeightOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,-90,.05,0,!0,0,!1,!1,!1)).setOnRadiusOverflow(new vt(3)),t.setOnHeightOverflow(new vt(3)),e.setCreatingRule(this._fName)}},Rt.SPLIT_COMPLEMENTARY=function(){Rt.call(this),this._fName="SPLIT_COMPLEMENTARY",this.addSchemeToFormulaImpl=function(e){var t=(new Ct).setTo(150);return t.setBaseColor((new mt).setTo(0,1,1)),(new jt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(0),this.addDependentRegions(e)},this.addDependentRegions=function(e){var t;(t=(new jt).setColorScheme5(e,150,-.1,.3,!0,.5,!0,!1,!1)).setOnHeightOverflow(new vt(3)),t.setOnRadiusOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,150,-.05,0,!0,.5,!0,!1,!1)).setOnRadiusOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,-150,.1,.3,!0,-.5,!0,!1,!1)).setOnRadiusOverflow(new vt(3)),t.setOnHeightOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,-150,.05,0,!0,-.5,!0,!1,!1)).setOnRadiusOverflow(new vt(3)),t.setOnHeightOverflow(new vt(3)),e.setCreatingRule(this._fName)}},Rt.DOUBLE_SPLIT_COMPLEMENTARY=function(){Rt.call(this),this._fName="DOUBLE_SPLIT_COMPLEMENTARY",this.addSchemeToFormulaImpl=function(e){var t=(new Ct).setTo(0);return t.setBaseColor((new mt).setTo(0,1,1)),(new jt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(0),this.addDependentRegions(e)},this.addDependentRegions=function(e){var t;(t=(new jt).setColorScheme5(e,30,-.05,0,!0,1,!1,!1,!1)).setOnHeightOverflow(new vt(3)),t.setOnRadiusOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,150,-.1,0,!0,-1,!0,!1,!1)).setOnRadiusOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,-150,.1,0,!0,1,!0,!1,!1)).setOnRadiusOverflow(new vt(3)),t.setOnHeightOverflow(new vt(3)),(t=(new jt).setColorScheme5(e,-30,.05,0,!0,-1,!1,!1,!1)).setOnRadiusOverflow(new vt(3)),t.setOnHeightOverflow(new vt(3)),e.setCreatingRule(this._fName)}};var Pt=function(e,t){this.setToRestoreMode=function(){p="restore"},this.resetMode=function(){p="create"},this.setNewTheme=function(e){Object(d.t)(e)||(c=e)},this.colorSet=function(e){if(Object(d.t)(e))return c;c=e,f=-1,Object(d.t)(c.baseColorIndex)?(u=!0,n()):(o(),a());var t=e.harmonyRule||"ANALOGOUS";return this.rule(t),this};var r=this;function n(){if(null!==s){var e=c.swatches[c.baseColorIndex],t=new mt(ce(e.hsv.h),e.hsv.s/100,e.hsv.v/100);b.setBasePoint(t),u&&(u=!1,o()),f=-1,a()}}function o(){l=!0;var e=b.getCurrentScheme();e.clearRegionList();var t=c.swatches[c.baseColorIndex],r=new mt(ce(t.hsv.h),t.hsv.s/100,t.hsv.v/100);(new jt).setColorScheme2(e,0,0,0,!0),e.setBaseColor(r);for(var n=0;n<h.lc;n++)if(0!==i(n)){var o=c.swatches[n],a=new mt(ce(o.hsv.h),o.hsv.s/100,o.hsv.v/100),s=0,u=c.harmonyRule;if("ANALOGOUS"===u){var f=i(n);s=1==f?1:2==f?.5:3==f?-.5:-1,(new jt).setColorScheme5(e,a.angle()-r.angle(),a.radius()-r.radius(),a.height()-r.height(),!0,s,!1,!1,!1)}else"MONOCHROMATIC"===u?(1==i(n)&&(new jt).setColorScheme5(e,a.angle()-r.angle(),a.radius()-r.radius(),a.height()-r.height(),!0,s,!1,!0,!1),2==i(n)&&(new jt).setColorScheme5(e,a.angle()-r.angle(),a.radius()-r.radius(),a.height()-r.height(),!0,s,!1,!1,!0),3==i(n)&&(new jt).setColorScheme5(e,a.angle()-r.angle(),a.radius()-r.radius(),a.height()-r.height(),!0,s,!1,!1,!1),4==i(n)&&(new jt).setColorScheme5(e,a.angle()-r.angle(),a.radius()-r.radius(),a.height()-r.height(),!0,s,!1,!0,!1)):"SPLIT_COMPLEMENTARY"===u?(s=1==f||2==f?.5:-.5,(new jt).setColorScheme5(e,a.angle()-r.angle(),a.radius()-r.radius(),a.height()-r.height(),!0,s,!1,"SHADES"==u,!1)):"TRIAD"!==u&&"SQUARE"!==u&&"COMPLEMENTARY"!==u&&"COMPOUND"!==u&&"SHADES"!==u||(new jt).setColorScheme5(e,a.angle()-r.angle(),a.radius()-r.radius(),a.height()-r.height(),!0,s,!1,"SHADES"==u,!1)}l=!1}function a(){l=!0;for(var e,r,n,o=b.getCurrentScheme().regions(),a=0;a<o.length;a++)if(e=o[i(a)],r=c.swatches[a],e&&r&&a!=f){n=e.derivedColor();var s=Object(Z.i)([ie(n.angle()),100*n.radius(),100*n.height()]);t({i:a,swatch:s})}l=!1}function i(e){var t=c.baseColorIndex;if(e==t)e=0;else if(e<t)return e+1;return e}this.onRuleChange=function(e){r.rule(e)},this.onBaseColorChange=function(e){l||null===s||n()},this.rule=function(e){if(void 0===e)return s||"CUSTOM";if(Object(d.t)(Rt[e]))s=null;else{null===s&&c&&o(),s=e;var t="restore"==p;b.setHarmonyRule(new Rt[s],t),f!==c.baseColorIndex&&(f=-1),a()}},this.onColorChange=function(e){if(!l&&null!==s&&null!==c&&!(e<0||e>=h.lc)){f=e;var t=b.getCurrentScheme().regions()[i(e)];t&&(l=!0,t.moveToColor(new mt(ce(c.swatches[e].hsv.h),c.swatches[e].hsv.s/100,c.swatches[e].hsv.v/100)),a(),l=!1)}};var c=null,s=null,l=!1,u=!1,f=-1,p="create",b=new function(){var e,t,r;this.init=function(n,o){e=n,o&&o.setFormulaToRule(e);var a=t||e.schemes()[0];r=(t=a).getBaseRegion()},this.setHarmonyRule=function(e,r){if(e){if(r)return;e.setSchemeToRule(t)}this.setCurrentRegion(t.getBaseRegion())},this.getCurrentScheme=function(){return t},this.setBasePoint=function(e){t.setBaseColor(e)},this.setCurrentRegion=function(e){r!=e&&(e?(e.parentScheme()==t||this.SetCurrentScheme(e.parentScheme()),r=e):r=null)},t=null,this.init(new kt,new Rt.ANALOGOUS)};Object(d.t)(e)||e.swatches.length<5||this.colorSet(e)},Tt=r(747),It=r.n(Tt);function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dt(n.key),n)}}function Mt(e,t){return(Mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e){var t=function(e,t){if("object"!==At(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==At(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===At(t)?t:String(t)}var Lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mt(e,t)}(r,n.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Nt(e);if(t){var o=Nt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===At(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xt(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,r){(t=Dt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(xt(n=t.call(this,e)),"onKeyDown",(function(e){e.keyCode===h.Pb.ENTER&&n.props.setBaseColorIndex(n.props.id)})),n.onClick=n.onClick.bind(xt(n)),n}return function(e,t,r){t&&_t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onClick",value:function(){this.props.setBaseColorIndex(this.props.id)}},{key:"render",value:function(){var e=this,t=this.props.isBaseColor?It.a.activeBaseIndicator:It.a.baseIndicator;return h.Ob?o.a.createElement(Ke.a,{className:this.props.isBaseColor?It.a.tooltip:"",placement:"bottom"},o.a.createElement("img",{ref:function(t){e.baseIndicatorRef=t},onClick:this.onClick,draggable:!0,src:_.i,className:t}),o.a.createElement(Ze.a,{variant:"info"},o.a.createElement("div",{className:It.a.baseSwatchTooltipTitle},o.a.createElement(i.a,{id:"app.create.base.color.tooltip"})),o.a.createElement("div",{className:It.a.baseSwatchTooltipInfo},o.a.createElement(i.a,{id:"app.create.base.color.info.tooltip"})))):o.a.createElement(Ke.a,{className:this.props.isBaseColor?It.a.tooltip:"",placement:"bottom"},o.a.createElement("img",{ref:function(t){e.baseIndicatorRef=t},onClick:this.onClick,draggable:!0,src:_.i,className:t,alt:"",tabIndex:"0",onKeyDown:this.onKeyDown}),this.props.isBaseColor?o.a.createElement(Ze.a,{variant:"info"},o.a.createElement("div",{className:It.a.baseSwatchTooltipTitle},o.a.createElement(i.a,{id:"app.create.base.color.tooltip"})),o.a.createElement("div",{className:It.a.baseSwatchTooltipInfo},o.a.createElement(i.a,{id:"app.create.base.color.info.tooltip"}))):o.a.createElement(Ze.a,null,o.a.createElement("div",{className:It.a.setBaseSwatchTooltipTitle},o.a.createElement(i.a,{id:"app.create.base.color.tooltip.setasbasecolor"}))))}}]),r}(),Bt=r(948);function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ft=Object(i.e)((function(e){var t=e.ingestWorkflow,r=e.intl,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(n.useState)(!1),2),i=a[0],c=a[1],l=Object(s.e)((function(e){return e.create.assetType})),u=Object(v.a)(l,r,Object(d.r)()),f=u.assetName,p=u.defaultAssetName,h=u.updateAssetName,b=function(){c(!i),i&&""===f&&h(p,!1)};return Object(n.useEffect)((function(){return i?Object(d.B)("hidden"):Object(d.B)(""),function(){Object(d.B)("")}}),[i]),o.a.createElement("div",{className:S.a.splitButton},o.a.createElement(Bt.a,{ingestWorkflow:t,showSplitButton:!0,onSplitButtonClick:b}),i&&o.a.createElement("div",{className:S.a.savePanelModal},o.a.createElement("div",{className:S.a.backdrop,onClick:b}),o.a.createElement(re,{ingestWorkflow:t,showLargeView:!0,closeDialog:b})))})),Ht=r(831),Ut=r.n(Ht),Wt=function(e){return o.a.createElement("div",{className:Ut.a.row},e.children,h.Mb&&o.a.createElement(Ft,{ingestWorkflow:e.ingestWorkflow}))},Vt=r(100),Yt=r.n(Vt),zt=r(832),Kt=r.n(zt);function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$t(n.key),n)}}function qt(e,t){return(qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $t(e){var t=function(e,t){if("object"!==Xt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Xt(t)?t:String(t)}var er=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qt(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Qt(e);if(t){var o=Qt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Xt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jt(e)}(this,r)}}(r);function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return function(e,t,r){(t=$t(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Jt(e=t.call.apply(t,[this].concat(o))),"onChange",(function(t){var r=e.validation(parseInt(t,10));e.props.onChange(r)})),e}return function(e,t,r){t&&Zt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"validation",value:function(e){var t=e;return isNaN(e)||Object(d.t)(e)||e<this.props.minValue?t=this.props.minValue:e>this.props.maxValue&&(t=this.props.maxValue),t}},{key:"render",value:function(){return o.a.createElement(Yt.a,{className:Kt.a.inputBox,value:this.props.value,quiet:!0,type:"number",min:this.props.minValue,max:this.props.maxValue,onChange:this.onChange,"aria-label":this.props.txtLabel})}}]),r}(),tr=r(21),rr=r.n(tr),nr=r(1015),or=r.n(nr),ar=r(837),ir=r.n(ar);function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pr(n.key),n)}}function lr(e,t){return(lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pr(e){var t=function(e,t){if("object"!==cr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==cr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===cr(t)?t:String(t)}var hr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lr(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=fr(e);if(t){var o=fr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===cr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ur(e)}(this,r)}}(r);function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return function(e,t,r){(t=pr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ur(e=t.call.apply(t,[this].concat(o))),"onChange",(function(t){e.props.onChange(t)})),e}return function(e,t,r){t&&sr(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentWillReceiveProps",value:function(e){e.color!==this.props.color&&rr.a.findDOMNode(this.sliderRef).style.setProperty("--slider-default-color",e.color)}},{key:"componentDidMount",value:function(){rr.a.findDOMNode(this.sliderRef).style.setProperty("--slider-default-color",this.props.color),Object(d.y)(!0,document.querySelectorAll(".spectrum-Slider-handle"))}},{key:"componentWillUnmount",value:function(){Object(d.y)(!1,document.querySelectorAll(".spectrum-Slider-handle"))}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(or.a,{ref:function(t){e.sliderRef=t},className:ir.a.slider,min:this.props.minValue,max:this.props.maxValue,value:this.props.value,onChange:this.onChange,step:this.props.step,label:this.props.sliderLabel}))}}]),r}(),dr=r(142),br=r.n(dr),mr=r(838),yr=r.n(mr);function gr(e){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vr(){return(vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Or(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cr(n.key),n)}}function Er(e,t){return(Er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jr(e){return(jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cr(e){var t=function(e,t){if("object"!==gr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==gr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===gr(t)?t:String(t)}var kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Er(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=jr(e);if(t){var o=jr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===gr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sr(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,r){(t=Cr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Sr(n=t.call(this,e)),"onChange",(function(e){n.setState({value:e}),n.debouncedOnChange(e)})),n.sendTextEditIngestEvent=n.sendTextEditIngestEvent.bind(Sr(n)),n.state={value:e.value},n.debouncedOnChange=h.Ob?br()(e.onChange,200):e.onChange,n}return function(e,t,r){t&&Or(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.props.value!==this.state.value&&this.setState({value:this.props.value})}},{key:"sendTextEditIngestEvent",value:function(e){var t={workflow:Object(d.e)(this.props.ingestWorkflow[0]),subcategory:h.Gb.SWATCH,value:this.props.colorSpace};Object(be.a)(h.Eb.VALUE_CHANGE,{event:t},[].concat(function(e){return function(e){if(Array.isArray(e))return wr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return wr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.props.ingestWorkflow),[h.Gb.SWATCH,h.Gb.SLIDERBAR])),this.onChange(e)}},{key:"render",value:function(){var e=this,t=this.state.value;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:yr.a.sliderWithBoxContainer},o.a.createElement(hr,vr({},this.props,{value:t,onChange:this.onChange})),o.a.createElement(er,vr({},this.props,{value:t,onChange:function(t){return e.sendTextEditIngestEvent(t)}}))))}}]),r}();kr.defaultProps={colorSpace:"",ingestWorkflow:[h.I]};var Rr=kr,Pr=r(839),Tr=r.n(Pr);function Ir(e){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mr(n.key),n)}}function Mr(e){var t=function(e,t){if("object"!==Ir(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Ir(t)?t:String(t)}function xr(e,t){return(xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Nr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dr(e){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xr(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Dr(e);if(t){var o=Dr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Ir(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nr(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).onChange=n.onChange.bind(Nr(n)),n}return function(e,t,r){t&&_r(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onChange",value:function(e,t){var r=Object.assign({},this.props.swatches[this.props.id]),n={workflow:Object(d.e)(this.props.ingestWorkflow[0]),subcategory:h.Gb.SLIDERBAR,value:"rgb"};Object(be.a)(h.Eb.SLIDE,{event:n},[].concat(function(e){return function(e){if(Array.isArray(e))return Ar(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ar(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ar(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.props.ingestWorkflow),[h.Gb.SWATCH])),this.props.setActiveSwatch(this.props.id),"v"===t?(r.hsv[t]=e,this.props.onSwatchValueChange({i:this.props.id,swatch:Object(Z.i)([r.hsv.h,r.hsv.s,r.hsv.v])})):(r.rgb[t]=e,this.props.onSwatchValueChange({i:this.props.id,swatch:Object(Z.o)([r.rgb.r,r.rgb.g,r.rgb.b])}))}},{key:"render",value:function(){var e=this,t=this.props.swatches[this.props.id].rgb,r=t.r,n=t.g,a=t.b,i=this.props.swatches[this.props.id].hsv,c=i.h,s=i.s,l=i.v,u="linear-gradient(to right, rgb(0, ".concat(n,", ").concat(a,") 0%, rgb(255, ").concat(n,", ").concat(a,") 100%)"),f="linear-gradient(to right, rgb(".concat(r,", 0, ").concat(a,") 0%, rgb(").concat(r,", 255, ").concat(a,") 100%)"),p="linear-gradient(to right, rgb(".concat(r,", ").concat(n,", 0) 0%, rgb(").concat(r,", ").concat(n,", 255) 100%)"),d=h.z.MIN.HSV,b=h.z.MAX.HSV,m="linear-gradient(to right, #".concat(Object(Z.v)("hsv",[c/b.H,s/b.S,0]),", #").concat(Object(Z.v)("hsv",[c/b.H,s/b.S,1]),")"),y=h.z.MIN.RGB,g=h.z.MAX.RGB;return o.a.createElement("div",{className:Tr.a.sliderGroup},o.a.createElement(Rr,{colorSpace:"rgb",minValue:y.R,maxValue:g.R,color:u,step:1,value:r,onChange:function(t){return e.onChange(t,"r")},sliderLabel:this.props.intl.formatMessage({id:"app.create.rgb.r.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.rgb.r.sliderText.label"})}),o.a.createElement(Rr,{colorSpace:"rgb",minValue:y.G,maxValue:g.G,color:f,step:1,value:n,onChange:function(t){return e.onChange(t,"g")},sliderLabel:this.props.intl.formatMessage({id:"app.create.rgb.g.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.rgb.g.sliderText.label"})}),o.a.createElement(Rr,{colorSpace:"rgb",minValue:y.B,maxValue:g.B,color:p,step:1,value:a,onChange:function(t){return e.onChange(t,"b")},sliderLabel:this.props.intl.formatMessage({id:"app.create.rgb.b.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.rgb.b.sliderText.label"})}),o.a.createElement(Rr,{colorSpace:"rgb",minValue:d.V,maxValue:b.V,color:m,step:1,value:l,onChange:function(t){return e.onChange(t,"v")},sliderLabel:this.props.intl.formatMessage({id:"app.create.rgb.br.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.rgb.br.sliderText.label"})}))}}]),r}(),Br=Object(s.b)((function(e){return{swatches:e.create.swatches}}),(function(e){return Object(c.b)({setActiveSwatch:f.setActiveSwatch},e)}))(Object(i.e)(Lr));Lr.defaultProps={ingestWorkflow:[h.I]};var Gr=Br,Fr=r(840),Hr=r.n(Fr);function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yr(n.key),n)}}function Yr(e){var t=function(e,t){if("object"!==Ur(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Ur(t)?t:String(t)}function zr(e,t){return(zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zr(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Xr(e);if(t){var o=Xr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Ur(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kr(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).onChange=n.onChange.bind(Kr(n)),n}return function(e,t,r){t&&Vr(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onChange",value:function(e,t){var r=Object.assign({},this.props.swatches[this.props.id].cmyk),n={workflow:Object(d.e)(this.props.ingestWorkflow[0]),subcategory:h.Gb.SLIDERBAR,value:"cmyk"};Object(be.a)(h.Eb.SLIDE,{event:n},[].concat(function(e){return function(e){if(Array.isArray(e))return Wr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Wr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.props.ingestWorkflow),[h.Gb.SWATCH])),r[t]=e,this.props.setActiveSwatch(this.props.id),this.props.onSwatchValueChange({i:this.props.id,swatch:Object(Z.a)([r.c,r.m,r.y,r.k])})}},{key:"getGradientValueForSliders",value:function(e){var t,r,n=this.props.swatches[this.props.id].cmyk,o={c:n.c/100,m:n.m/100,y:n.y/100,k:n.k/100},a=Object.assign({},o),i=Object.assign({},o);return a[e]=0,i[e]=1,t=Object(Z.v)("cmyk",[a.c,a.m,a.y,a.k]),r=Object(Z.v)("cmyk",[i.c,i.m,i.y,i.k]),"linear-gradient(to right, #".concat(t,", #").concat(r,")")}},{key:"render",value:function(){var e=this,t=this.props.swatches[this.props.id].cmyk,r=t.c,n=t.m,a=t.y,i=t.k,c=this.getGradientValueForSliders("c"),s=this.getGradientValueForSliders("m"),l=this.getGradientValueForSliders("y"),u=this.getGradientValueForSliders("k"),f=h.z.MIN.CMYK,p=h.z.MAX.CMYK;return o.a.createElement("div",{className:Hr.a.sliderGroup},o.a.createElement(Rr,{colorSpace:"cmyk",minValue:f.C,maxValue:p.C,color:c,step:1,value:r,onChange:function(t){return e.onChange(t,"c")},sliderLabel:this.props.intl.formatMessage({id:"app.create.cmyk.c.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.cmyk.c.sliderText.label"})}),o.a.createElement(Rr,{colorSpace:"cmyk",minValue:f.M,maxValue:p.M,color:s,step:1,value:n,onChange:function(t){return e.onChange(t,"m")},sliderLabel:this.props.intl.formatMessage({id:"app.create.cmyk.m.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.cmyk.m.sliderText.label"})}),o.a.createElement(Rr,{colorSpace:"cmyk",minValue:f.Y,maxValue:p.Y,color:l,step:1,value:a,onChange:function(t){return e.onChange(t,"y")},sliderLabel:this.props.intl.formatMessage({id:"app.create.cmyk.y.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.cmyk.y.sliderText.label"})}),o.a.createElement(Rr,{colorSpace:"cmyk",minValue:f.K,maxValue:p.K,color:u,step:1,value:i,onChange:function(t){return e.onChange(t,"k")},sliderLabel:this.props.intl.formatMessage({id:"app.create.cmyk.k.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.cmyk.k.sliderText.label"})}))}}]),r}(),qr=Object(s.b)((function(e){return{swatches:e.create.swatches}}),(function(e){return Object(c.b)({setActiveSwatch:f.setActiveSwatch},e)}))(Object(i.e)(Zr));Zr.defaultProps={ingestWorkflow:[h.I]};var Jr=qr,Qr=r(841),$r=r.n(Qr);function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nn(n.key),n)}}function nn(e){var t=function(e,t){if("object"!==en(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==en(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===en(t)?t:String(t)}function on(e,t){return(on=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function an(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&on(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=cn(e);if(t){var o=cn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===en(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return an(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).onChange=n.onChange.bind(an(n)),n}return function(e,t,r){t&&rn(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onChange",value:function(e,t){var r=Object.assign({},this.props.swatches[this.props.id].hsv),n={workflow:Object(d.e)(this.props.ingestWorkflow[0]),subcategory:h.Gb.SLIDERBAR,value:"hsv"};Object(be.a)(h.Eb.SLIDE,{event:n},[].concat(function(e){return function(e){if(Array.isArray(e))return tn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return tn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.props.ingestWorkflow),[h.Gb.SWATCH])),r[t]=e,this.props.setActiveSwatch(this.props.id),this.props.onSwatchValueChange({i:this.props.id,swatch:Object(Z.i)([r.h,r.s,r.v])})}},{key:"getGradientValueForSliders",value:function(e){var t,r,n=this.props.swatches[this.props.id].hsv,o={h:n.h/360,s:n.s/100,v:n.v/100},a=Object.assign({},o),i=Object.assign({},o);return a[e]=0,i[e]=1,t=Object(Z.v)("hsv",[a.h,a.s,a.v]),r=Object(Z.v)("hsv",[i.h,i.s,i.v]),"linear-gradient(to right, #".concat(t,", #").concat(r,")")}},{key:"render",value:function(){var e=this,t=this.props.swatches[this.props.id].hsv,r=t.h,n=t.s,a=t.v,i=this.getGradientValueForSliders("s"),c=this.getGradientValueForSliders("v"),s=h.z.MIN.HSV,l=h.z.MAX.HSV;return o.a.createElement("div",{className:$r.a.sliderGroup},o.a.createElement(Rr,{colorSpace:"hsv",minValue:s.H,maxValue:l.H,color:"linear-gradient(to right, red, yellow, lime, aqua, blue, magenta, red)",step:1,value:r,onChange:function(t){return e.onChange(t%360,"h")},sliderLabel:this.props.intl.formatMessage({id:"app.create.hsv.h.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.hsv.h.sliderText.label"})}),o.a.createElement(Rr,{colorSpace:"hsv",minValue:s.S,maxValue:l.S,color:i,step:1,value:n,onChange:function(t){return e.onChange(t,"s")},sliderLabel:this.props.intl.formatMessage({id:"app.create.hsv.s.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.hsv.s.sliderText.label"})}),o.a.createElement(Rr,{colorSpace:"hsv",minValue:s.V,maxValue:l.V,color:c,step:1,value:a,onChange:function(t){return e.onChange(t,"v")},sliderLabel:this.props.intl.formatMessage({id:"app.create.hsv.v.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.hsv.v.sliderText.label"})}))}}]),r}(),ln=Object(s.b)((function(e){return{swatches:e.create.swatches}}),(function(e){return Object(c.b)({setActiveSwatch:f.setActiveSwatch},e)}))(Object(i.e)(sn));sn.defaultProps={ingestWorkflow:[h.I]};var un=ln,fn=r(842),pn=r.n(fn);function hn(e){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mn(n.key),n)}}function mn(e){var t=function(e,t){if("object"!==hn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==hn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===hn(t)?t:String(t)}function yn(e,t){return(yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yn(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=vn(e);if(t){var o=vn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===hn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gn(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).onChange=n.onChange.bind(gn(n)),n}return function(e,t,r){t&&bn(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onChange",value:function(e,t){var r=Object.assign({},this.props.swatches[this.props.id].lab),n={workflow:Object(d.e)(this.props.ingestWorkflow[0]),subcategory:h.Gb.SLIDERBAR,value:"hsv"};Object(be.a)(h.Eb.SLIDE,{event:n},[].concat(function(e){return function(e){if(Array.isArray(e))return dn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return dn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.props.ingestWorkflow),[h.Gb.SWATCH])),r[t]=e,this.props.setActiveSwatch(this.props.id),this.props.onSwatchValueChange({i:this.props.id,swatch:Object(Z.k)([r.l,r.a,r.b])})}},{key:"getGradientValueForSliders",value:function(e){var t,r,n=this.props.swatches[this.props.id].lab,o={l:n.l/100,a:(n.a+128)/256,b:(n.b+128)/256},a=Object.assign({},o),i=Object.assign({},o);return a[e]=0,i[e]=1,t=Object(Z.v)("lab",[a.l,a.a,a.b]),r=Object(Z.v)("lab",[i.l,i.a,i.b]),"linear-gradient(to right, #".concat(t,", #").concat(r,")")}},{key:"render",value:function(){var e=this,t=this.props.swatches[this.props.id].lab,r=t.l,n=t.a,a=t.b,i=this.getGradientValueForSliders("l"),c=this.getGradientValueForSliders("a"),s=this.getGradientValueForSliders("b"),l=h.z.MIN.LAB,u=h.z.MAX.LAB;return o.a.createElement("div",{className:pn.a.sliderGroup},o.a.createElement(Rr,{colorSpace:"lab",minValue:l.L,maxValue:u.L,color:i,step:1,value:r,onChange:function(t){return e.onChange(t,"l")},sliderLabel:this.props.intl.formatMessage({id:"app.create.lab.l.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.lab.l.sliderText.label"})}),o.a.createElement(Rr,{colorSpace:"lab",minValue:l.A,maxValue:u.A,color:c,step:1,value:n,onChange:function(t){return e.onChange(t,"a")},sliderLabel:this.props.intl.formatMessage({id:"app.create.lab.a.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.lab.a.sliderText.label"})}),o.a.createElement(Rr,{colorSpace:"lab",minValue:l.B,maxValue:u.B,color:s,step:1,value:a,onChange:function(t){return e.onChange(t,"b")},sliderLabel:this.props.intl.formatMessage({id:"app.create.lab.b.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.lab.b.sliderText.label"})}))}}]),r}(),On=Object(s.b)((function(e){return{swatches:e.create.swatches}}),(function(e){return Object(c.b)({setActiveSwatch:f.setActiveSwatch},e)}))(Object(i.e)(wn));wn.defaultProps={ingestWorkflow:[h.I]};var En=On;function Sn(){return(Sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var jn=function(e){return o.a.createElement("svg",Sn({xmlns:"http://www.w3.org/2000/svg","data-name":"S_Sun_18_N@2x",height:"36",id:"S_Sun_18_N_2x",viewBox:"0 0 36 36",width:"36"},e),o.a.createElement("circle",{cx:"18",cy:"18",r:"7.9"}),o.a.createElement("rect",{height:"6",rx:"0.5",transform:"translate(-0.652 5.007) rotate(-22.5)",width:"3.6",x:"10.46",y:"1.142"}),o.a.createElement("rect",{height:"6",rx:"0.5",transform:"matrix(0.924, -0.383, 0.383, 0.924, -10.384, 11.51)",width:"3.6",x:"21.94",y:"28.858"}),o.a.createElement("rect",{height:"3.6",rx:"0.5",transform:"translate(-8.77 3.392) rotate(-22.5)",width:"6",x:"1.142",y:"21.94"}),o.a.createElement("rect",{height:"3.6",rx:"0.5",transform:"translate(-2.267 13.125) rotate(-22.5)",width:"6",x:"28.858",y:"10.46"}),o.a.createElement("rect",{height:"3.6",rx:"0.5",transform:"translate(11.441 24.4) rotate(-67.5)",width:"6",x:"20.979",y:"1.838"}),o.a.createElement("rect",{height:"3.6",rx:"0.5",transform:"translate(-22.465 31.145) rotate(-67.5)",width:"6",x:"9.073",y:"30.583"}),o.a.createElement("rect",{height:"6",rx:"0.5",transform:"translate(-8.891 10.788) rotate(-67.5)",width:"3.6",x:"1.827",y:"9.047"}),o.a.createElement("rect",{height:"6",rx:"0.5",transform:"translate(-2.152 44.664) rotate(-67.5)",width:"3.6",x:"30.546",y:"20.942"}))},Cn=r(843),kn=r.n(Cn);function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,In(n.key),n)}}function In(e){var t=function(e,t){if("object"!==Rn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Rn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Rn(t)?t:String(t)}function An(e,t){return(An=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mn(e){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&An(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Mn(e);if(t){var o=Mn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Rn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _n(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).onChange=n.onChange.bind(_n(n)),n.onBlur=n.onBlur.bind(_n(n)),n.onKeyPress=n.onKeyPress.bind(_n(n)),n.onFocus=n.onFocus.bind(_n(n)),n.state={hex:"".concat(e.swatches[n.props.id].hex)},n}return function(e,t,r){t&&Tn(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentWillReceiveProps",value:function(e){e.swatches[e.id].hex!==this.state.hex&&this.setState({hex:"".concat(e.swatches[e.id].hex)})}},{key:"onBlur",value:function(){if(this.props.swatches[this.props.id].hex!==this.state.hex){var e=this.state.hex,t="";if("#"===e[0]&&(e=e.substr(1)),3===e.length){for(var r=0;r<=2;++r)t=t.concat("".concat(e[r]).concat(e[r]));e=t}else e.length>6&&(e=e.substr(0,6));e=parseInt(e,16);var n={r:(e>>>=0)>>16&255,g:e>>8&255,b:255&e},o=Object(Z.v)("rgb",[n.r/255,n.g/255,n.b/255]),a={workflow:Object(d.e)(this.props.ingestWorkflow[0]),subcategory:h.Gb.SWATCH,value:"hex"};Object(be.a)(h.Eb.VALUE_CHANGE,{event:a},[].concat(function(e){return function(e){if(Array.isArray(e))return Pn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Pn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.props.ingestWorkflow),[h.Gb.SWATCH])),this.setState({hex:"".concat(o)}),this.props.onSwatchValueChange({i:this.props.id,swatch:Object(Z.o)([n.r,n.g,n.b])})}}},{key:"onKeyPress",value:function(e){e.charCode===h.Pb.ENTER&&this.onBlur()}},{key:"onChange",value:function(e){var t=e.target.value;"#"===t[0]&&(t=t.substr(1)),this.setState({hex:t})}},{key:"onFocus",value:function(){this.props.setActiveSwatch(this.props.id)}},{key:"render",value:function(){return o.a.createElement("input",{"aria-label":this.props.hexLabel,onChange:this.onChange,onBlur:this.onBlur,value:"#".concat(this.state.hex),className:"spectrum-Textfield spectrum-Textfield--quiet ".concat(kn.a.hexInputField),onKeyPress:this.onKeyPress,onFocus:this.onFocus,disabled:this.props.disabled})}}]),r}(),Nn=Object(s.b)((function(e){return{swatches:e.create.swatches}}),(function(e){return Object(c.b)({setActiveSwatch:f.setActiveSwatch},e)}))(xn);xn.defaultProps={ingestWorkflow:[h.I],disabled:!1};var Dn=Nn,Ln=r(844),Bn=r.n(Ln),Gn=function(){var e=Object(s.e)((function(e){return e.create.colorMode})),t=Object(s.d)(),r=[{label:o.a.createElement(i.a,{id:"app.create.colormode.dropdown.rgb"}),value:"RGB"},{label:o.a.createElement(i.a,{id:"app.create.colormode.dropdown.hsv"}),value:"HSV"},{label:o.a.createElement(i.a,{id:"app.create.colormode.dropdown.lab"}),value:"LAB"}];return o.a.createElement(Je.a,{className:Bn.a.modeSelector,options:r,quiet:!0,value:e,onChange:function(e){return t(f.setColorMode(e))}})},Fn=o.a.memo((function(e){var t=e.children,r=(Object(s.e)((function(e){return e.user.locale})),Object(s.e)((function(e){return e.create.workflow}))===h.J.COLORWHEEL?Bn.a.colorwheelModeContainer:Bn.a.accessibilityModeContainer);return o.a.createElement("div",{className:r},o.a.createElement("div",{className:Bn.a.modeText},o.a.createElement(i.a,{id:"app.create.colorMode"})),o.a.createElement(Gn,null),t)})),Hn=r(845),Un=r.n(Hn),Wn={RGB:Gr,CMYK:Jr,HSV:un,LAB:En},Vn=function(e){var t=e.intl,r={RGB:Array.from(t.formatMessage({id:"app.create.colormode.dropdown.rgb",defaultMessage:"RGB"})).concat(o.a.createElement(jn,{className:Un.a.brightnessIcon})),CMYK:Array.from(t.formatMessage({id:"app.create.colormode.dropdown.cmyk",defaultMessage:"CMYK"})),HSV:Array.from(t.formatMessage({id:"app.create.colormode.dropdown.hsv",defaultMessage:"HSV"})),LAB:Array.from(t.formatMessage({id:"app.create.colormode.dropdown.lab",defaultMessage:"LAB"}))}[Object(s.e)((function(e){return e.create.colorMode}))];return o.a.createElement(o.a.Fragment,null,r.map((function(e,t){return o.a.createElement("span",{key:t},e)})))},Yn=Object(i.e)((function(e){for(var t=e.onSwatchValueChange,r=e.intl,n=e.showSliders,a=[],i=Object(s.e)((function(e){return e.create.colorMode})),c=Object(s.e)((function(e){return e.create.order})),l=Object(s.e)((function(e){return e.create.swatches})),u=Object(s.e)((function(e){return e.create.activeSwatch})),f=(Object(s.e)((function(e){return e.user.locale})),Wn[i]),p=0;p<l.length;++p){var d="app.create.hex.label.swatch".concat(p+1);h.Jb?a.push(o.a.createElement("div",{key:p,className:Un.a.sliderAndInputFieldContainer},o.a.createElement(Dn,{id:c[p],onSwatchValueChange:t,hexLabel:r.formatMessage({id:d})}),n&&o.a.createElement(f,{id:c[p],onSwatchValueChange:t}))):p===u&&a.push(o.a.createElement("div",{key:p,className:Un.a.sliderAndInputFieldContainer},o.a.createElement("div",{className:Un.a.sliderHead},o.a.createElement(Gn,null),o.a.createElement(Dn,{id:c[p],onSwatchValueChange:t,hexLabel:r.formatMessage({id:d})})),o.a.createElement(f,{id:c[p],onSwatchValueChange:t})))}return a})),zn=Object(i.e)(o.a.memo((function(e){var t=e.intl,r=e.showSliders,n=e.onSwatchValueChange;return o.a.createElement("div",{className:Un.a.sliderpanel},o.a.createElement("div",{className:Un.a.sliderLabel},r&&o.a.createElement(Vn,{intl:t})),o.a.createElement(Yn,{onSwatchValueChange:n,showSliders:r}))}))),Kn=r(846),Xn=r.n(Kn),Zn=o.a.memo((function(){for(var e=[],t=Object(s.e)((function(e){return e.create.swatches.length})),r=(Object(s.e)((function(e){return e.user.locale})),1);r<=t;++r){var n="app.create.swatch".concat(r,".name");e.push(o.a.createElement("div",{className:Xn.a.swatchName,key:r},o.a.createElement(i.a,{id:n})))}return o.a.createElement("div",{className:Xn.a.swatchesName},e)})),qn=r(847),Jn=r.n(qn);function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(r),!0).forEach((function(t){to(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function to(e,t,r){return(t=ao(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ro(){return(ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function no(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ao(n.key),n)}}function ao(e){var t=function(e,t){if("object"!==Qn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Qn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Qn(t)?t:String(t)}function io(e,t){return(io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function co(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function so(e){return(so=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&io(e,t)}(r,ht);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=so(e);if(t){var o=so(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return co(e)}(this,r)}}(r);function r(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).cw2Radius=e.radius||h.R,n.state={wheelReady:!1},n.onSwatchValueChange=n.onSwatchValueChange.bind(co(n));var o={workflow:Object(d.e)(e.ingestWorkflow[0]),subcategory:h.Gb.COLORWHEEL,value:h.Gb.DEFAULT};return n.ingestWorkflow=[].concat(function(e){return function(e){if(Array.isArray(e))return no(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return no(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?no(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.ingestWorkflow),[h.Gb.COLORWHEEL]),Object(be.a)(h.Eb.DEFAULT,{event:o},n.ingestWorkflow),n}return function(e,t,r){t&&oo(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onSwatchValueChange",value:function(e){if(this.harmonyEngine&&this.props.swatches.length>0){var t={baseColorIndex:this.props.baseColorIndex,harmonyRule:this.props.harmonyRule,swatches:this.props.swatches};this.props.setSwatch(e),t.swatches[e.i]=e.swatch,this.harmonyEngine.setNewTheme(t),this.harmonyEngine.onColorChange(e.i)}}},{key:"addSwatches",value:function(){for(var e=[],t=this.props.order,r=0;r<h.kc;++r)e.push(o.a.createElement(m.a,ro({key:r,id:t[r]},this.props.swatches[t[r]],{className:t[r]===this.props.activeSwatch?Jn.a.activeSwatch:"",changeSwatchesOrder:this.props.changeSwatchesOrder,setBaseColorIndex:this.props.setBaseColorIndex,setActiveSwatch:this.props.setActiveSwatch,draggable:!0,children:o.a.createElement(Lt,{isBaseColor:t[r]===this.props.baseColorIndex,setBaseColorIndex:this.props.setBaseColorIndex,id:t[r]}),ingestWorkflow:this.ingestWorkflow})));return e}},{key:"positionSpokes",value:function(){for(var e=[],t=this.props.order,r=0;r<h.kc;++r)e.push(o.a.createElement(Ge,{key:r,id:t[r],canvas:this.canvas,wheelRadius:this.cw2Radius,onSwatchValueChange:this.onSwatchValueChange}));return e}},{key:"positionMarkers",value:function(){for(var e=[],t=this.props.order,r=0;r<h.kc;++r)e.push(o.a.createElement(Ie,{baseColorIndex:this.props.baseColorIndex,key:r,id:t[r],canvas:this.canvas,wheelRadius:this.cw2Radius,onSwatchValueChange:this.onSwatchValueChange}));return e}},{key:"componentDidMount",value:function(){var e=document.getElementById("cw2canvas");this.cw2Context=e.getContext("2d"),ue(this.props.wheelBrightness/100,this.cw2Radius,this.cw2Context),this.setState({wheelReady:!0})}},{key:"componentDidUpdate",value:function(e){if(Object(d.t)(this.harmonyEngine)&&this.props.swatches.length>0){var t={baseColorIndex:this.props.baseColorIndex,harmonyRule:this.props.harmonyRule,swatches:this.props.swatches};this.harmonyEngine=new Pt(null,this.props.setSwatch),Object(d.t)(pe.a.getItem("restore-create-after-signin"))||(pe.a.removeItem("restore-create-after-signin"),this.harmonyEngine.setToRestoreMode()),this.harmonyEngine.colorSet(t),this.harmonyEngine.resetMode(),this.props.fetchSuggestedTags(h.J.COLORWHEEL)}else if(this.harmonyEngine&&this.props.harmonyRule!==e.harmonyRule)this.harmonyEngine.onRuleChange(this.props.harmonyRule),this.harmoneRuleChanged=!0;else if(this.harmonyEngine&&this.props.baseColorIndex!==e.baseColorIndex){var r={baseColorIndex:this.props.baseColorIndex,harmonyRule:this.props.harmonyRule,swatches:this.props.swatches};this.harmonyEngine.setNewTheme(r),this.harmonyEngine.onBaseColorChange()}else if(this.props.swatches.length>0){var n=this.props.activeSwatch,o=this.props.swatches[n].hsv.v;this.props.wheelBrightness!==o&&this.props.setWheelBrightness(o),this.harmoneRuleChanged&&!Object(d.a)(e.swatches,this.props.swatches)&&(this.props.fetchSuggestedTags(h.J.COLORWHEEL),this.harmoneRuleChanged=!1)}e.wheelBrightness!==this.props.wheelBrightness&&ue(this.props.wheelBrightness/100,this.cw2Radius,this.cw2Context)}},{key:"renderLeftPanel",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(at,null),o.a.createElement(Fn,null))}},{key:"renderMiddlePanel",value:function(){var e=this;return o.a.createElement("div",{className:Jn.a.container},o.a.createElement(he.a,{tablet:!0,down:!0},o.a.createElement(Wt,{ingestWorkflow:this.ingestWorkflow},o.a.createElement(at,{isDropdown:!0}))),o.a.createElement("div",{className:Jn.a.canvasMarkers,style:{height:2*this.cw2Radius,width:2*this.cw2Radius}},o.a.createElement("canvas",{id:"cw2canvas",className:Jn.a.wheel,width:2*this.cw2Radius,height:2*this.cw2Radius,ref:function(t){e.canvas=t}}),this.state.wheelReady&&this.positionMarkers(),this.state.wheelReady&&this.positionSpokes()),h.Jb&&o.a.createElement(Zn,null),o.a.createElement("div",{className:Jn.a.themepanel},this.props.swatches.length>0&&this.addSwatches()),o.a.createElement(zn,{showSliders:!0,onSwatchValueChange:this.onSwatchValueChange}))}}]),r}(),uo=Object(s.b)((function(e){var t=e.create,r=e.user;return eo(eo({},t),{},{locale:r.locale})}),(function(e){return Object(c.b)({changeSwatchesOrder:f.changeSwatchesOrder,fetchSuggestedTags:p.c,setBaseColorIndex:f.setBaseColorIndex,setSwatch:f.setSwatch,setActiveSwatch:f.setActiveSwatch,setWheelBrightness:f.setWheelBrightness},e)}))(Object(i.e)(lo)),fo=r(1025),po=r.n(fo),ho=r(1026),bo=r.n(ho),mo=r(1027),yo=r.n(mo),go=r(36),vo=r.n(go),wo=function(){return o.a.createElement("svg",{id:"Group_1","data-name":"Group 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 191.2 97.9"},o.a.createElement("path",{id:"Path_347","data-name":"Path 347",className:"cls-1",d:"M51.5,33H3.5A3.543,3.543,0,0,0,0,36.5v35A3.543,3.543,0,0,0,3.5,75h48A3.543,3.543,0,0,0,55,71.5v-35A3.543,3.543,0,0,0,51.5,33Zm-48,3h48a.472.472,0,0,1,.5.5V67.1L40.5,55.4a2.94,2.94,0,0,0-2.2-.9h0a3.1,3.1,0,0,0-2.2.9l-4.7,5-11.8-12a2.94,2.94,0,0,0-2.2-.9h0a3.1,3.1,0,0,0-2.2.9L3,60.8V36.5A.472.472,0,0,1,3.5,36ZM3,71.5V63.7L16.7,49.9a1.08,1.08,0,0,1,.7-.3h0a.908.908,0,0,1,.7.3L40.2,72H3.5A.472.472,0,0,1,3,71.5Zm48.5.5H42.9c0-.1-.1-.1-.1-.2l-9.9-10,4.7-5a.908.908,0,0,1,.7-.3h0a.779.779,0,0,1,.7.3L52,70v1.5A.472.472,0,0,1,51.5,72Z"}),o.a.createElement("path",{id:"Path_348","data-name":"Path 348",className:"cls-1",d:"M41.8,51.3h0a5.664,5.664,0,0,0,4.1-1.7,5.835,5.835,0,0,0,1.7-4.1,5.957,5.957,0,0,0-5.8-5.9h0a5.85,5.85,0,0,0,0,11.7Zm-2.7-8.5a3.864,3.864,0,0,1,2.7-1.1h0a3.8,3.8,0,0,1,3.8,3.8,3.756,3.756,0,0,1-3.8,3.8h0A3.8,3.8,0,0,1,38,45.5,3.864,3.864,0,0,1,39.1,42.8Z"}),o.a.createElement("path",{id:"Path_349","data-name":"Path 349",className:"cls-1",d:"M187.3,35H160.1l-7.5-6.8a4.713,4.713,0,0,0-3-1.2H134.3a3.159,3.159,0,0,0-3.2,3.2V70.3a3.691,3.691,0,0,0,3.7,3.7h52.7a3.691,3.691,0,0,0,3.7-3.7V38.7A3.933,3.933,0,0,0,187.3,35Zm-53.1-5h15.3a1.284,1.284,0,0,1,1,.4l5.1,4.6H134V30.2A.215.215,0,0,1,134.2,30ZM188,70.3a.684.684,0,0,1-.7.7H134.6a.684.684,0,0,1-.7-.7V38h53.3a.684.684,0,0,1,.7.7V70.3Z"}),o.a.createElement("path",{id:"Path_350","data-name":"Path 350",className:"cls-1",d:"M100.4,86,93,93.4V55.7a1.5,1.5,0,0,0-3,0V93.4L82.6,86a1.449,1.449,0,0,0-2.1,0,1.541,1.541,0,0,0,0,2.1L89.4,97a2.878,2.878,0,0,0,2.1.9,2.723,2.723,0,0,0,2.1-.9l8.9-8.9a1.485,1.485,0,0,0-2.1-2.1Z"}),o.a.createElement("path",{id:"Path_351","data-name":"Path 351",className:"cls-1",d:"M119.5,26a1.538,1.538,0,0,0-1.5,1.5V71.2a.86.86,0,0,1-.8.8H97.5a1.5,1.5,0,0,0,0,3h19.7a3.8,3.8,0,0,0,3.8-3.8V27.5A1.538,1.538,0,0,0,119.5,26Z"}),o.a.createElement("path",{id:"Path_352","data-name":"Path 352",className:"cls-1",d:"M121,21.4a.749.749,0,0,0-.1-.5h0c-.1-.2-.2-.3-.3-.5h0L99.6.4h0a2.186,2.186,0,0,0-.5-.3h0a1.486,1.486,0,0,0-.6-.1H67.8A3.8,3.8,0,0,0,64,3.8V71.2A3.8,3.8,0,0,0,67.8,75H85.5a1.5,1.5,0,0,0,0-3H67.8a.86.86,0,0,1-.8-.8V3.8a.86.86,0,0,1,.8-.8H97V19.2a3.8,3.8,0,0,0,3.8,3.8h19c.1,0,.2,0,.2-.1h.1c.1,0,.2-.1.3-.1l.1-.1c.1,0,.1-.1.2-.1h0a2.186,2.186,0,0,0,.3-.5v-.7Zm-21-2.2V5l15.7,15h-15A.858.858,0,0,1,100,19.2Z"}))},Oo=r(51),Eo=r.n(Oo),So=r(208),jo=r.n(So);function Co(e){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ko(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ao(n.key),n)}}function Ro(){return(Ro="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Io(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Po(e,t){return(Po=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function To(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Io(e){return(Io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ao(e){var t=function(e,t){if("object"!==Co(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Co(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Co(t)?t:String(t)}var _o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Po(e,t)}(r,de.a);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Io(e);if(t){var o=Io(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Co(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return To(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,r){(t=Ao(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(To(n=t.call(this,e)),"updateMarkerPosition",(function(e){var t=e;Object(d.t)(e.touches)||0===e.touches.length||(t=e.touches[0]),n.position={x:Math.round(t.pageX-n.hitOffset.x+n.radius),y:Math.round(t.pageY-n.hitOffset.y+n.radius)},n.position={x:Math.min(n.props.canvas.width-1,Math.max(0,n.position.x)),y:Math.min(n.props.canvas.height-1,Math.max(0,n.position.y))};var r=n.getColor(n.position),o={r:r[0],g:r[1],b:r[2],a:r[3]};n.props.setSwatch({i:n.props.id,swatch:{rgb:o},assetType:h.g.GRADIENT}),n.props.setMarker({i:n.props.id,position:n.position}),n.currentMarkerMoved=!0})),n.radius=Eo.a.colorStopDiameter/2,n.position=e.markers[e.id],n}return function(e,t,r){t&&ko(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"mouseDown",value:function(e){Ro(Io(r.prototype),"mouseDown",this).call(this,e)&&this.props.shouldDisplayZoomConatiner(!0)}},{key:"touchStart",value:function(e){Ro(Io(r.prototype),"touchStart",this).call(this,e),this.props.shouldDisplayZoomConatiner(!0)}},{key:"sendMarkerMoveIngestEvent",value:function(){var e={workflow:Object(d.e)(h.I),subcategory:"".concat(h.Gb.GRADIENT,"_").concat(h.Gb.MARKER)};Object(be.a)(h.Eb.MARKER_MOVE,{event:e},[h.Gb.IMAGE])}},{key:"mouseUp",value:function(e){Ro(Io(r.prototype),"mouseUp",this).call(this,e),this.sendMarkerMoveIngestEvent(),this.props.shouldDisplayZoomConatiner(!1),this.setResetButtonState(!1),this.props.setActiveSwatch(-1)}},{key:"touchEnd",value:function(e){Ro(Io(r.prototype),"touchEnd",this).call(this,e),this.sendMarkerMoveIngestEvent(),this.props.shouldDisplayZoomConatiner(!1),this.setResetButtonState(!1),this.props.setActiveSwatch(-1)}},{key:"getColor",value:function(e){return this.props.canvas.getContext("2d").getImageData(e.x,e.y,1,1).data}},{key:"paint",value:function(){if(this.props.markers.length>0){this.position=this.props.markers[this.props.id];var e=this.getColor(this.position);this.marker.style.backgroundColor="rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")"),this.marker.style.left="calc(".concat(100*this.position.x/this.props.canvas.width,"% - ").concat(this.radius,"px + 3px)"),this.marker.style.top="calc(".concat(100*this.position.y/this.props.canvas.height,"% - ").concat(this.radius,"px - 3px)"),this.marker.style.borderColor=jo.a.defaultGradientColorStopBorder,this.props.activeSwatch===this.props.id&&(this.marker.style.borderColor=jo.a.selectedGradientColorStopBorder)}}},{key:"componentDidMount",value:function(){this.paint()}},{key:"componentDidUpdate",value:function(){this.paint()}},{key:"render",value:function(){return this.position=this.position||{x:5,y:5},this.offset=0,Ro(Io(r.prototype),"render",this).call(this)}}]),r}();_o.defaultProps={assetType:h.g.GRADIENT};var Mo=Object(s.b)((function(e){var t=e.create;return{markers:t.markers,activeSwatch:t.activeSwatch}}),(function(e){return Object(c.b)({setSwatch:f.setSwatch,setMarker:f.setMarker,setActiveSwatch:f.setActiveSwatch},e)}))(_o),xo=r(953),No=r(856),Do=r.n(No),Lo=r(85),Bo=r.n(Lo),Go=r(1168),Fo=r.n(Go),Ho=r(857),Uo=r.n(Ho);function Wo(e){return(Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zo(n.key),n)}}function Yo(e,t){return(Yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ko(e){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xo(e,t,r){return(t=Zo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zo(e){var t=function(e,t){if("object"!==Wo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Wo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Wo(t)?t:String(t)}var qo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yo(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ko(e);if(t){var o=Ko(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Wo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zo(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Xo(zo(n=t.call(this,e)),"mouseDown",(function(e){Object(d.s)(e)||document.body.addEventListener("mouseup",n.extractGradient)})),Xo(zo(n),"touchStart",(function(){document.body.addEventListener("touchend",n.extractGradient)})),Xo(zo(n),"sendIngestEvent",(function(e){var t={workflow:Object(d.e)(h.I),subcategory:h.Gb.SLIDERBAR,value:e};Object(be.a)(h.Eb.SLIDE,{event:t},[h.Gb.GRADIENT,h.Gb.STOPS])})),Xo(zo(n),"extractGradient",(function(){n.props.stopsCountChanged(n.state.stops),n.sendIngestEvent(n.state.stops),document.body.removeEventListener("mouseup",n.extractGradient)})),Xo(zo(n),"sliderChanged",(function(e){n.setState({stops:e})})),Xo(zo(n),"keyDown",(function(e){(e.keyCode===h.Pb.UP_ARROW||e.keyCode===h.Pb.RIGHT_ARROW)&&n.state.stops<h.xb.MAX?(n.props.stopsCountChanged(n.state.stops+1),n.sendIngestEvent(n.state.stops+1)):(e.keyCode===h.Pb.DOWN_ARROW||e.keyCode===h.Pb.LEFT_ARROW)&&n.state.stops>h.xb.MIN&&(n.props.stopsCountChanged(n.state.stops-1),n.sendIngestEvent(n.state.stops-1))})),Xo(zo(n),"resetClicked",(function(){n.setState({stops:h.xb.DEFAULT}),n.props.resetGradient(h.xb.DEFAULT);var e={workflow:Object(d.e)(h.I),subcategory:h.Gb.RESET};Object(be.a)(h.Eb.RESET,{event:e},[h.Gb.GRADIENT])})),n.state={stops:n.props.stops},n}return function(e,t,r){t&&Vo(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidMount",value:function(){var e=rr.a.findDOMNode(this.sliderRef);Object(d.y)(!0,[e])}},{key:"componentWillUnmount",value:function(){var e=rr.a.findDOMNode(this.sliderRef);Object(d.y)(!1,[e])}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Uo.a.container},o.a.createElement("div",{onMouseDown:this.mouseDown,onKeyDown:this.keyDown},o.a.createElement(or.a,{ref:function(t){e.sliderRef=t},className:Uo.a.stopSlider,min:h.xb.MIN,max:h.xb.MAX,value:this.state.stops,step:1,renderLabel:!0,label:o.a.createElement(i.a,{id:"app.create.gradinetEditor.gradientStops"}),onChange:this.sliderChanged})),o.a.createElement(Bo.a,{variant:"small",className:Uo.a.separator}),o.a.createElement(vo.a,{quiet:!0,variant:"action",className:Uo.a.reset,label:this.props.intl.formatMessage({id:"app.reset"}),icon:o.a.createElement(Fo.a,{className:Uo.a.resetIcon}),onClick:this.resetClicked,disabled:this.props.isResetDisabled})))}}]),r}(),Jo=Object(i.e)(qo),Qo=r(1171);function $o(e){return($o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ta(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(r),!0).forEach((function(t){ca(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ta(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function na(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sa(n.key),n)}}function oa(e,t){return(oa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function aa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ia(e){return(ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ca(e,t,r){return(t=sa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sa(e){var t=function(e,t){if("object"!==$o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==$o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===$o(t)?t:String(t)}var la=new(r.n(Qo).a),ua=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oa(e,t)}(r,ht);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ia(e);if(t){var o=ia(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===$o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return aa(e)}(this,r)}}(r);function r(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),ca(aa(n=t.call(this,e)),"handleClick",(function(){n.fileInput.click()})),ca(aa(n),"keyDown",(function(e){e.keyCode===h.Pb.ENTER&&n.fileInput.click()})),ca(aa(n),"loadImageFile",(function(e){e.target&&e.target.files&&0!==e.target.files.length&&Object(d.u)(e.target.files[0].type)&&(Object(d.t)(n.props.image)||n.props.clearImageFromStore(),n.imageAvailable=!1,n.name="gradient_".concat(e.target.files[0].name.split(".")[0]),n.fileReader.readAsDataURL(e.target.files[0]),n.extractionType="default",n.path=[],n.props.manageImageForExtraction({data:window.URL.createObjectURL(e.target.files[0]),name:e.target.files[0].name.split(".")[0]}))})),ca(aa(n),"imageLoaded",(function(e){n.props.setThemeNameAndIsUserEnteredName({themeName:n.name,isUserEnteredName:!1}),n.zoomImg=document.createElement("img"),n.zoomImg.onload=n.draw,n.zoomImg.src=e})),ca(aa(n),"fileDropHandler",(function(e){e.dataTransfer.files.length>0&&(n.props.clearImageFromStore(),Object(d.x)(e),n.loadImageFile({target:e.dataTransfer}))})),ca(aa(n),"draw",(function(){var e,t=n.zoomImg.naturalWidth,r=n.zoomImg.naturalHeight,o=t/r,a=n.canvas.getContext("2d"),i=n.canvas,c=window.innerHeight<1100?.38*window.innerHeight:.5*window.innerHeight,s=0;h.Jb?(e=Math.min(c,r),s=Math.min(n.imageContainer.offsetWidth-Eo.a.colorStopDiameter/2,e*o)):s=n.imageContainer.offsetWidth,e=s/o,a.clearRect(0,0,s,e),i.width=s,i.height=e,a.imageSmoothingEnabled=!1,a.drawImage(n.zoomImg,0,0,s,e),n.extractGradient(),n.dropZoneContainer.hidden=!0,n.imageAvailable=!0,n.imageContainer.style.paddingRight="".concat(Eo.a.colorStopDiameterActive/2,"px")})),ca(aa(n),"selectFileOption",(function(){return o.a.createElement("span",null,o.a.createElement(i.a,{id:"app.createfromimage.selectfilemessage",values:{selectFileText:o.a.createElement("span",{className:Do.a.selectAFileOption,onClick:n.handleClick,onKeyDown:n.keyDown,tabIndex:"0"},o.a.createElement(i.a,{id:"app.createfromimage.selectfiletext"}))}}))})),ca(aa(n),"extractGradient",(function(){var e=n.canvas.width,t=n.canvas.height,r=n.canvas.getContext("2d").getImageData(0,0,e,t),o={extractionType:n.extractionType,imageData:r.data,imageWidth:e,imageHeight:t,stops:n.stops};"linearPath"===n.extractionType&&(o.path=n.path),la.postMessage(o),la.onmessage=function(e){var t=0,r=0,o=[],a=[],i=h.g.GRADIENT;e.data.data.forEach((function(e,n){if(0!==n){var i=(e.offset-t)*h.Z;r=t+i}o.push({rgb:ra({},e.color),offset:e.offset,midpoint:h.Z,positionOfMidpoint:r}),t=e.offset,a.push(e.position)})),n.props.setSwatchesAndMarkers({stops:o,markers:a,assetType:i}),n.props.setInitialOrder({order:Object(d.k)(n.stops)});var c={workflow:Object(d.e)(n.props.ingestWorkflow[0]),subcategory:"".concat(h.Gb.GRADIENT,"_").concat(h.Gb.IMAGE),value:"linearPath"===n.extractionType?"alongPath":"default"};Object(be.a)(h.Eb.GRADIENT_EXTRACT_IMAGE,{event:c},n.props.ingestWorkflow)}})),ca(aa(n),"onMouseDown",(function(e){Object(d.s)(e)||(n.path=[],n.extractionType="linearPath",document.body.addEventListener("mousemove",n.generatePath),document.body.addEventListener("mouseup",n.onMouseUp))})),ca(aa(n),"onTouchStart",(function(e){n.path=[],n.extractionType="linearPath",document.body.addEventListener("touchmove",n.generatePath),document.body.addEventListener("touchend",n.onTouchEnd)})),ca(aa(n),"generatePath",(function(e){var t=e,r=n.canvas.getBoundingClientRect();Object(d.t)(e.touches)||0===e.touches.length||(t=e.touches[0]);var o={x:Math.round(t.pageX-r.left),y:Math.round(t.pageY-r.top)};n.path.push(o)})),ca(aa(n),"shouldDisplayZoomConatiner",(function(e){n.setState({isZoomContainerActive:e})})),ca(aa(n),"shouldResetBeDisabled",(function(e){n.setState({isResetDisabled:e})})),ca(aa(n),"stopsCountChanged",(function(e){n.stops!==e&&(n.stops=e,n.setState({isResetDisabled:!1}),n.draw())})),ca(aa(n),"resetGradient",(function(e){n.stops=e,n.extractionType="default",n.draw(),n.shouldResetBeDisabled(!0)})),ca(aa(n),"drawConnectingLines",(function(){var e=n.canvas.width,t=n.canvas.height,r=n.canvasLines.getContext("2d");n.canvasLines.width=e,n.canvasLines.height=t,r.clearRect(0,0,e,t),r.strokeStyle="#FFFFFF",r.lineWidth=2;for(var o=0;o<n.props.order.length-1;o++)r.beginPath(),r.moveTo(n.props.markers[n.props.order[o]].x,n.props.markers[n.props.order[o]].y),r.lineTo(n.props.markers[n.props.order[o+1]].x,n.props.markers[n.props.order[o+1]].y),r.stroke()})),ca(aa(n),"positionMarkers",(function(){var e=[];return n.props.order.forEach((function(t){e.push(o.a.createElement(Mo,{key:t,id:t,canvas:n.canvas,shouldDisplayZoomConatiner:n.shouldDisplayZoomConatiner,shouldResetBeDisabled:n.shouldResetBeDisabled}))})),e})),ca(aa(n),"renderGradient",(function(){var e=[];return n.props.order.forEach((function(t){var r=n.props.swatches[t],o=Object(Z.p)(r.rgb);o.offset=r.offset,o.midpoint=r.midpoint,o.positionOfMidpoint=r.positionOfMidpoint,e.push(o)})),o.a.createElement("div",{className:Do.a.gradientbox},o.a.createElement(X.a,{stops:e,gradientProps:{type:"linear",angle:0,isOneUp:!1,isCreate:!0,isSave:!1},shouldResetBeDisabled:n.shouldResetBeDisabled,drawConnectingLines:n.drawConnectingLines,order:n.props.order}))})),ca(aa(n),"onMouseUp",(function(){n.path.length>3&&(n.draw(),n.shouldResetBeDisabled(!1)),document.body.removeEventListener("mousemove",n.generatePath),document.body.removeEventListener("mouseup",n.onMouseUp)})),ca(aa(n),"onTouchEnd",(function(){n.path.length>3&&(n.draw(),n.shouldResetBeDisabled(!1)),document.body.removeEventListener("touchmove",n.generatePath),document.body.removeEventListener("touchend",n.onMouseUp)})),ca(aa(n),"renderColorModes",(function(){var e={isCreate:!0,assetType:h.g.GRADIENT,swatches:[],order:n.props.order};return n.props.order.forEach((function(t){e.swatches.push(Object(Z.p)(n.props.swatches[t].rgb))})),o.a.createElement("div",{className:Do.a.colorModesBox},o.a.createElement(xo.a,{themeData:e,ingestWorkflow:n.ingestWorkflow,intl:n.props.intl}))})),ca(aa(n),"renderGradientOverlays",(function(){return n.imageAvailable&&n.props.markers.length>0&&n.props.order.length===n.props.markers.length})),n.imageAvailable=!1,n.fileReader=new FileReader,n.fileReader.onload=function(e){n.imageLoaded(e.target.result)},n.stops=h.xb.DEFAULT,n.state={isZoomContainerActive:!1,isResetDisabled:!0};var a={workflow:Object(d.e)(e.ingestWorkflow[0]),subcategory:"".concat(h.Gb.GRADIENT,"_").concat(h.Gb.IMAGE),value:h.Gb.DEFAULT};return n.ingestWorkflow=[].concat(function(e){return function(e){if(Array.isArray(e))return ea(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ea(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ea(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.ingestWorkflow),[h.Gb.GRADIENT]),Object(be.a)(h.Eb.DEFAULT,{event:a},n.ingestWorkflow),n.extractionType="default",n.path=[],n}return function(e,t,r){t&&na(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidMount",value:function(){Object(d.t)(this.props.image)||(this.name="gradient_".concat(this.props.imageName),this.imageLoaded(this.props.image))}},{key:"componentWillUnmount",value:function(){this.path=[]}},{key:"renderLeftPanel",value:function(){return this.imageAvailable?o.a.createElement(Jo,{stopsCountChanged:this.stopsCountChanged,resetGradient:this.resetGradient,stops:this.stops,isResetDisabled:this.state.isResetDisabled}):""}},{key:"renderMiddlePanel",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(he.a,{tablet:!0,down:!0},o.a.createElement(Wt,{ingestWorkflow:this.ingestWorkflow},this.imageAvailable&&o.a.createElement(Jo,{stopsCountChanged:this.stopsCountChanged,resetGradient:this.resetGradient,stops:this.stops,isResetDisabled:this.state.isResetDisabled}))),o.a.createElement(vo.a,{quiet:!0,variant:"action",className:Do.a.replaceImage,label:this.props.intl.formatMessage({id:"app.createfromimage.replace"}),icon:o.a.createElement(yo.a,{className:Do.a.imageIcon}),disabled:!this.imageAvailable,onClick:this.handleClick}),o.a.createElement("div",{className:Do.a.imageContainer,onDragOver:d.x,onDrop:this.fileDropHandler,ref:function(t){e.imageContainer=t}},o.a.createElement("div",{className:Do.a.dropZoneContainer,ref:function(t){e.dropZoneContainer=t}},o.a.createElement(po.a,null,o.a.createElement("h1",{className:Do.a.lineOne},this.props.intl.formatMessage({id:"app.create.extractGradient.pageDescription.h1"})),o.a.createElement(bo.a,{heading:this.props.intl.formatMessage({id:"app.createfromimage.dragandropfilemessage"}),description:this.selectFileOption(),illustration:o.a.createElement(wo,null)}))),o.a.createElement("input",{type:"file",accept:"image/jpg,image/jpeg,image/png,image/gif,image/bmp",onChange:this.loadImageFile,ref:function(t){e.fileInput=t}}),o.a.createElement("div",{className:Do.a.canvasMarkers},this.imageAvailable&&this.state.isZoomContainerActive&&this.props.markers.length>0&&this.props.activeSwatch>=0&&o.a.createElement("div",{className:Do.a.zoomedImageContainer,style:{left:"".concat(this.props.markers[this.props.activeSwatch].x-55,"px"),top:"".concat(this.props.markers[this.props.activeSwatch].y-140,"px"),zIndex:10}},o.a.createElement("div",{className:Do.a.zoomedImageInnerContainer},o.a.createElement("img",{className:Do.a.zoomedImage,src:this.canvas.toDataURL("image/jpeg"),width:3*this.canvas.width,height:3*this.canvas.height,style:{left:"".concat(-1*this.props.markers[this.props.activeSwatch].x*3+45,"px"),top:"".concat(-1*this.props.markers[this.props.activeSwatch].y*3+45,"px")}}))),o.a.createElement("canvas",{width:0,height:0,ref:function(t){e.canvas=t}}),this.renderGradientOverlays()&&this.positionMarkers()),o.a.createElement("canvas",{className:Do.a.gradientLinesOverImageCanvas,ref:function(t){e.canvasLines=t},onMouseDown:function(t){return e.onMouseDown(t)},onTouchStart:function(t){return e.onTouchStart(t)}}),this.renderGradientOverlays()&&o.a.createElement(o.a.Fragment,null,this.drawConnectingLines(),this.renderGradient(),this.renderColorModes())))}}]),r}(),fa=Object(s.b)((function(e){var t=e.create,r=e.user;return ra(ra({},t),{},{locale:r.locale})}),(function(e){return Object(c.b)(ra(ra({},f),{},{setThemeNameAndIsUserEnteredName:p.h,clearThemeNameAndTags:p.b,setInitialOrder:f.setInitialOrder,setActiveSwatch:f.setActiveSwatch,manageImageForExtraction:f.manageImageForExtraction}),e)}))(ua),pa=Object(i.e)(fa),ha=r(931),da=r(858),ba=r.n(da);function ma(e){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ya(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ga(n.key),n)}}function ga(e){var t=function(e,t){if("object"!==ma(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==ma(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===ma(t)?t:String(t)}function va(){return(va="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Oa(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function wa(e,t){return(wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Oa(e){return(Oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ea=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wa(e,t)}(r,de.a);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Oa(e);if(t){var o=Oa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===ma(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).radius=parseInt(Object(d.l)(),10),n.position=e.markers[e.id],n}return function(e,t,r){t&&ya(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"mouseDown",value:function(e){va(Oa(r.prototype),"mouseDown",this).call(this,e)&&this.props.shouldDisplayZoomConatiner(!0)}},{key:"touchStart",value:function(e){va(Oa(r.prototype),"touchStart",this).call(this,e),this.props.shouldDisplayZoomConatiner(!0)}},{key:"sendMarkerMoveIngestEvent",value:function(){var e={workflow:Object(d.e)(h.I),subcategory:h.Gb.MARKER};Object(be.a)(h.Eb.MARKER_MOVE,{event:e},[h.Gb.IMAGE])}},{key:"mouseUp",value:function(e){va(Oa(r.prototype),"mouseUp",this).call(this,e),!Object(d.t)(this.props.fetchSuggestedTags)&&this.props.fetchSuggestedTags(h.J.IMAGE),this.sendMarkerMoveIngestEvent(),this.props.shouldDisplayZoomConatiner(!1)}},{key:"touchEnd",value:function(e){va(Oa(r.prototype),"touchEnd",this).call(this,e),!Object(d.t)(this.props.fetchSuggestedTags)&&this.props.fetchSuggestedTags(h.J.IMAGE),this.sendMarkerMoveIngestEvent(),this.props.shouldDisplayZoomConatiner(!1)}},{key:"updateMarkerPosition",value:function(e){var t=e;Object(d.t)(e.touches)||0===e.touches.length||(t=e.touches[0]),Object(d.t)(this.props.colorMood)||this.props.colorMood===h.W||this.props.setColorMood(h.W),this.position={x:t.pageX-this.hitOffset.x+this.radius,y:t.pageY-this.hitOffset.y+this.radius},this.position.x=Math.round(this.position.x),this.position.y=Math.round(this.position.y),this.position.x=Math.min(this.props.canvas.width-1,Math.max(0,this.position.x)),this.position.y=Math.min(this.props.canvas.height-1,Math.max(0,this.position.y));var r=this.getColor(this.position);this.props.setMarker({i:this.props.id,position:this.position}),this.props.setSwatch({i:this.props.id,swatch:Object(Z.o)(r)})}},{key:"getColor",value:function(e){return this.props.canvas.getContext("2d").getImageData(e.x,e.y,1,1).data}},{key:"children",value:function(){return o.a.createElement("div",{className:ba.a.cross})}},{key:"paint",value:function(){if(this.props.markers.length>0){this.position=this.props.markers[this.props.id];var e=this.getColor(this.position);this.marker.style.backgroundColor="rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")"),this.marker.style.left="calc(".concat(100*this.position.x/this.props.canvas.width,"% - ").concat(this.radius,"px)"),this.marker.style.top="calc(".concat(100*this.position.y/this.props.canvas.height,"% - ").concat(this.radius,"px)")}}},{key:"componentDidMount",value:function(){this.paint()}},{key:"componentDidUpdate",value:function(){this.paint()}},{key:"render",value:function(){return this.position=this.position||{x:5,y:5},this.offset=0,va(Oa(r.prototype),"render",this).call(this)}}]),r}();Ea.defaultProps={assetType:h.g.THEME};var Sa=Ea,ja=r(859),Ca=r.n(ja);function ka(e){return(ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_a(n.key),n)}}function Pa(e,t){return(Pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ia(e){return(Ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Aa(e,t,r){return(t=_a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _a(e){var t=function(e,t){if("object"!==ka(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==ka(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===ka(t)?t:String(t)}var Ma=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pa(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ia(e);if(t){var o=Ia(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===ka(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ta(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Aa(Ta(n=t.call(this,e)),"tooltipInfo",(function(){return o.a.createElement(Ke.a,{className:Ca.a.tooltip,placement:"bottom",trigger:h.Ob?"click":"hover"},o.a.createElement(He.a,{className:Ca.a.helpIcon}),o.a.createElement(Ze.a,{variant:"info"},o.a.createElement("div",{className:Ca.a.moodSelectorTooltipTitle},o.a.createElement(i.a,{id:"app.create.mood.selector.title.tooltip"})),o.a.createElement("div",{className:Ca.a.moodSelectorTooltipInfo},o.a.createElement(i.a,{id:"app.create.mood.selector.info.tooltip",values:{name:n.props.themeName}}))))})),Aa(Ta(n),"getMoodOptions",(function(){return Object.keys(h.A).map((function(e,t){return{label:n.props.intl.formatMessage({id:h.A[e]}),value:e}}))})),n.onChange=n.onChange.bind(Ta(n)),n}return function(e,t,r){t&&Ra(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onChange",value:function(e){var t={workflow:Object(d.e)(h.I),subcategory:h.Gb.MOOD_RULE,value:e};Object(be.a)(h.Eb.RULE_CHANGED,{event:t},[h.Gb.IMAGE]),this.props.setColorMood(e)}},{key:"render",value:function(){var e=this;return h.Jb?o.a.createElement("div",{className:Ca.a.container},o.a.createElement("div",{className:Ca.a.text},o.a.createElement(i.a,{id:"app.create.extractUsingMood"}),this.tooltipInfo()),o.a.createElement(Ye.a,{vertical:!0,name:"mood-selector",selectedValue:this.props.colorMood,onChange:function(t){return e.onChange(t)}},Object.keys(h.A).map((function(t,r){return o.a.createElement(We.a,{key:r,label:e.props.intl.formatMessage({id:h.A[t]}),value:t})})))):o.a.createElement("div",{className:Ca.a.dropdown},o.a.createElement(i.a,{id:"app.create.mood.selector.title.tooltip"}),o.a.createElement(tt,{options:this.getMoodOptions(),value:this.props.colorMood,onChange:this.onChange,isControlled:!0}),this.tooltipInfo())}}]),r}(),xa=Object(s.b)((function(e){var t=e.create,r=e.user;return{colorMood:t.colorMood,locale:r.locale}}),(function(e){return Object(c.b)({setColorMood:f.setColorMood},e)}))(Ma),Na=Object(i.e)(xa),Da=r(860),La=r.n(Da),Ba=r(930),Ga=r.n(Ba),Fa=r(123);function Ha(e){return(Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ua(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(r),!0).forEach((function(t){qa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ua(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Va(){return(Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function za(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ja(n.key),n)}}function Ka(e,t){return(Ka=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Xa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Za(e){return(Za=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qa(e,t,r){return(t=Ja(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ja(e){var t=function(e,t){if("object"!==Ha(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Ha(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Ha(t)?t:String(t)}var Qa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ka(e,t)}(r,ht);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Za(e);if(t){var o=Za(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Ha(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xa(e)}(this,r)}}(r);function r(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),qa(Xa(n=t.call(this,e)),"onExtractionComplete",(function(e){var t=[],r=e.finalColor,o=e.points,a=h.g.THEME;r.forEach((function(e){var r=e.rgb,n=r.r,o=r.g,a=r.b;t.push(Object(Z.o)([255*n,255*o,255*a]))})),n.props.setSwatchesAndMarkers({swatches:t,markers:o,assetType:a})})),qa(Xa(n),"keyDown",(function(e){e.keyCode===h.Pb.ENTER&&n.fileInput.click()})),qa(Xa(n),"onHexKeyDown",(function(e){return function(t){t.keyCode===h.Pb.ENTER&&n.copyHex(e)()}})),qa(Xa(n),"copyHex",(function(e){return function(){Object(d.h)("#".concat(e)).then((function(){var t={workflow:Object(d.e)(n.props.ingestWorkflow[0]),subcategory:h.Gb.IMAGE,value:e},r=h.Eb.COPY_HEX;n.props.notification({variant:h.Bc,message:o.a.createElement(i.a,{id:"app.oneupactions.toast.success.message"})}),Object(be.a)(r,{event:t},[h.Gb.IMAGE])})).catch((function(e){n.props.notification({variant:h.kb,message:o.a.createElement(i.a,{id:"app.oneupactions.toast.error.message"})})}))}})),qa(Xa(n),"replaceButton",(function(){return h.Mb&&!n.imageAvailable?null:o.a.createElement(vo.a,{quiet:!0,variant:"action",className:La.a.replaceImage,label:n.props.intl.formatMessage({id:"app.createfromimage.replace"}),icon:o.a.createElement(yo.a,{className:La.a.imageIcon,alt:n.props.intl.formatMessage({id:"app.createfromimage.replace"})}),disabled:!n.imageAvailable,onClick:n.handleClick})})),n.loadImageFile=n.loadImageFile.bind(Xa(n)),n.draw=n.draw.bind(Xa(n)),n.imageLoaded=n.imageLoaded.bind(Xa(n)),n.fileDropHandler=n.fileDropHandler.bind(Xa(n)),n.handleClick=n.handleClick.bind(Xa(n)),n.imageAvailable=!1,n.fileReader=new FileReader,n.fileReader.onload=function(e){n.imageLoaded(e.target.result)},n.selectFileOption=n.selectFileOption.bind(Xa(n)),n.shouldDisplayZoomConatiner=n.shouldDisplayZoomConatiner.bind(Xa(n)),n.state={isZoomContainerActive:!1};var a={workflow:Object(d.e)(e.ingestWorkflow[0]),subcategory:h.Gb.IMAGE,value:h.Gb.DEFAULT};return n.ingestWorkflow=[].concat(function(e){return function(e){if(Array.isArray(e))return Ya(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ya(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ya(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.ingestWorkflow),[h.Gb.IMAGE]),Object(be.a)(h.Eb.DEFAULT,{event:a},n.ingestWorkflow),n}return function(e,t,r){t&&za(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidMount",value:function(){Object(d.t)(this.props.image)||(this.name="color theme_".concat(this.props.imageName),this.imageLoaded(this.props.image))}},{key:"loadImageFile",value:function(e){e.target&&e.target.files&&0!==e.target.files.length&&Object(d.u)(e.target.files[0].type)&&(Object(d.t)(this.props.image)||this.props.clearImageFromStore(),this.imageAvailable=!1,this.name="color theme_".concat(e.target.files[0].name.split(".")[0]),this.fileReader.readAsDataURL(e.target.files[0]),this.props.manageImageForExtraction({data:window.URL.createObjectURL(e.target.files[0]),name:e.target.files[0].name.split(".")[0]}))}},{key:"imageLoaded",value:function(e){this.props.setColorMood(h.t),this.props.setColorMode(),this.props.setInitialOrder({order:Object(d.k)(h.kc)}),this.props.setThemeNameAndIsUserEnteredName({themeName:this.name,isUserEnteredName:!1}),this.zoomImg=document.createElement("img"),this.zoomImg.onload=this.draw,this.zoomImg.src=e}},{key:"draw",value:function(e){var t,r=this.zoomImg.naturalWidth,n=this.zoomImg.naturalHeight,o=r/n,a=this.canvas.getContext("2d"),i=this.canvas,c=window.innerHeight<1100?.38*window.innerHeight:.5*window.innerHeight,s=0;h.Jb?(t=Math.min(c,n),s=Math.min(this.imageContainer.offsetWidth-2*Object(d.l)(),t*o)):s=this.imageContainer.offsetWidth,t=s/o,a.clearRect(0,0,s,t),i.width=s,i.height=t,a.imageSmoothingEnabled=!1,a.drawImage(this.zoomImg,0,0,s,t),this.extractColors(),this.dropZoneContainer.hidden=!0,this.imageAvailable=!0}},{key:"extractColors",value:function(){var e=this,t=this.canvas.width,r=this.canvas.height,n={onExtractionComplete:function(t){e.onExtractionComplete(t)},startMessage:{imageData:this.canvas.getContext("2d").getImageData(0,0,t,r),width:t,height:r,swatchCount:h.kc,colorMood:this.props.colorMood}};ha.a.queueTask(n)}},{key:"handleClick",value:function(e){this.fileInput.click()}},{key:"fileDropHandler",value:function(e){if(e.dataTransfer.files.length>0){this.props.clearImageFromStore(),Object(d.x)(e),this.loadImageFile({target:e.dataTransfer});var t={workflow:Object(d.e)(this.props.ingestWorkflow[0]),subcategory:h.Gb.IMAGE};Object(be.a)(h.Eb.EXTRACT_IMAGE,{event:t},this.props.ingestWorkflow)}}},{key:"positionMarkers",value:function(){for(var e=[],t=this.props.order,r=0;r<h.kc;++r)e.push(o.a.createElement(Sa,{key:r,id:t[r],canvas:this.canvas,shouldDisplayZoomConatiner:this.shouldDisplayZoomConatiner,markers:this.props.markers,setSwatch:this.props.setSwatch,setMarker:this.props.setMarker,setColorMood:this.props.setColorMood,fetchSuggestedTags:this.props.fetchSuggestedTags,setActiveSwatch:this.props.setActiveSwatch,activeSwatch:this.props.activeSwatch}));return e}},{key:"addSwatches",value:function(){for(var e=[],t=this.props.order,r=0;r<h.kc;++r)e.push(o.a.createElement(m.a,Va({key:r,id:t[r],active:t[r]===this.props.activeSwatch},this.props.swatches[t[r]],{changeSwatchesOrder:this.props.changeSwatchesOrder,draggable:!0,setActiveSwatch:this.props.setActiveSwatch,ingestWorkflow:this.ingestWorkflow})));return e}},{key:"addHexInputs",value:function(){for(var e=[],t=this.props,r=t.order,n=t.swatches,a=0;a<h.kc;++a)e.push(o.a.createElement("div",{key:a,className:La.a.hexFieldContainer,onClick:this.copyHex(n[r[a]].hex)},o.a.createElement("span",{tabIndex:"0",onKeyDown:this.onHexKeyDown(n[r[a]].hex)},"#".concat(n[r[a]].hex)),o.a.createElement(Ga.a,{size:"S",className:La.a.copyIcon})));return e}},{key:"componentDidUpdate",value:function(e){this.props.colorMood!==e.colorMood&&this.props.colorMood!==h.W&&this.imageAvailable&&(this.extractColors(),this.colorMoodChanged=!0),this.colorMoodChanged&&!Object(d.a)(e.swatches,this.props.swatches)&&(this.props.fetchSuggestedTags(h.J.IMAGE),this.colorMoodChanged=!1),0===e.swatches.length&&this.props.swatches.length>0&&this.props.fetchSuggestedTags(h.J.IMAGE)}},{key:"shouldDisplayZoomConatiner",value:function(e){this.setState({isZoomContainerActive:e})}},{key:"renderLeftPanel",value:function(){return this.imageAvailable?o.a.createElement(Na,null):""}},{key:"selectFileOption",value:function(){var e=h.Ob?"app.createfromimage.tapmessage":"app.createfromimage.selectfilemessage",t=h.Ob?"app.createfromimage.taptext":"app.createfromimage.selectfiletext";return o.a.createElement("span",null,o.a.createElement(i.a,{id:e,values:{selectFileText:o.a.createElement("span",{className:La.a.selectAFileOption,onClick:this.handleClick,onKeyDown:this.keyDown,tabIndex:"0"},o.a.createElement(i.a,{id:t}))}}))}},{key:"renderMiddlePanel",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,this.imageAvailable&&o.a.createElement(he.a,{tablet:!0,down:!0},o.a.createElement(Wt,{ingestWorkflow:this.ingestWorkflow},o.a.createElement(Na,{isDropDown:!0}))),this.replaceButton(),o.a.createElement("div",{className:La.a.imageContainer,onDragOver:d.x,onDrop:this.fileDropHandler,ref:function(t){e.imageContainer=t}},o.a.createElement("div",{className:La.a.dropZoneContainer,ref:function(t){e.dropZoneContainer=t}},o.a.createElement(po.a,null,o.a.createElement("h1",{className:La.a.lineOne},this.props.intl.formatMessage({id:"app.createfromimage.pagedescription.h1"})),o.a.createElement(bo.a,{heading:this.props.intl.formatMessage({id:"app.createfromimage.dragandropfilemessage"}),description:this.selectFileOption(),illustration:o.a.createElement(wo,null)}))),o.a.createElement("input",{type:"file",accept:"image/jpg,image/jpeg,image/png,image/gif,image/bmp",onChange:this.loadImageFile,ref:function(t){e.fileInput=t}}),o.a.createElement("div",{className:La.a.canvasMarkers},this.imageAvailable&&this.state.isZoomContainerActive&&this.props.markers.length>0&&this.props.activeSwatch>=0&&o.a.createElement("div",{className:La.a.zoomedImageContainer,style:{left:"".concat(this.props.markers[this.props.activeSwatch].x-55,"px"),top:"".concat(this.props.markers[this.props.activeSwatch].y-140,"px"),zIndex:10}},o.a.createElement("div",{className:La.a.zoomedImageInnerContainer},o.a.createElement("img",{className:La.a.zoomedImage,src:this.canvas.toDataURL("image/jpeg"),width:8*this.canvas.width,height:8*this.canvas.height,style:{left:"".concat(-1*this.props.markers[this.props.activeSwatch].x*8+45,"px"),top:"".concat(-1*this.props.markers[this.props.activeSwatch].y*8+45,"px")},alt:this.props.intl.formatMessage({id:"app.images.create.from.image.alt"})}))),o.a.createElement("canvas",{width:0,height:0,onClick:this.handleClick,ref:function(t){e.canvas=t}}),this.imageAvailable&&this.props.markers.length>0&&this.positionMarkers())),this.imageAvailable&&this.props.swatches.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:La.a.themebox},this.addSwatches()),o.a.createElement("div",{className:La.a.hexbox},this.addHexInputs())))}}]),r}(),$a=Object(s.b)((function(e){var t=e.create,r=e.user;return Wa(Wa({},t),{},{locale:r.locale})}),(function(e){return Object(c.b)(Wa(Wa({},f),{},{fetchSuggestedTags:p.c,setThemeNameAndIsUserEnteredName:p.h,clearThemeNameAndTags:p.b,setColorMood:f.setColorMood,setColorMode:f.setColorMode,setInitialOrder:f.setInitialOrder,manageImageForExtraction:f.manageImageForExtraction,notification:Fa.a,setSwatch:f.setSwatch,setMarker:f.setMarker,setActiveSwatch:f.setActiveSwatch}),e)}))(Qa),ei=Object(i.e)($a);function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ri(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ni(n.key),n)}}function ni(e){var t=function(e,t){if("object"!==ti(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==ti(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===ti(t)?t:String(t)}function oi(){return(oi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ii(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function ai(e,t){return(ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ii(e){return(ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ci=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ai(e,t)}(r,Te);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ii(e);if(t){var o=ii(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===ti(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.apply(this,arguments)}return function(e,t,r){t&&ri(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"mouseUp",value:function(e){oi(ii(r.prototype),"mouseUp",this).call(this,e),this.props.setMarkerUp(!0)}},{key:"mouseDown",value:function(e){oi(ii(r.prototype),"mouseDown",this).call(this,e),this.props.setMarkerUp(!1)}},{key:"children",value:function(){return""}}]),r}(),si=Object(s.b)((function(e){var t=e.create;return{swatches:t.swatches,activeSwatch:t.activeSwatch,workflow:t.workflow}}),(function(e){return Object(c.b)({fetchSuggestedTags:p.c,setSwatch:f.setSwatch,setActiveSwatch:f.setActiveSwatch},e)}))(ci),li=r(1016),ui=r.n(li),fi=r(1195),pi=r.n(fi),hi=r(10),di=r(34),bi=(r(8),Object(i.e)((function(e){var t=Object(s.d)(),r=Object(s.e)((function(e){return e.user.onBoardingTour}));return!h.Mb&&!Object(hi.b)(e.cookie)&&r===e.cookie&&o.a.createElement(pi.a,{onTourEnd:function(){Object(hi.c)(e.cookie,!0,8760),t(di.e(h.oc.DISABLE))}},function(){var t=[],r=e.steps.length,n=1;return e.steps.forEach((function(a,i){t.push(o.a.createElement(ui.a,{key:i,flip:!0,title:e.intl.formatMessage({id:a.title}),image:!Object(d.t)(a.image)&&a.image,imageAlt:!Object(d.t)(a.image)&&e.intl.formatMessage({id:a.imageAlt}),selector:a.selectorId,currentStep:n,totalSteps:r,cancelLabel:n<r?e.intl.formatMessage({id:"app.tourDialog.steps.cacelLable"}):null,confirmLabel:n<r?e.intl.formatMessage({id:"app.tourDialog.steps.confirmLabelNext"}):e.intl.formatMessage({id:"app.tourDialog.steps.confirmLabelDone"}),placement:a.placement},e.intl.formatMessage({id:a.description}))),n++})),t}())}))),mi=r(866),yi=r.n(mi);function gi(){return(gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var vi=function(e){var t=e.defectTypeSimulation,r=void 0===t?{}:t,n=e.simulatedConflictingSwatches,a=void 0===n?{}:n,c=e.order,s=void 0===c?[]:c;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:yi.a.defectSimulationTitle},o.a.createElement(i.a,{id:"app.create.accessibility.defect.simulation.title"})),Object.keys(r).map((function(e,t){var n="app.create.accessibility.defect.type.".concat(e.toLowerCase());return o.a.createElement("div",{className:yi.a.simulatedThemeContainer,key:t},o.a.createElement("div",{className:yi.a.simulationName},o.a.createElement(i.a,{id:n})),o.a.createElement("div",{className:yi.a.simulatedTheme},function(e){var t=r[e];return t.map((function(r,n){return o.a.createElement(m.a,gi({key:n,id:n},t[s[n]],{children:a[e][s[n]]&&o.a.createElement("div",{className:yi.a.conflictIndicator})}))}))}(e)))})))},wi=r(963),Oi=r.n(wi);function Ei(){return(Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Si=function(e){return o.a.createElement("svg",Ei({xmlns:"http://www.w3.org/2000/svg",height:"18",viewBox:"0 0 18 18",width:"18"},e),o.a.createElement("title",null,"S AlertCircleFilled 18 N"),o.a.createElement("rect",{id:"Canvas",fill:"#ff13dc",opacity:"0",width:"18",height:"18"}),o.a.createElement("path",{class:"a",d:"M9,1a8,8,0,1,0,8,8A8,8,0,0,0,9,1ZM7.7,3.3875A.35552.35552,0,0,1,7.8685,3.05,3.12313,3.12313,0,0,1,8.981,2.821a3.4307,3.4307,0,0,1,1.116.172.38849.38849,0,0,1,.2.3435v1.225c0,1.4425-.2885,5.4455-.3415,5.9735a.26351.26351,0,0,1-.26528.26171L9.662,10.795H8.3a.284.284,0,0,1-.289-.2365c-.05-.682-.311-4.55-.311-5.9455ZM9,14.425a1.287,1.287,0,0,1-1.4-1.3155,1.33,1.33,0,0,1,1.308-1.35167q.046-.00076.092.00167a1.316,1.316,0,0,1,1.3978,1.22877q.00389.06054.0022.12123A1.287,1.287,0,0,1,9,14.425Z"}))},ji=r(867),Ci=r.n(ji),ki=Object(i.e)((function(e){for(var t=e.intl,r=e.conflictingSwatches,n=void 0===r?[]:r,a=Object(s.e)((function(e){return e.create.isAccessible})),c=Object(s.e)((function(e){return e.create.order})),l=[],u=o.a.createElement(i.a,{id:"app.create.accessibility.conflict.no.conflict.message"}),f=0;f<n.length;f++)n[c[f]]&&l.push(f+1);if(l.length>0){var p="app.create.accessibility.conflict.legend.message".concat(l.length),d=["A","B","C","D","E"].slice(0,l.length).reduce((function(e,r,n){return e[r]=t.formatMessage({id:"app.create.swatch".concat(l[n],".name")}),e}),{});u=o.a.createElement(i.a,{id:p,values:d})}return o.a.createElement("div",{className:h.Nb?Ci.a.legendAndAlertTabletContainer:Ci.a.legendAndAlertContainer},o.a.createElement("div",{className:Ci.a.legend},o.a.createElement("div",{className:Ci.a.conflictLegend,id:h.tc.STEP_TWO_ACCESSIBLE}),o.a.createElement(i.a,{id:"app.create.accessibility.conflict.legend.message"}),o.a.createElement(Ke.a,{placement:"bottom",trigger:["click"]},o.a.createElement("div",{className:Ci.a.helpIcon,id:h.tc.HELP_COLOR_CONFLICTS},o.a.createElement(He.a,{size:"S"})),o.a.createElement(ui.a,{flip:!0,dismissible:!0,placement:"bottom left",selector:"#".concat(h.tc.HELP_COLOR_CONFLICTS),title:o.a.createElement(i.a,{id:"app.tourDialog.accessible.step2.title"})},o.a.createElement(i.a,{id:"app.tourDialog.accessible.step2.description"}),o.a.createElement("a",{className:Ci.a.readMoreLink,target:"_blank",href:t.formatMessage({id:"app.accessibility.colorhelpx"})},o.a.createElement(i.a,{id:"app.readmore"}))))),o.a.createElement("div",{className:Ci.a.conflictAlertIndicatorContainer},o.a.createElement("div",{className:Ci.a.alertIndicatorIcon},a?o.a.createElement(Oi.a,{className:Ci.a.checkMarkIcon}):o.a.createElement(Si,{className:Ci.a.alertCircleIcon})),o.a.createElement("div",{className:Ci.a.alertMessage},u)))})),Ri=r(1218),Pi=r.n(Ri),Ti=r(1243),Ii=r.n(Ti);function Ai(e){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ni(n.key),n)}}function Ni(e){var t=function(e,t){if("object"!==Ai(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Ai(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Ai(t)?t:String(t)}var Di=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,r){r&&xi(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(e,0,[{key:"is_out_of_gamut",value:function(t){var r=e.convert_lab_to_srgb(t).reduce((function(e,t){var r=_i(e,2);return[r[0]+(t<0&&t),r[1]+(t>1&&t-1)]}),[0,0]);return!(!r[0]&&!r[1])&&r}},{key:"get_deltaE",value:function(e,t){var r=function(e){var t=_i(e,3);return{L:t[0],A:t[1],B:t[2]}};return Ii.a.getDeltaE00(r(e),r(t))}},{key:"convert_from_to",value:function(t,r,n){if("xyy"===t&&(n=[n[0],n[1],n[2]||1e-7]),"hex"===t){if(t="rgb",n=e.convert_hex_to_rgb(n),"rgb"===r)return n}else if("hex"===r)return"rgb"!==t&&(n=Pi.a[t].rgb(n)),e.convert_rgb_to_hex(n);return Pi.a[t][r](n)}},{key:"convert_rgb_to_hex",value:function(e){var t=_i(e,3),r=t[0],n=t[1],o=t[2];return"#"+((1<<24)+((r=Math.round(r))<<16)+((n=Math.round(n))<<8)+(o=Math.round(o))).toString(16).slice(1)}},{key:"convert_hex_to_rgb",value:function(e){var t=/^#?([a-fA-F\d]{2})([a-fA-F\d]{2})([a-fA-F\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{key:"convert_lab_to_srgb",value:function(e){var t,r,n,o=(e[0]+16)/116,a=e[1]/500+o,i=o-e[2]/200;return r=-.9689*(a=.95047*(a*a*a>.008856?a*a*a:(a-16/116)/7.787))+1.8758*(o=1*(o*o*o>.008856?o*o*o:(o-16/116)/7.787))+.0415*(i=1.08883*(i*i*i>.008856?i*i*i:(i-16/116)/7.787)),n=.0557*a+-.204*o+1.057*i,[t=(t=3.2406*a+-1.5372*o+-.4986*i)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n]}},{key:"convert_hsv_to_string_rgb",value:function(e){return this.convert_rgb_to_string(this.convert_from_to("hsv","rgb",e).map(Math.round))}},{key:"convert_hsv_to_string_hsl",value:function(e){return this.convert_hsl_to_string(this.convert_from_to("hsv","hsl",e).map(Math.round))}},{key:"convert_hsl_to_string",value:function(e){var t=_i(e,3),r=t[0],n=t[1],o=t[2];return"hsl(".concat(r,", ").concat(n,"%, ").concat(o,"%)")}},{key:"convert_rgb_to_string",value:function(e){var t=_i(e,3),r=t[0],n=t[1],o=t[2];return"rgb(".concat(Math.round(r),", ").concat(Math.round(n),", ").concat(Math.round(o),")")}}]),e}();function Li(e){return(Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||Gi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gi(e,t){if(e){if("string"==typeof e)return Fi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fi(e,t):void 0}}function Fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ui(n.key),n)}}function Ui(e){var t=function(e,t){if("object"!==Li(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Li(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Li(t)?t:String(t)}var Wi=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,r){(t=Ui(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"_xyY",[]),t&&t._xyY&&this.xyY(t._xyY)}return function(e,t,r){t&&Hi(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"loadHSV",value:function(e){var t=Bi(e,3),r=t[0],n=t[1],o=t[2];return r=r<0?r+360:r,o=o||15e-9*100,this._xyY=Di.convert_from_to("hsv","xyy",[r,n,o]),this.loaded=!0,this}},{key:"loadxyY",value:function(e){var t=Bi(e,3),r=t[0],n=t[1],o=t[2];return this._xyY=[r,n,o],this.loaded=!0,this}},{key:"loadRGB",value:function(e){var t=Bi(e,3),r=t[0],n=t[1],o=t[2];return this._xyY=Di.convert_from_to("rgb","xyy",[r,n,o]),this.loaded=!0,this}},{key:"loadHex",value:function(e){return this.loadRGB(Di.convert_hex_to_rgb(e))}},{key:"hsv",value:function(e){return e?this.loadHSV(e):Di.convert_from_to("xyy","hsv",this._xyY)}},{key:"xyY",value:function(e){return e?this.loadxyY(e):this._xyY}},{key:"rgb",value:function(e){return e?this.loadRGB(e):Di.convert_from_to("xyy","rgb",this._xyY)}},{key:"hex",value:function(e){return e?this.loadHex(e):this.toString("hex")}},{key:"xy",value:function(){return[this._xyY[0],this._xyY[1]]}},{key:"lab",value:function(){return Di.convert_from_to("xyy","lab",this._xyY)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rgb";return"hsl"===e?Di.convert_hsl_to_string(Di.convert_hsv_to_hsl(this.hsv())):"hex"===e?Di.convert_rgb_to_hex(this.rgb()):Di.convert_rgb_to_string(this.rgb())}},{key:"toJSON",value:function(){return{_xyY:this._xyY}}},{key:"confusion_normalize",value:function(){var e=this.hsv().slice(0,2);return this.hsv([].concat(function(e){return function(e){if(Array.isArray(e))return Fi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Gi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e),[15e-7])),this}},{key:"deltaE",value:function(e){return Di.get_deltaE(this.lab(),e.lab())}}]),e}();function Vi(e){return(Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ki(n.key),n)}}function zi(e,t,r){return(t=Ki(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ki(e){var t=function(e,t){if("object"!==Vi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Vi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Vi(t)?t:String(t)}var Xi=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),zi(this,"_settled",!1),zi(this,"_promise",new Promise((function(e,r){t._resolve=e,t._reject=r})))}return function(e,t,r){t&&Yi(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"resolve",value:function(e){this._settled=!0,this._resolve(e)}},{key:"reject",value:function(e){this._settled=!0,this._reject(e)}},{key:"then",value:function(){return Promise.prototype.catch.apply(this._promise,arguments)}},{key:"catch",value:function(){return Promise.prototype.catch.apply(this._promise,arguments)}},{key:"promise",get:function(){return this._promise}}]),e}();function Zi(e){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ji(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qi(n.key),n)}}function Qi(e){var t=function(e,t){if("object"!==Zi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Zi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Zi(t)?t:String(t)}var $i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,r){r&&Ji(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(e,0,[{key:"dotp",value:function(e,t){if(e.length!=t.length)throw"can't find dot product: arrays have different lengths";return e.map((function(r,n){return e[n]*t[n]})).reduce((function(e,t){return e+t}),0)}},{key:"xy_in_circle",value:function(t,r,n){return function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.convert_xy_to_polar(t,r),1)[0]<=n}},{key:"euclidianDistance",value:function(e,t,r,n){return Math.sqrt(Math.pow(r-e,2)+Math.pow(n-t,2))}},{key:"get_line_equation",value:function(e,t,r,n){var o,a,i,c;e<r?(o=e,a=t,i=r,c=n):(o=r,a=n,i=e,c=t);var s=(c-a)/(i-o),l=a-s*o;return[s,l,function(e){return s*e+l}]}},{key:"convert_radian_to_degree",value:function(e){return 180*e/Math.PI}},{key:"convert_degree_to_radian",value:function(e){return e*Math.PI/180}},{key:"convert_xy_to_polar",value:function(t,r){var n=Math.sqrt(t*t+r*r),o=Math.atan2(r,t);return[n,o,e.convert_radian_to_degree(o)]}},{key:"convert_polar_to_xy",value:function(t,r){var n=e.convert_degree_to_radian(t);return[Math.cos(n)*r,Math.sin(n)*r]}}]),e}(),ec=r(1247),tc=r.n(ec),rc=r(741),nc=r(868),oc=r.n(nc);function ac(e){return(ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ic(){ic=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var a=t&&t.prototype instanceof p?t:p,i=Object.create(a.prototype),c=new j(o||[]);return n(i,"_invoke",{value:function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,c)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function p(){}function h(){}function d(){}var b={};s(b,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(C([])));y&&y!==t&&r.call(y,a)&&(b=y);var g=d.prototype=p.prototype=Object.create(b);function v(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var o;n(this,"_invoke",{value:function(n,a){function i(){return new t((function(o,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==ac(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}(n,a,o,i)}))}return o=o?o.then(i,i):i()}})}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=s(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(w.prototype),s(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(g),s(g,c,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function cc(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function sc(e){return function(e){if(Array.isArray(e))return fc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||uc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||uc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uc(e,t){if(e){if("string"==typeof e)return fc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fc(e,t):void 0}}function fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pc(Object(r),!0).forEach((function(t){gc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vc(n.key),n)}}function bc(e,t){return(bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function mc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yc(e){return(yc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gc(e,t,r){return(t=vc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vc(e){var t=function(e,t){if("object"!==ac(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==ac(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===ac(t)?t:String(t)}var wc=new tc.a,Oc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bc(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=yc(e);if(t){var o=yc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===ac(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mc(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),gc(mc(n=t.call(this,e)),"workerSendMessage",(function(e,t){var r=Object(rc.a)(),o=new Xi;return n.messageMap.set(r,o),e.postMessage(hc({id:r},t)),o.promise})),gc(mc(n),"onWorkerMessage",(function(e){var t=e.data,r=n.messageMap.get(t.id);return r&&(r.resolve(t.data),n.messageMap.delete(t.id)),t.data})),gc(mc(n),"clearConflictLineCanvas",(function(){n.canvasConflictContext.clearRect(0,0,2*n.props.cw2Radius,2*n.props.cw2Radius)})),gc(mc(n),"clearConfusionLineCanvas",(function(){n.canvasConfusionContext.clearRect(0,0,2*n.props.cw2Radius,2*n.props.cw2Radius)})),gc(mc(n),"getxyCoordinatesFromHsv",(function(e){var t=e.h,r=e.s,o=ce(parseInt(t,10)),a=n.props.cw2Radius*parseInt(r,10)/100,i=Object(Z.d)(180-o),c=lc(Object(Z.n)(a,i),2),s=c[0],l=c[1];return[s+n.props.cw2Radius,l+n.props.cw2Radius]})),gc(mc(n),"drawConflictLines",(function(e){var t=n.canvasConflictContext;t.strokeStyle="#fff",e.forEach((function(e){var r=lc(e.split(":"),2),o=r[0],a=r[1],i=n.getxyCoordinatesFromHsv(n.props.swatches[o].hsv),c=n.getxyCoordinatesFromHsv(n.props.swatches[a].hsv);t.lineWidth=5,t.beginPath(),t.moveTo.apply(t,sc(i)),t.lineTo.apply(t,sc(c)),t.stroke()}))})),gc(mc(n),"calculateDifference",(function(e,t){return e.deltaE(t)<=5})),gc(mc(n),"getConflictPairs",(function(e){for(var t=e.map((function(e){return(new Wi).rgb(Di.convert_hex_to_rgb("#".concat(e.hex)))})),r=[],o=0;o<e.length;o++)for(var a=o+1;a<e.length;a++)n.calculateDifference(t[o],t[a])&&r.push("".concat(o,":").concat(a));return r})),gc(mc(n),"getConflictPairsForAllType",(function(){var e={};return Object.keys(n.props.defectTypeSimulation).forEach((function(t){e[t]=n.getConflictPairs(n.props.defectTypeSimulation[t])})),e})),gc(mc(n),"computeAndDrawConflictLines",(function(){var e=n.getConflictPairsForAllType(),t=[];Object.keys(e).forEach((function(r){t.push.apply(t,sc(e[r]))})),n.clearConflictLineCanvas(),0!==t.length&&n.props.isMarkerUp&&n.drawConflictLines(t),n.props.showConflictIndicatorOnSwatches(t,e)})),gc(mc(n),"drawConfusionLines",(function(e,t,r){if(t&&t.length){var o=e;o.strokeStyle="rgba(255, 255, 255, 0.7)",o.lineWidth=r.lineWidth;for(var a=function(e,t){o.beginPath(),o.moveTo(e,t)},i=function(e,t,r,n){r&&n?o.quadraticCurveTo(r,n,e,t):o.lineTo(e,t)},c=function(){return o.stroke()},s=0;s<=t.length;s++){var l=t[s%t.length];if(0!==s){var u=t[s-1];$i.euclidianDistance.apply($i,sc(u).concat(sc(l)))>n.props.cw2Radius/2?(c(),a.apply(void 0,sc(l))):i.apply(void 0,sc(l).concat(sc(u)))}else a.apply(void 0,sc(l))}c()}})),gc(mc(n),"getConfusionLinesPoints",(function(e){return n.workerSendMessage(wc,{action:"get-confusion-lines-points",data:{radius:n.props.cw2Radius,HSV_value:n.props.wheelBrightness,technique:"fast",color_point:e}})})),gc(mc(n),"computeAndDrawConfusionLines",function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){cc(a,n,o,i,c,"next",e)}function c(e){cc(a,n,o,i,c,"throw",e)}i(void 0)}))}}(ic().mark((function e(){var t,r,o,a,i,c,s;return ic().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.activeSwatch,r=(new Wi).rgb(Di.convert_hex_to_rgb("#".concat(n.props.swatches[t].hex))),e.next=4,n.getConfusionLinesPoints(r);case 4:if(o=e.sent,a=Object.keys(o),n.clearConfusionLineCanvas(),a.length&&!n.props.isMarkerUp)for(i=0;i<a.length;i++)c=a[i],s=o[c].map((function(e){var t={h:e[0],s:e[1],v:e[2]};return n.getxyCoordinatesFromHsv(t)})),n.drawConfusionLines(n.canvasConfusionContext,s,{strokeStyle:"#ffffff",lineWidth:4,opacity:70});n.computeAndDrawConflictLines();case 9:case"end":return e.stop()}}),e)})))),n.messageMap=new Map,n}return function(e,t,r){t&&dc(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidMount",value:function(){var e=document.getElementById("canvasConflict"),t=document.getElementById("canvasConfusion");this.canvasConflictContext=e.getContext("2d"),this.canvasConfusionContext=t.getContext("2d"),wc.addEventListener("message",this.onWorkerMessage),this.computeAndDrawConflictLines()}},{key:"componentDidUpdate",value:function(e){this.props.isMarkerUp!==e.isMarkerUp&&(this.props.isMarkerUp?(this.clearConfusionLineCanvas(),this.computeAndDrawConflictLines()):(this.clearConflictLineCanvas(),this.computeAndDrawConfusionLines())),this.props.swatches!==e.swatches&&this.computeAndDrawConfusionLines()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("canvas",{id:"canvasConflict",className:oc.a.cw2canvasConflict,width:2*this.props.cw2Radius,height:2*this.props.cw2Radius}),o.a.createElement("canvas",{id:"canvasConfusion",className:oc.a.cw2canvasConfusion,width:2*this.props.cw2Radius,height:2*this.props.cw2Radius}))}}]),r}(),Ec=Object(s.b)((function(e){var t=e.create,r=e.user;return hc(hc({},t),{},{locale:r.locale,onBoardingTour:r.onBoardingTour})}),(function(e){return Object(c.b)({changeSwatchesOrder:f.changeSwatchesOrder,setSwatch:f.setSwatch,setMarker:f.setMarker,setActiveSwatch:f.setActiveSwatch,setWheelBrightness:f.setWheelBrightness,setColorMode:f.setColorMode,setIsAccessible:f.setIsAccessible},e)}))(Object(i.e)(Oc)),Sc={1:[[.856167,.182038,-.038205],[.029342,.955115,.015544],[-.00288,-.001563,1.004443]],2:[[.734766,.334872,-.069637],[.05184,.919198,.028963],[-.004928,-.004209,1.009137]],3:[[.630323,.465641,-.095964],[.069181,.890046,.040773],[-.006308,-.007724,1.014032]],4:[[.539009,.579343,-.118352],[.082546,.866121,.051332],[-.007136,-.011959,1.019095]],5:[[.458064,.679578,-.137642],[.092785,.846313,.060902],[-.007494,-.016807,1.024301]],6:[[.38545,.769005,-.154455],[.100526,.829802,.069673],[-.007442,-.02219,1.029632]],7:[[.319627,.849633,-.169261],[.106241,.815969,.07779],[-.007025,-.028051,1.035076]],8:[[.259411,.923008,-.18242],[.110296,.80434,.085364],[-.006276,-.034346,1.040622]],9:[[.203876,.990338,-.194214],[.112975,.794542,.092483],[-.005222,-.041043,1.046265]],10:[[.152286,1.052583,-.204868],[.114503,.786281,.099216],[-.003882,-.048116,1.051998]]},jc={1:[[.866435,.177704,-.044139],[.049567,.939063,.01137],[-.003453,.007233,.99622]],2:[[.760729,.319078,-.079807],[.090568,.889315,.020117],[-.006027,.013325,.992702]],3:[[.675425,.43385,-.109275],[.125303,.847755,.026942],[-.00795,.018572,.989378]],4:[[.605511,.52856,-.134071],[.155318,.812366,.032316],[-.009376,.023176,.9862]],5:[[.547494,.607765,-.155259],[.181692,.781742,.036566],[-.01041,.027275,.983136]],6:[[.498864,.674741,-.173604],[.205199,.754872,.039929],[-.011131,.030969,.980162]],7:[[.457771,.731899,-.18967],[.226409,.731012,.042579],[-.011595,.034333,.977261]],8:[[.422823,.781057,-.203881],[.245752,.709602,.044646],[-.011843,.037423,.974421]],9:[[.392952,.82361,-.216562],[.263559,.69021,.046232],[-.01191,.040281,.97163]],10:[[.367322,.860646,-.227968],[.280085,.672501,.047413],[-.01182,.04294,.968881]]},Cc={1:[[.92667,.092514,-.019184],[.021191,.964503,.014306],[.008437,.054813,.93675]],2:[[.89572,.13333,-.02905],[.029997,.9454,.024603],[.013027,.104707,.882266]],3:[[.905871,.127791,-.033662],[.026856,.941251,.031893],[.01341,.148296,.838294]],4:[[.948035,.08949,-.037526],[.014364,.946792,.038844],[.010853,.193991,.795156]],5:[[1.017277,.027029,-.044306],[-.006113,.958479,.047634],[.006379,.248708,.744913]],6:[[1.104996,-.046633,-.058363],[-.032137,.971635,.060503],[.001336,.317922,.680742]],7:[[1.193214,-.109812,-.083402],[-.058496,.97941,.079086],[-.002346,.403492,.598854]],8:[[1.257728,-.139648,-.118081],[-.078003,.975409,.102594],[-.003316,.501214,.502102]],9:[[1.278864,-.125333,-.153531],[-.084748,.957674,.127074],[-989e-6,.601151,.399838]],10:[[1.255528,-.076749,-.178779],[-.078411,.930809,.147602],[.004733,.691367,.3039]]};function kc(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=Object(Z.l)([e.r,e.g,e.b]),a=Object(Z.c)(o);switch(t){case h.a.PROTANOPIA:r=Sc[n];break;case h.a.DEUTERANOPIA:r=jc[n];break;case h.a.TRITANOPIA:r=Cc[n]}return Object(Z.o)(Object(Z.b)(function(e,t){for(var r=[],n=0;n<3;n++){for(var o=0,a=0;a<3;a++)o+=e[n][a]*t[a];r.push(o)}return r}(r,a)).map((function(e){return 255*e})))}var Rc=r(869),Pc=r.n(Rc);function Tc(e){return(Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ic(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ac(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ic(Object(r),!0).forEach((function(t){Gc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ic(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _c(){return(_c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Mc(e){return function(e){if(Array.isArray(e))return xc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return xc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fc(n.key),n)}}function Dc(e,t){return(Dc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Lc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bc(e){return(Bc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gc(e,t,r){return(t=Fc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fc(e){var t=function(e,t){if("object"!==Tc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Tc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Tc(t)?t:String(t)}var Hc=[h.a.DEUTERANOPIA,h.a.PROTANOPIA,h.a.TRITANOPIA],Uc=[{selectorId:"#".concat(h.tc.STEP_ONE_ACCESSIBLE),title:"app.tourDialog.accessible.step1.title",description:"app.tourDialog.accessible.step1.description",placement:"bottom left"},{selectorId:"#".concat(h.tc.STEP_TWO_ACCESSIBLE),title:"app.tourDialog.accessible.step2.title",description:"app.tourDialog.accessible.step2.description",placement:"bottom left"}],Wc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dc(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Bc(e);if(t){var o=Bc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Tc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lc(e)}(this,r)}}(r);function r(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Gc(Lc(n=t.call(this,e)),"calculateInitialDefectTypeSimulation",(function(){var e=n.props.swatches;Hc.forEach((function(t){for(var r=[],o=0;o<e.length;o++)r.push(kc(e[o].rgb,t));n.defectTypeSimulation[t]=r}))})),Gc(Lc(n),"setMarkerUp",(function(e){n.setState({isMarkerUp:e})})),Gc(Lc(n),"updateSimulatedSwatch",(function(e){Hc.forEach((function(t){var r=kc(e.swatch.rgb,t);n.defectTypeSimulation[t][e.i]=r}))})),Gc(Lc(n),"findConflictingSwatchesFromPairs",(function(e){for(var t=new Array(h.kc),r=0;r<h.kc;r++)t[r]=!1;return e.forEach((function(e){e.split(":").forEach((function(e){t[e]=!0}))})),t})),Gc(Lc(n),"showConflictIndicatorOnSwatches",(function(e,t){var r=n.findConflictingSwatchesFromPairs(e),o={};Object.keys(t).forEach((function(e){o[e]=n.findConflictingSwatchesFromPairs(t[e])})),n.setState({conflictingSwatches:r,simulatedConflictingSwatches:o}),n.props.setIsAccessible(0===e.length)})),n.cw2Radius=e.radius||h.R,n.state={wheelReady:!1,conflictingSwatches:[],simulatedConflictingSwatches:{Deuteranopia:[],Protanopia:[],Tritanopia:[]},isMarkerUp:!0},n.onSwatchValueChange=n.onSwatchValueChange.bind(Lc(n));var o={workflow:Object(d.e)(e.ingestWorkflow[0]),subcategory:h.Gb.ACCESSIBILITY_COLORWHEEL,value:h.Gb.DEFAULT};return e.onBoardingTour===h.oc.DISABLE?n.ingestWorkflow=[].concat(Mc(e.ingestWorkflow),[h.Gb.ACCESSIBILITY]):n.ingestWorkflow=[].concat(Mc(e.ingestWorkflow),[h.Gb.ACCESSIBILITY_ONBOARDING]),Object(be.a)(h.Eb.DEFAULT,{event:o},n.ingestWorkflow),n.defectTypeSimulation={},n.calculateInitialDefectTypeSimulation(),n}return function(e,t,r){t&&Nc(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onSwatchValueChange",value:function(e){this.props.swatches.length>0&&(this.props.setSwatch(e),this.updateSimulatedSwatch(e))}},{key:"addSwatches",value:function(){for(var e=[],t=this.props.order,r=0;r<h.kc;++r)e.push(o.a.createElement(m.a,_c({key:r,id:t[r]},this.props.swatches[t[r]],{className:t[r]===this.props.activeSwatch?Pc.a.activeSwatch:"",changeSwatchesOrder:this.props.changeSwatchesOrder,setActiveSwatch:this.props.setActiveSwatch,children:this.state.conflictingSwatches[t[r]]&&o.a.createElement("div",{className:Pc.a.conflictIndicator}),draggable:!0,ingestWorkflow:this.ingestWorkflow})));return e}},{key:"positionMarkers",value:function(){for(var e=[],t=this.props.order,r=0;r<h.kc;++r)e.push(o.a.createElement(si,{baseColorIndex:this.props.baseColorIndex,key:r,id:t[r],canvas:this.canvas,wheelRadius:this.cw2Radius,onSwatchValueChange:this.onSwatchValueChange,assetType:h.g.ACCESSIBILITY,setMarkerUp:this.setMarkerUp}));return e}},{key:"componentDidMount",value:function(){var e=document.getElementById("cw2canvas");this.cw2Context=e.getContext("2d"),ue(this.props.wheelBrightness/100,this.cw2Radius,this.cw2Context),this.setState({wheelReady:!0}),this.props.fetchSuggestedTags(h.J.ACCESSIBILITY)}},{key:"componentDidUpdate",value:function(e){if(this.props.swatches.length>0){var t=this.props.activeSwatch,r=this.props.swatches[t].hsv.v;this.props.wheelBrightness!==r&&this.props.setWheelBrightness(r)}e.wheelBrightness!==this.props.wheelBrightness&&ue(this.props.wheelBrightness/100,this.cw2Radius,this.cw2Context)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:Pc.a.container},o.a.createElement("div",{className:Pc.a.canvasMarkers,style:{height:2*this.cw2Radius,width:2*this.cw2Radius}},o.a.createElement("canvas",{id:"cw2canvas",className:Pc.a.wheel,width:2*this.cw2Radius,height:2*this.cw2Radius,ref:function(t){e.canvas=t}}),o.a.createElement(Ec,{defectTypeSimulation:this.defectTypeSimulation,showConflictIndicatorOnSwatches:this.showConflictIndicatorOnSwatches,cw2Radius:this.cw2Radius,isMarkerUp:this.state.isMarkerUp}),this.state.wheelReady&&this.props.swatches.length>0&&this.positionMarkers()),o.a.createElement(ki,{conflictingSwatches:this.state.conflictingSwatches}),o.a.createElement(Zn,null),o.a.createElement("div",{className:Pc.a.themepanel},this.props.swatches.length>0&&this.addSwatches()),this.props.showSliders&&o.a.createElement(zn,{showSliders:this.props.showSliders,onSwatchValueChange:this.onSwatchValueChange}),o.a.createElement(vi,{order:this.props.order,defectTypeSimulation:this.defectTypeSimulation,simulatedConflictingSwatches:this.state.simulatedConflictingSwatches}),o.a.createElement(bi,{steps:Uc,cookie:h.oc.ACCESSIBLE_THEME}))}}]),r}(),Vc=Object(s.b)((function(e){var t=e.create,r=e.user;return Ac(Ac({},t),{},{locale:r.locale,onBoardingTour:r.onBoardingTour})}),(function(e){return Object(c.b)({changeSwatchesOrder:f.changeSwatchesOrder,fetchSuggestedTags:p.c,setSwatch:f.setSwatch,setMarker:f.setMarker,setActiveSwatch:f.setActiveSwatch,setWheelBrightness:f.setWheelBrightness,setIsAccessible:f.setIsAccessible},e)}))(Object(i.e)(Wc)),Yc=r(870),zc=r.n(Yc),Kc=function(e){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",className:zc.a.undoIcon},o.a.createElement("path",{d:"M15.332,6.271A5.2,5.2,0,0,0,11.835,5H5.5V2.4A.4.4,0,0,0,5.1,2a.389.389,0,0,0-.264.1L1.072,5.825a.249.249,0,0,0,0,.35L4.834,9.9A.394.394,0,0,0,5.1,10a.4.4,0,0,0,.4-.4V7h6.439a3.069,3.069,0,0,1,3.109,2.9A2.945,2.945,0,0,1,12,13H8.5a.5.5,0,0,0-.5.5v1a.5.5,0,0,0,.5.5h3.263a5.168,5.168,0,0,0,5.213-4.506,4.976,4.976,0,0,0-1.644-4.223Z"}))},Xc=r(871),Zc=r.n(Xc),qc=function(e){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",className:Zc.a.redoIcon},o.a.createElement("path",{d:"M2.668,6.271A5.2,5.2,0,0,1,6.165,5H12.5V2.4a.4.4,0,0,1,.4-.4.389.389,0,0,1,.264.1l3.762,3.723a.249.249,0,0,1,0,.35L13.166,9.9a.394.394,0,0,1-.264.1.4.4,0,0,1-.4-.4V7H6.061A3.069,3.069,0,0,0,2.952,9.9,2.945,2.945,0,0,0,6,13H9.5a.5.5,0,0,1,.5.5v1a.5.5,0,0,1-.5.5H6.237a5.168,5.168,0,0,1-5.213-4.506A4.976,4.976,0,0,1,2.668,6.271Z"}))},Jc=r(1248),Qc=r.n(Jc),$c=r(920),es=r(87),ts=r.n(es),rs=r(173),ns=r.n(rs),os=r(872),as=r.n(os),is=r(75);function cs(e){return(cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ss(){return(ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ls(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ds(n.key),n)}}function us(e,t){return(us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function fs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ps(e){return(ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hs(e,t,r){return(t=ds(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ds(e){var t=function(e,t){if("object"!==cs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==cs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===cs(t)?t:String(t)}var bs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&us(e,t)}(r,n.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ps(e);if(t){var o=ps(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===cs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fs(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),hs(fs(n=t.call(this,e)),"onDialogClosed",(function(e){(Object(d.t)(e.keyCode)||e.keyCode===h.Pb.ENTER)&&n.props.onDialogClosed()})),hs(fs(n),"onDialogContainerClicked",(function(e){e.stopPropagation()})),hs(fs(n),"handleClick",(function(){n.fileInputRef.current.click()})),hs(fs(n),"keyDown",(function(e){e.keyCode===h.Pb.ENTER&&n.fileInputRef.current.click()})),hs(fs(n),"shouldDisplayZoomConatiner",(function(e){n.setState({isZoomContainerActive:e})})),hs(fs(n),"setSwatch",(function(e){var t=Object.assign([],n.state.swatches);t[e.i]=e.swatch,n.setState({swatches:t})})),hs(fs(n),"setMarker",(function(e){var t=Object.assign([],n.state.markers);t[e.i]=e.position,n.setState({markers:t})})),hs(fs(n),"setActiveSwatch",(function(e){n.setState({activeSwatch:e})})),hs(fs(n),"swapSwatches",(function(){n.setState({markers:Object.assign([],n.state.markers.slice().reverse()),swatches:Object.assign([],n.state.swatches.slice().reverse())})})),hs(fs(n),"positionMarkers",(function(){return[o.a.createElement(Sa,{key:0,id:0,canvas:n.canvasRef.current,shouldDisplayZoomConatiner:n.shouldDisplayZoomConatiner,markers:n.state.markers,setSwatch:n.setSwatch,setMarker:n.setMarker,setActiveSwatch:n.setActiveSwatch,activeSwatch:n.state.activeSwatch}),o.a.createElement(Sa,{key:1,id:1,canvas:n.canvasRef.current,shouldDisplayZoomConatiner:n.shouldDisplayZoomConatiner,markers:n.state.markers,setSwatch:n.setSwatch,setMarker:n.setMarker,setActiveSwatch:n.setActiveSwatch,activeSwatch:n.state.activeSwatch})]})),hs(fs(n),"selectFileOption",(function(){var e=h.Ob?"app.createfromimage.tapmessage":"app.createfromimage.selectfilemessage",t=h.Ob?"app.createfromimage.taptext":"app.createfromimage.selectfiletext";return o.a.createElement("span",null,o.a.createElement(i.a,{id:e,values:{selectFileText:o.a.createElement("span",{className:as.a.selectAFileOption,onClick:n.handleClick,onKeyDown:n.keyDown,tabIndex:"0"},o.a.createElement(i.a,{id:t}))}}))})),hs(fs(n),"generateColorValues",(function(e){if(n.state.markers.length>0)return o.a.createElement("div",{className:[as.a.swatch,Object(Z.q)(Object(Z.m)(0===e?n.state.swatches[0]:n.state.swatches[1]).rgb)>h.yb.RGB?as.a.swatchDarkText:as.a.swatchLightText].join(" ")},o.a.createElement("span",null,n.props.intl.formatMessage({id:0===e?"app.contrastChecker.colortype.text":"app.contrastChecker.colortype.background"})),o.a.createElement("span",{className:as.a.swatchHexValue},"#".concat(0===e?n.state.swatches[0].hex:n.state.swatches[1].hex)))})),hs(fs(n),"addSwatches",(function(){var e=[];return n.isImageAvailable?(e.push(o.a.createElement(m.a,ss({key:0,id:0,active:0===n.state.activeSwatch},n.state.swatches[0],{ingestWorkflow:n.ingestWorkflow,draggable:!0,changeSwatchesOrder:n.swapSwatches}),n.generateColorValues(0))),e.push(o.a.createElement(m.a,ss({key:1,id:1,active:1===n.state.activeSwatch},n.state.swatches[1],{ingestWorkflow:n.ingestWorkflow,draggable:!0,changeSwatchesOrder:n.swapSwatches}),n.generateColorValues(1)))):(e.push(o.a.createElement(m.a,{key:0,className:as.a.emptyForegroundSwatch})),e.push(o.a.createElement(m.a,{key:1,className:as.a.emptyBackroundSwatch}))),e})),hs(fs(n),"onImportColor",(function(){n.props.onImportClicked(n.state.swatches[0],n.state.swatches[1]),n.props.fetchSuggestedTags();var e={workflow:h.Gb.ACCESSIBILITY,subcategory:h.Gb.ACCESSIBILITY_CONTRAST_IMAGE_IMPORT};Object(be.a)(h.Eb.CONTRAST_IMAGE_IMPORT_COLORS,{event:e},[h.Gb.ACCESSIBILITY_COLOR_CONTRAST])})),hs(fs(n),"onExtractionComplete",(function(e,t,r){var o=[],a=[],i=r.finalColor,c=r.points;i.forEach((function(e){var t=e.rgb,r=t.r,n=t.g,a=t.b;o.push(Object(Z.o)([255*r,255*n,255*a]))})),c.forEach((function(r){a.push({x:r.x+e,y:r.y+t})})),n.setState({markers:a,swatches:o})})),hs(fs(n),"extractColors",(function(e){var t=n.canvasRef.current.getContext("2d");0===e.length&&e.push({x_min:0,y_min:0,x_max:n.canvasRef.current.width,y_max:n.canvasRef.current.height}),t.globalAlpha=.3,t.fillStyle="#9932CC",t.rect(e[0].x_min,e[0].y_min,e[0].x_max-e[0].x_min,e[0].y_max-e[0].y_min),t.stroke();var r=e[0].x_max-e[0].x_min,o=e[0].y_max-e[0].y_min,a={onExtractionComplete:function(t){n.onExtractionComplete(e[0].x_min,e[0].y_min,t)},startMessage:{imageData:t.getImageData(e[0].x_min,e[0].y_min,e[0].x_max-e[0].x_min,e[0].y_max-e[0].y_min),width:r,height:o,swatchCount:n.numberOfSwatches,colorMood:h.t}};ha.a.queueTask(a)})),hs(fs(n),"highLightText",(function(){var e=Object(d.i)(n.canvasRef.current.toDataURL("image/jpeg")),t=new FormData,r=Object.assign({},{"x-api-key":config("CLIENT_ID")});t.append("image",e,"colorcontrast.jpg"),Object(d.t)(window.adobeIMS.getAccessToken())||Object(d.t)(window.adobeIMS.getAccessToken().token)||(r.Authorization="Bearer ".concat(window.adobeIMS.getAccessToken().token)),Object(is.f)(config("TYPEKIT_V1"),r,t).then((function(e){return n.extractColors(e)})).catch((function(e){Object(d.w)("highlightText: ".concat(e)),n.extractColors([])}))})),hs(fs(n),"draw",(function(){var e,t,r=n.zoomImage.naturalWidth,o=n.zoomImage.naturalHeight,a=r/o,i=n.canvasRef.current.getContext("2d"),c=n.canvasRef.current;e=Math.min(290,o),e=(t=Math.min(866,Math.min(n.imageContainerRef.current.offsetWidth-2*Object(d.l)(),e*a)))/a,i.clearRect(0,0,t,e),c.width=t,c.height=e,i.imageSmoothingEnabled=!1,i.drawImage(n.zoomImage,0,0,t,e),n.dropZoneContainerRef.current.hidden=!0,n.isImageAvailable=!0,n.highLightText()})),hs(fs(n),"imageLoaded",(function(e){n.zoomImage=document.createElement("img"),n.zoomImage.onload=n.draw,n.zoomImage.src=e})),hs(fs(n),"loadImageFile",(function(e){e.target&&e.target.files&&0!==e.target.files.length&&Object(d.u)(e.target.files[0].type)&&(n.isImageAvailable=!1,n.fileReader.readAsDataURL(e.target.files[0]))})),hs(fs(n),"fileDropHandler",(function(e){e.dataTransfer.files.length>0&&(Object(d.x)(e),n.loadImageFile({target:e.dataTransfer}))})),n.state={isZoomContainerActive:!1,markers:[],activeSwatch:-1,swatches:[]},n.isImageAvailable=!1,n.fileReader=new FileReader,n.fileReader.onload=function(e){n.imageLoaded(e.target.result)},n.zoomFactor=8,n.numberOfSwatches=2,n.imageContainerRef=o.a.createRef(),n.dropZoneContainerRef=o.a.createRef(),n.fileInputRef=o.a.createRef(),n.canvasRef=o.a.createRef(),n.ingestWorkflow=[h.Gb.ACCESSIBILITY_COLOR_CONTRAST],n}return function(e,t,r){t&&ls(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){return o.a.createElement("div",{className:as.a.dialogModal,onClick:this.onDialogClosed},o.a.createElement(ts.a,{className:as.a.dialog},o.a.createElement("div",{className:as.a.dialogContainer,onClick:this.onDialogContainerClicked},o.a.createElement("div",{className:as.a.closeButton,onClick:this.onDialogClosed},o.a.createElement(ns.a,{tabIndex:"0",onKeyDown:this.onDialogClosed})),o.a.createElement("div",{className:as.a.labelContainer},o.a.createElement("span",null,this.isImageAvailable?this.props.intl.formatMessage({id:"app.contrastChecker.image.selectColors"}):this.props.intl.formatMessage({id:"app.contrastChecker.image.upload"})),o.a.createElement(vo.a,{quiet:!0,variant:"action",className:as.a.replaceImage,label:this.props.intl.formatMessage({id:"app.createfromimage.replace"}),icon:o.a.createElement(yo.a,{className:as.a.imageIcon,alt:this.props.intl.formatMessage({id:"app.createfromimage.replace"})}),disabled:!this.isImageAvailable,onClick:this.handleClick})),o.a.createElement("div",{className:[as.a.imageContainerBase,as.a.imageContainer,this.isImageAvailable?as.a.imageContainerWithBorder:""].join(" "),onDragOver:d.x,onDrop:this.fileDropHandler,ref:this.imageContainerRef},o.a.createElement("div",{className:as.a.dropZoneContainer,ref:this.dropZoneContainerRef},o.a.createElement(po.a,null,o.a.createElement(bo.a,{heading:this.props.intl.formatMessage({id:"app.createfromimage.dragandropfilemessage"}),description:this.selectFileOption(),illustration:o.a.createElement(wo,null)}))),o.a.createElement("input",{type:"file",accept:"image/jpg,image/jpeg,image/png,image/gif,image/bmp",onChange:this.loadImageFile,ref:this.fileInputRef}),o.a.createElement("div",{className:as.a.canvasMarkers},this.isImageAvailable&&this.state.isZoomContainerActive&&this.state.markers.length>0&&this.state.activeSwatch>=0&&o.a.createElement("div",{className:as.a.zoomedImageContainer,style:{left:"".concat(this.state.markers[this.state.activeSwatch].x-55,"px"),top:"".concat(this.state.markers[this.state.activeSwatch].y-140,"px"),zIndex:10}},o.a.createElement("div",{className:as.a.zoomedImageInnerContainer},o.a.createElement("img",{className:as.a.zoomedImage,src:this.canvasRef.current.toDataURL("image/jpeg"),width:this.zoomFactor*this.canvasRef.current.width,height:this.zoomFactor*this.canvasRef.current.height,style:{left:"".concat(-1*this.state.markers[this.state.activeSwatch].x*this.zoomFactor+45,"px"),top:"".concat(-1*this.state.markers[this.state.activeSwatch].y*this.zoomFactor+45,"px")},alt:this.props.intl.formatMessage({id:"app.images.create.from.image.alt"})}))),o.a.createElement("canvas",{width:0,height:0,onClick:this.handleClick,ref:this.canvasRef,className:this.isImageAvailable&&as.a.canvas}),this.isImageAvailable&&this.state.markers.length>0&&this.positionMarkers())),o.a.createElement("div",{className:as.a.themebox},this.addSwatches()),o.a.createElement("div",{className:as.a.buttonContainers},o.a.createElement(vo.a,{quiet:!0,variant:"cta",className:as.a.cancelButton,label:o.a.createElement(i.a,{id:"app.reportabuse.dialog.cancel"}),disabled:!this.isImageAvailable,onClick:this.onDialogClosed}),o.a.createElement(vo.a,{quiet:!0,variant:"cta",label:o.a.createElement(i.a,{id:"app.contrastChecker.button.importColor"}),disabled:!this.isImageAvailable,onClick:this.onImportColor})))))}}]),r}(),ms=Object(i.e)(bs),ys=r(1251),gs=r.n(ys),vs=r(88),ws=r.n(vs),Os=r(1254),Es=r.n(Os),Ss=r(927),js=r(873),Cs=r.n(js);function ks(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ps=[],Ts={DEFAULT_COLORWHEEL_RADIUS:105,DEFAULT_COLORWHEEL_MARKER_RADIUS:10.5,DEFAULT_WHEEL_BRIGHTNESS:100,KEYBOARD_KEYCODE_ENTER:13,RGB_MIN_VALUE:0,RGB_MAX_VALUE:255,RGB_BRIGHTNESS_MAX_VALUE:100,DEFAULT_NUMBER_OF_TINTS:9},Is=function(e){return[e.r,e.g,e.b]},As=function(e,t,r,n){if(t){var a=[];fe(e,Ts.DEFAULT_NUMBER_OF_TINTS).forEach((function(t,i){var c=Object(Z.v)("rgb",Is(Object(Z.j)({h:t.h/360,s:t.s/100,v:t.v/100})));a.push(o.a.createElement("div",{className:t.h===e.hsv.h&&t.s===e.hsv.s&&t.v===e.hsv.v?Cs.a.selectedSwatch:Cs.a.swatch,key:i,tabIndex:"0",onClick:r(c,!0),onKeyPress:n(c,!0),style:{background:"#".concat(c)}}))})),Ps=Object.assign([],a)}},_s=function(e){e.set_debug_on&&console.log("colorPicker props received : ",e);var t={},r=ks(Object(n.useState)(e.isSelected),2),a=r[0],i=r[1],c=ks(Object(n.useState)(e.color.hex),2),s=c[0],l=c[1],u=ks(Object(n.useState)(0),2),f=u[0],p=u[1],h=ks(Object(n.useState)(0),2),b=h[0],m=h[1],y=ks(Object(n.useState)(0),2),g=y[0],v=y[1],w=ks(Object(n.useState)(0),2),O=w[0],E=w[1],S=ks(Object(n.useState)(!0),2),j=S[0],C=S[1],k=ks(Object(n.useState)(!0),2),R=k[0],P=k[1],T=e.wheel_brightness||Ts.DEFAULT_WHEEL_BRIGHTNESS,I=e.wheel_radius||Ts.DEFAULT_COLORWHEEL_RADIUS,A=e.wheel_marker_radius||Ts.DEFAULT_COLORWHEEL_MARKER_RADIUS,_=o.a.useRef(null),M=o.a.useRef(null),x=o.a.useRef(null),N=o.a.useRef(null),D=o.a.useRef(null),L=o.a.useRef(null),B=o.a.useRef(null),G=function(e){return _.current.getContext("2d").getImageData(e.x,e.y,1,1).data},F=function(){var t=s.toUpperCase();if(3===t.length){for(var r="",n=0;n<=2;++n)r=r.concat("".concat(t[n]).concat(t[n]));t=r}else t.length>6&&(t=t.substr(0,6));t=parseInt(t,16);var o=(t>>>=0)>>16&255,a=t>>8&255,c=255&t,l=Object(Z.v)("rgb",[o/255,a/255,c/255]),u=Object(Z.o)(Is(Object(Z.h)(l)));u.hex!==e.color.hex&&(e.oncolorselecting(u),e.oncolorselected(u)),i(!1)},H=function(){var t=Object(Z.h)(e.color.hex),r=Object(Z.s)(t),n=r.h,o=r.s,a=ce(Math.round(360*n)),i=I*Math.round(100*o)/100,c=Object(Z.d)(180-a),s=ks(Object(Z.n)(i,c),2),l=s[0],u=s[1],f=l+I,p=u+I;M.current.style.backgroundColor=Object(Z.g)([t.r,t.g,t.b]),M.current.style.left="calc(".concat(100*f/_.current.width,"% - ").concat(A,"px)"),M.current.style.top="calc(".concat(100*p/_.current.height,"% - ").concat(A,"px)")},U=function(e){var r=_.current.getBoundingClientRect();t={x:r.left,y:r.top}},W=function(r){var n=r,o={};Object(d.t)(r.touches)||0===r.touches.length||(n=r.touches[0]),(o={x:n.clientX-t.x,y:n.clientY-t.y}).x=Math.round(o.x),o.y=Math.round(o.y),o.x=Math.min(_.current.width-1,Math.max(0,o.x)),o.y=Math.min(_.current.height-1,Math.max(0,o.y));var a=ks(Object(Z.w)(o.x-I,o.y-I),2),i=a[0],c=a[1];if(i<I){var s=Object(Z.o)(G(o)).hex;e.oncolorselecting(Object(Z.o)(Is(Object(Z.h)(s))))}else{i=I;var l=ks(Object(Z.n)(i,c),2),u=l[0],f=l[1];o.x=u+I,o.y=f+I;var p=Object(Z.o)(G(o)).hex;e.oncolorselecting(Object(Z.o)(Is(Object(Z.h)(p))))}},V=function e(){C(!0),Object(d.A)(!1),document.body.removeEventListener("mousemove",W),document.body.removeEventListener("mouseup",e)},Y=function(e){Object(d.x)(e),e.stopPropagation(),U(),C(!1),P(!0),document.body.addEventListener("touchmove",W,{passive:!0}),document.body.addEventListener("touchend",(function(){C(!0),Object(d.A)(!1),document.body.removeEventListener("touchmove",W,{passive:!0}),document.body.removeEventListener("mousemove",W)}),{passive:!0}),Object(d.A)(!0)},z=function(t,r){return function(n){n.stopPropagation(),r&&P(!1),e.oncolorselecting(Object(Z.o)(Is(Object(Z.h)(t))))}},K=function(t,r){return function(n){n.stopPropagation(),r&&P(!1),n.charCode===Ts.KEYBOARD_KEYCODE_ENTER&&e.oncolorselecting(Object(Z.o)(Is(Object(Z.h)(t))))}},X=function(){p(e.color.rgb.r),m(e.color.rgb.g),v(e.color.rgb.b),E(e.color.hsv.v)},q=function(){x.current&&(rr.a.findDOMNode(x.current).style.setProperty("--slider-gradient-bgColor","linear-gradient(to right, rgb(0, ".concat(e.color.rgb.g,", ").concat(e.color.rgb.b,") 0%, rgb(255, ").concat(e.color.rgb.g,", ").concat(e.color.rgb.b,") 100%)")),rr.a.findDOMNode(N.current).style.setProperty("--slider-gradient-bgColor","linear-gradient(to right, rgb(".concat(e.color.rgb.r,", 0, ").concat(e.color.rgb.b,") 0%, rgb(").concat(e.color.rgb.r,", 255, ").concat(e.color.rgb.b,") 100%)")),rr.a.findDOMNode(D.current).style.setProperty("--slider-gradient-bgColor","linear-gradient(to right, rgb(".concat(e.color.rgb.r,", ").concat(e.color.rgb.g,", 0) 0%, rgb(").concat(e.color.rgb.r,", ").concat(e.color.rgb.g,", 255) 100%)")),rr.a.findDOMNode(L.current).style.setProperty("--slider-gradient-bgColor","linear-gradient(to right, #".concat(Object(Z.v)("rgb",Is(Object(Z.j)({h:e.color.hsv.h/360,s:e.color.hsv.s/100,v:0}))),", #").concat(Object(Z.v)("rgb",Is(Object(Z.j)({h:e.color.hsv.h/360,s:e.color.hsv.s/100,v:1}))),")")))},J=function(){i(!1)},Q=function(t){return function(r){var n=function(e){var t=e;return isNaN(e)||Object(d.t)(e)||e<Ts.RGB_MIN_VALUE?t=Ts.RGB_MIN_VALUE:e>Ts.RGB_MAX_VALUE&&(t=Ts.RGB_MAX_VALUE),t}(parseInt(r,10)),o="";switch(t){case"r":p(n),o=Object(Z.v)("rgb",[n/255,e.color.rgb.g/255,e.color.rgb.b/255]);break;case"g":m(n),o=Object(Z.v)("rgb",[e.color.rgb.r/255,n/255,e.color.rgb.b/255]);break;case"b":v(n),o=Object(Z.v)("rgb",[e.color.rgb.r/255,e.color.rgb.g/255,n/255]);break;default:E(n),o=Object(Z.v)("rgb",Is(Object(Z.j)({h:e.color.hsv.h/360,s:e.color.hsv.s/100,v:n/100})))}e.oncolorselecting(Object(Z.o)(Is(Object(Z.h)(o))))}},$=function(e){return!Object(d.s)(e)&&(C(!1),P(!0),document.body.addEventListener("mouseup",(function(){C(!0)})),!0)},ee=function(e){C(!1),P(!0),document.body.addEventListener("touchend",(function(){C(!0),document.body.removeEventListener("mousemove",W)}),{passive:!0}),Object(d.A)(!0)};return o.a.useEffect((function(){_.current&&(H(),q(),As(e.color,R,z,K),X(),j&&e.oncolorselected(e.color)),l(e.color.hex)}),[e.color.hex,j]),o.a.createElement("div",null,o.a.createElement("span",{className:Cs.a.title},e.header),o.a.createElement("div",{className:[Cs.a.colorPickerHexAndSwatchContainer,a?Cs.a.isSelected:""].join(" ")},o.a.createElement("input",{"aria-label":"colorpicker-hexlabel",value:"#".concat(s),className:"spectrum-Textfield spectrum-Textfield--quiet ".concat(Cs.a.hexInputField),onChange:function(e){var t=e.target.value;"#"===t[0]&&(t=t.substr(1)),l(t)},onKeyPress:function(e){e.charCode===Ts.KEYBOARD_KEYCODE_ENTER&&F()},onBlur:F,onFocus:function(){i(!0)}}),o.a.createElement(Ke.a,{className:Cs.a.popoverDialog,placement:"right",trigger:"click",onClick:function(t){setTimeout((function(){var t=_.current.getContext("2d");ue(T/100,I,t),H(),As(e.color,R,z,K),q(),X(),i(!0)}),1)},ref:B,onHide:J},o.a.createElement(vo.a,{variant:"action",className:Cs.a.btnSwatch,style:{background:"#".concat(e.color.hex)},"aria-haspopup":"dialog"}),o.a.createElement(ws.a,{variant:"default",trapFocus:!0},o.a.createElement("div",{className:Cs.a.titleContainer},o.a.createElement("span",{className:Cs.a.popoverTitle},e.title),o.a.createElement(vo.a,{className:Cs.a.closeButtonContainer,icon:o.a.createElement(Es.a,{size:"S"}),onClick:function(e){e.stopPropagation(),B.current.hide&&(J(),B.current.hide())},onKeyPress:function(e){e.stopPropagation(),e.charCode===Ts.KEYBOARD_KEYCODE_ENTER&&B.current.hide&&(J(),B.current.hide())},variant:"action",quiet:!0})),o.a.createElement(Ss.Accordion,{selectedIndex:0},o.a.createElement(Ss.AccordionItem,{header:e.tool_wheel_header},o.a.createElement("div",{className:Cs.a.whiteMarker,tabIndex:"0",onClick:z("FFFFFF",!1),onKeyPress:K("FFFFFF",!1)}),o.a.createElement("div",{className:Cs.a.blackMarker,tabIndex:"0",onClick:z("000000",!1),onKeyPress:K("000000",!1)}),o.a.createElement("div",{className:Cs.a.canvasMarker,style:{height:2*I,width:2*I}},o.a.createElement("canvas",{ref:_,onMouseDown:function(e){return Object(d.x)(e),e.stopPropagation(),!Object(d.s)(e)&&(U(),C(!1),P(!0),W(e),document.body.addEventListener("mousemove",W,{passive:!0}),document.body.addEventListener("mouseup",V),Object(d.A)(!0),!0)},onTouchStart:Y,className:Cs.a.wheel,width:2*I,height:2*I}),o.a.createElement("div",{className:Cs.a.wheelMarker,ref:M,onMouseDown:function(e){return Object(d.x)(e),e.stopPropagation(),!Object(d.s)(e)&&(U(),C(!1),P(!0),document.body.addEventListener("mousemove",W,{passive:!0}),document.body.addEventListener("mouseup",V),Object(d.A)(!0),!0)},onTouchStart:Y})))),o.a.createElement(Ss.Accordion,{defaultSelectedIndex:e.showcolorvariations?1:0},o.a.createElement(Ss.AccordionItem,{header:e.tool_sliders_header},o.a.createElement("div",{className:Cs.a.rgbSliders},o.a.createElement("div",{className:Cs.a.sliderAndLabelContainer},o.a.createElement("span",{className:Cs.a.sliderLabel},"R"),o.a.createElement("div",{className:Cs.a.sliderContainer,onMouseDown:$,onTouchStart:ee},o.a.createElement(or.a,{ref:x,className:Cs.a.slider,min:Ts.RGB_MIN_VALUE,max:Ts.RGB_MAX_VALUE,step:1,value:f,label:e.slider_labels[0],onChange:Q("r")})),o.a.createElement(Yt.a,{className:Cs.a.inputBox,quiet:!0,type:"number",min:Ts.RGB_MIN_VALUE,max:Ts.RGB_MAX_VALUE,value:f,"aria-label":e.slider_textbox_arialabels[0],onChange:Q("r")})),o.a.createElement("div",{className:Cs.a.sliderAndLabelContainer},o.a.createElement("span",{className:Cs.a.sliderLabel},"G"),o.a.createElement("div",{className:Cs.a.sliderContainer,onMouseDown:$,onTouchStart:ee},o.a.createElement(or.a,{ref:N,className:Cs.a.slider,min:Ts.RGB_MIN_VALUE,max:Ts.RGB_MAX_VALUE,step:1,value:b,label:e.slider_labels[1],onChange:Q("g")})),o.a.createElement(Yt.a,{className:Cs.a.inputBox,quiet:!0,type:"number",min:Ts.RGB_MIN_VALUE,max:Ts.RGB_MAX_VALUE,value:b,"aria-label":e.slider_textbox_arialabels[1],onChange:Q("g")})),o.a.createElement("div",{className:Cs.a.sliderAndLabelContainer},o.a.createElement("span",{className:Cs.a.sliderLabel},"B"),o.a.createElement("div",{className:Cs.a.sliderContainer,onMouseDown:$,onTouchStart:ee},o.a.createElement(or.a,{ref:D,className:Cs.a.slider,min:Ts.RGB_MIN_VALUE,max:Ts.RGB_MAX_VALUE,step:1,value:g,label:e.slider_labels[2],onChange:Q("b")})),o.a.createElement(Yt.a,{className:Cs.a.inputBox,quiet:!0,type:"number",min:Ts.RGB_MIN_VALUE,max:Ts.RGB_MAX_VALUE,value:g,"aria-label":e.slider_textbox_arialabels[2],onChange:Q("b")})),o.a.createElement("div",{className:Cs.a.sliderAndLabelContainer},o.a.createElement(jn,{className:Cs.a.brightnessIcon}),o.a.createElement("div",{className:Cs.a.sliderContainer,onMouseDown:$,onTouchStart:ee},o.a.createElement(or.a,{ref:L,className:Cs.a.slider,min:Ts.RGB_MIN_VALUE,max:Ts.BRIGHTNESS_MAX_VALUE,step:1,value:O,label:e.slider_labels[3],onChange:Q("v")})),o.a.createElement(Yt.a,{className:Cs.a.inputBox,quiet:!0,type:"number",min:Ts.RGB_MIN_VALUE,max:Ts.BRIGHTNESS_MAX_VALUE,value:O,"aria-label":e.slider_textbox_arialabels[3],onChange:Q("v")})))),e.showcolorvariations&&o.a.createElement(Ss.AccordionItem,{header:e.tool_colorvariation_header},o.a.createElement("div",{className:Cs.a.colorVariationsContainer},Ps)))))))},Ms=r(1048),xs=r.n(Ms),Ns=r(780),Ds=r.n(Ns);function Ls(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Gs=function(e){return[e.r,e.g,e.b]},Fs=function(e,t){var r={workflow:h.Gb.ACCESSIBILITY_COLOR_CONTRAST,subcategory:h.Gb.SLIDERBAR,value:e};Object(be.a)(h.Eb.SLIDE,{event:r},[h.Gb.CONTRAST,t?h.Gb.CONTRAST_BACKGROUNND:h.Gb.CONTRAST_FOREGROUNND])},Hs=function(e){var t=o.a.useRef(null),r=Ls(Object(n.useState)([]),2),a=r[0],i=r[1],c=Ls(Object(n.useState)(0),2),s=c[0],l=c[1],u=Ls(Object(n.useState)(!1),2),f=u[0],p=u[1],b=Ls(Object(n.useState)(!0),2),m=b[0],y=b[1],g=function(e){t.current&&rr.a.findDOMNode(t.current).style.setProperty("--slider-handle-bgColor","#".concat(e))};return Object(n.useEffect)((function(){f?g(a[s]):m?function(){if(t.current){y(!0);var r=function(e,t){var r="linear-gradient(to right ",n=-1,o=[];return fe(e,20).forEach((function(t,a){var i=Object(Z.v)("rgb",Gs(Object(Z.j)({h:t.h/360,s:t.s/100,v:t.v/100})));o.push(i),r=r.concat(", #".concat(i)),t.h===e.hsv.h&&t.s===e.hsv.s&&t.v===e.hsv.v&&(n=a)})),{linearGradientBackground:r=r.concat(")"),hexArray:o,incomingColorIndex:n}}(e.color,e.isForegroundColor),n=r.linearGradientBackground,o=r.hexArray,a=r.incomingColorIndex;rr.a.findDOMNode(t.current).style.setProperty("--slider-gradient-bgColor","".concat(n)),g(o[a]),i(Object.assign([],o)),l(a)}}():(e.onTintSelected(e.color),y(!0),Fs(e.color.hex,e.isForegroundColor))}),[e.color.hex,s,f]),Object(n.useEffect)((function(){return Object(d.y)(!0,document.querySelectorAll(".spectrum-Slider-handle")),function(){Object(d.y)(!1,document.querySelectorAll(".spectrum-Slider-handle"))}}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Ds.a.sliderAndIconContainer},o.a.createElement(jn,{className:Ds.a.brightnessIcon}),o.a.createElement("div",{className:Ds.a.sliderContainer,onMouseDown:function(e){Object(d.s)(e)||(p(!0),y(!1),document.body.addEventListener("mouseup",(function(){p(!1)})))},onKeyDown:function(t){((t.keyCode===h.Pb.UP_ARROW||t.keyCode===h.Pb.RIGHT_ARROW)&&s<a.length-1||(t.keyCode===h.Pb.DOWN_ARROW||t.keyCode===h.Pb.LEFT_ARROW)&&s>0)&&(e.onTintSelected(e.color),Fs(e.color.hex,e.isForegroundColor))}},o.a.createElement(or.a,{ref:t,className:Ds.a.slider,min:0,max:a.length-1,step:1,value:s,onChange:function(t){l(t),e.onTintSelecting(Object(Z.o)(Gs(Object(Z.h)(a[t]))))},label:e.sliderLabel}))))},Us=r(213),Ws=r.n(Us),Vs=r(1259),Ys=r.n(Vs),zs=function(e){var t=e.index,r=e.intl,n=e.color;return o.a.createElement(Ws.a,{variant:"subtitle3",className:Ds.a.wellHeader,style:{color:Object(Z.q)(Object(Z.m)(n).rgb)>h.yb.RGB?"".concat(jo.a.contrastPreviewTypeTitleLight):"".concat(jo.a.contrastPreviewTypeTitleDark)}},r.formatMessage({id:"app.create.colorcontrast.preview.type.title"}).split("|")[t])},Ks=function(e){var t=e.isContrastChecked,r=e.intl,n=e.containerIndex;return o.a.createElement("div",{className:Ds.a.contrastStatusContainer},t?o.a.createElement(w.a,{className:Ds.a.contrastRatioPassIcon}):o.a.createElement(xs.a,{className:Ds.a.contrastRatioFailIcon}),o.a.createElement("span",{className:t?Ds.a.contrastStatusRatingPass:Ds.a.contrastStatusRatingFail},r.formatMessage({id:t?"app.create.colorcontrast.preview.contrastLevel.pass":"app.create.colorcontrast.preview.contrastLevel.fail"})),o.a.createElement("span",{className:Ds.a.contrastStatusDesc},r.formatMessage({id:"app.create.colorcontrast.preview.type.info"}).split("|")[n]))},Xs=Object(i.e)((function(e){return o.a.createElement("div",{className:h.Nb?Ds.a.contrastPreviewTablet:Ds.a.contrastPreview},o.a.createElement("span",null,e.intl.formatMessage({id:"app.create.colorcontrast.preview.title"})),o.a.createElement("div",{className:Ds.a.gridPreviewContainer},o.a.createElement("div",{className:Ds.a.regularPreview},o.a.createElement(Ys.a,{role:"region",style:{backgroundColor:"#".concat(e.backgroundSwatch.hex),color:"#".concat(e.foregroundSwatch.hex),border:"FFFFFF"===e.backgroundSwatch.hex?"1px solid ".concat(jo.a.whiteSwatchBorderColor):""}},o.a.createElement(zs,{index:0,intl:e.intl,color:e.backgroundSwatch}),o.a.createElement("p",{className:Ds.a.wellDescription},e.intl.formatMessage({id:"app.create.colorcontrast.preview.type.description"}))),o.a.createElement(Ks,{isContrastChecked:e.contrastRatio.regularText===h.pc,intl:e.intl,containerIndex:0})),o.a.createElement("div",{className:Ds.a.largePreview},o.a.createElement(Ys.a,{role:"region",style:{backgroundColor:"#".concat(e.backgroundSwatch.hex),color:"#".concat(e.foregroundSwatch.hex),border:"FFFFFF"===e.backgroundSwatch.hex?"1px solid ".concat(jo.a.whiteSwatchBorderColor):""}},o.a.createElement(zs,{index:1,intl:e.intl,color:e.backgroundSwatch}),o.a.createElement("p",{className:Ds.a.wellDescription},e.intl.formatMessage({id:"app.create.colorcontrast.preview.type.description"}))),o.a.createElement(Ks,{isContrastChecked:e.contrastRatio.largeText===h.pc,intl:e.intl,containerIndex:1})),o.a.createElement("div",{className:Ds.a.graphicsPreview},o.a.createElement(Ys.a,{role:"region",style:{backgroundColor:"#".concat(e.backgroundSwatch.hex),border:"FFFFFF"===e.backgroundSwatch.hex?"1px solid ".concat(jo.a.whiteSwatchBorderColor):""}},o.a.createElement(zs,{index:2,intl:e.intl,color:e.backgroundSwatch}),o.a.createElement("div",{className:Ds.a.iconsContainer},o.a.createElement("div",{class:Ds.a.square,style:{backgroundColor:"#".concat(e.foregroundSwatch.hex)}}),o.a.createElement("div",{class:Ds.a.circle,style:{backgroundColor:"#".concat(e.foregroundSwatch.hex)}}),o.a.createElement("div",{class:Ds.a.triangle,style:{borderBottomColor:"#".concat(e.foregroundSwatch.hex)}}))),o.a.createElement(Ks,{isContrastChecked:e.contrastRatio.graphic===h.pc,intl:e.intl,containerIndex:2}))))})),Zs=r(1261),qs=r.n(Zs);function Js(e){return(Js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qs(Object(r),!0).forEach((function(t){al(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function el(){return(el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,il(n.key),n)}}function rl(e,t){return(rl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ol(e){return(ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function al(e,t,r){return(t=il(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function il(e){var t=function(e,t){if("object"!==Js(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Js(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Js(t)?t:String(t)}var cl=[{selectorId:"#".concat(h.tc.STEP_ONE_CONTRASTCHECKER),title:"app.tourDialog.whatsnew.option1.contrast.checker",description:"app.tourDialog.contrastChecker.step1.description",placement:"bottom left",image:_.s,imageAlt:"app.tourDialog.contrastChecker.step1.image.alt"},{selectorId:"#".concat(h.tc.STEP_TWO_CONTRASTCHECKER),title:"app.tourDialog.contrastChecker.step2.title",description:"app.tourDialog.contrastChecker.step2.description",placement:"bottom left",image:_.t,imageAlt:"app.tourDialog.contrastChecker.step2.image.alt"},{selectorId:"#".concat(h.tc.STEP_THREE_CONTRASTCHECKER),title:"app.contrast.ratio",description:"app.tourDialog.contrastChecker.step3.description",placement:"bottom left",image:_.u,imageAlt:"app.tourDialog.contrastChecker.step3.image.alt"}],sl={regularText:h.pc,largeText:h.pc,graphic:h.pc},ll=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rl(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ol(e);if(t){var o=ol(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Js(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nl(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),al(nl(n=t.call(this,e)),"colorPickerOnColorSelecting",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){n.props.setContrastColors({foregroundSwatch:e?n.props.foregroundSwatch:t,backgroundSwatch:e?t:n.props.backgroundSwatch})}})),al(nl(n),"colorPickerOnColorSelected",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){n.props.setContrastColorsHistory({foregroundSwatch:e?n.props.foregroundSwatch:t,backgroundSwatch:e?t:n.props.backgroundSwatch}),n.props.fetchSuggestedTags(h.J.COLOR_CONTRAST)}})),al(nl(n),"onSwapColorsClicked",(function(){n.props.setContrastColors({foregroundSwatch:n.props.backgroundSwatch,backgroundSwatch:n.props.foregroundSwatch}),n.props.setContrastColorsHistory({foregroundSwatch:n.props.backgroundSwatch,backgroundSwatch:n.props.foregroundSwatch})})),al(nl(n),"onContrastImageImportClicked",(function(e,t){n.onContrastImageDialogClosed(),n.props.setContrastColors({foregroundSwatch:e,backgroundSwatch:t}),n.props.setContrastColorsHistory({foregroundSwatch:e,backgroundSwatch:t})})),al(nl(n),"onContrastImageDialogClosed",(function(){n.setState({showContrastImageImportDialog:!n.state.showContrastImageImportDialog})})),al(nl(n),"setContrastLevel",(function(e){n.setState({contrastLevel:e})})),n.colorPickerProps={title:n.props.intl.formatMessage({id:"app.colorPicker.container.popover.title"}),tool_wheel_header:n.props.intl.formatMessage({id:"app.create.colorWheelLabel"}),tool_sliders_header:n.props.intl.formatMessage({id:"app.colorPicker.container.popover.tool.rgbSliders"}),tool_colorvariation_header:n.props.intl.formatMessage({id:"app.colorPicker.container.popover.tool.colorVariation"}),slider_labels:[n.props.intl.formatMessage({id:"app.create.rgb.r.slider.label"}),n.props.intl.formatMessage({id:"app.create.rgb.g.slider.label"}),n.props.intl.formatMessage({id:"app.create.rgb.b.sliderText.label"}),n.props.intl.formatMessage({id:"app.create.rgb.br.slider.label"})],slider_textbox_arialabels:[n.props.intl.formatMessage({id:"app.create.rgb.r.sliderText.label"}),n.props.intl.formatMessage({id:"app.create.rgb.g.sliderText.label"}),n.props.intl.formatMessage({id:"app.create.rgb.b.sliderText.label"}),n.props.intl.formatMessage({id:"app.create.rgb.br.sliderText.label"})]},n.state={showContrastImageImportDialog:!1,contrastLevel:h.H[1]},n.props.setEditWorkflow(!1),n}return function(e,t,r){t&&tl(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidMount",value:function(){this.props.fetchSuggestedTags(h.J.COLOR_CONTRAST)}},{key:"componentWillUnmount",value:function(){this.props.setContrastColorEditWorkflow(!1)}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Ds.a.container},o.a.createElement(vo.a,{variant:"action",className:Ds.a.importImageButton,label:this.props.intl.formatMessage({id:"app.contrastChecker.button.importColor"}),onClick:this.onContrastImageDialogClosed,icon:o.a.createElement(Qc.a,{className:Ds.a.imageIcon,size:"XL",alt:this.props.intl.formatMessage({id:"app.contrastChecker.button.importColor"})})}),o.a.createElement("span",{className:Ds.a.wcagLevelTitle,id:h.tc.STEP_TWO_CONTRASTCHECKER},this.props.intl.formatMessage({id:"app.create.colorcontrast.preview.wcagLevel"})),o.a.createElement("div",{className:Ds.a.wcagLevelSelector},o.a.createElement(Je.a,{quiet:!0,className:Ds.a.contrastLevelSelector,options:[{label:h.H[0],value:h.H[0]},{label:h.H[1],value:h.H[1]}],defaultValue:this.state.contrastLevel,onChange:this.setContrastLevel}),o.a.createElement(Ke.a,{placement:"bottom right",trigger:["click"]},o.a.createElement("div",{className:Ds.a.helpIcon,id:h.tc.HELP_WCGA_ACCESSIBLE_CRITERIA},o.a.createElement(He.a,{size:"S"})),o.a.createElement(ui.a,{dismissible:!0,placement:"bottom right",selector:"#".concat(h.tc.HELP_WCGA_ACCESSIBLE_CRITERIA),title:o.a.createElement(i.a,{id:"app.tourDialog.contrastChecker.help.wcag.title"})},o.a.createElement("p",null,o.a.createElement(i.a,{id:"app.tourDialog.contrastChecker.help.wcag.description.part1",values:{textDesc:o.a.createElement("strong",null,o.a.createElement(i.a,{id:"app.tourDialog.contrastChecker.help.wcag.description.part1.textDesc"}))}})),o.a.createElement("p",null,o.a.createElement(i.a,{id:"app.tourDialog.contrastChecker.help.wcag.description.part2",values:{textDesc:o.a.createElement("strong",null,o.a.createElement(i.a,{id:"app.tourDialog.contrastChecker.help.wcag.description.part2.textDesc"})),link:o.a.createElement("a",{className:Ds.a.readMoreLink,target:"_blank",href:this.props.intl.formatMessage({id:"app.accessibility.colorhelpx"})},o.a.createElement(i.a,{id:"app.readmore"}))}}))))),o.a.createElement("div",{className:h.Nb?Ds.a.contrastRatioTabletContainer:Ds.a.contrastRatioContainer},o.a.createElement("div",null,o.a.createElement(_s,el({isSelected:!0,header:this.props.intl.formatMessage({id:"app.contrastChecker.colortype.text"}),color:this.props.foregroundSwatch,oncolorselecting:this.colorPickerOnColorSelecting(!1),oncolorselected:this.colorPickerOnColorSelected(!1)},this.colorPickerProps)),o.a.createElement(Hs,{color:this.props.foregroundSwatch,isForegroundColor:!0,sliderLabel:this.props.intl.formatMessage({id:"app.create.colorcontrast.slider.foreground"}),onTintSelecting:this.colorPickerOnColorSelecting(!1),onTintSelected:this.colorPickerOnColorSelected(!1)})),o.a.createElement(vo.a,{quiet:!0,variant:"action",className:Ds.a.switchImageIcon,onClick:this.onSwapColorsClicked,icon:o.a.createElement(gs.a,{alt:this.props.intl.formatMessage({id:"app.colorPicker.swap.colors"})})}),o.a.createElement("div",null,o.a.createElement(_s,el({header:this.props.intl.formatMessage({id:"app.contrastChecker.colortype.background"}),color:this.props.backgroundSwatch,oncolorselecting:this.colorPickerOnColorSelecting(),oncolorselected:this.colorPickerOnColorSelected()},this.colorPickerProps)),o.a.createElement(Hs,{color:this.props.backgroundSwatch,isForegroundColor:!1,sliderLabel:this.props.intl.formatMessage({id:"app.create.colorcontrast.slider.background"}),onTintSelecting:this.colorPickerOnColorSelecting(),onTintSelected:this.colorPickerOnColorSelected()})),h.Nb?null:o.a.createElement("div",{className:Ds.a.separatorContainer},o.a.createElement("div",{className:Ds.a.separator})),o.a.createElement("div",null,o.a.createElement("div",{className:Ds.a.contrastRatioTitle},o.a.createElement("span",{id:h.tc.STEP_THREE_CONTRASTCHECKER},this.props.intl.formatMessage({id:"app.contrast.ratio"})),o.a.createElement(Ke.a,{placement:"bottom right",trigger:["click"]},o.a.createElement("div",{className:Ds.a.helpIcon,id:h.tc.HELP_CONTRAST_RATIO},o.a.createElement(He.a,{size:"S"})),o.a.createElement(ui.a,{flip:!0,dismissible:!0,placement:"bottom right",selector:"#".concat(h.tc.HELP_CONTRAST_RATIO),title:o.a.createElement(i.a,{id:"app.contrast.ratio"})},o.a.createElement("p",null,o.a.createElement(i.a,{id:"app.tourDialog.contrastChecker.step3.description"})),o.a.createElement("a",{className:Ds.a.readMoreLink,target:"_blank",href:this.props.intl.formatMessage({id:"app.accessibility.colorhelpx"})},o.a.createElement(i.a,{id:"app.readmore"}))))),o.a.createElement("div",{className:Ds.a.contrastRatioValue},o.a.createElement("span",null,o.a.createElement(i.b,{value:this.props.contrastRatio.contrastRatio})," ",Object(d.p)(this.props.locale)," 1"),qs()(this.props.contrastRatio[this.state.contrastLevel],sl)?o.a.createElement(w.a,{className:Ds.a.contrastRatioPassIcon}):o.a.createElement(xs.a,{className:Ds.a.contrastRatioFailIcon})))),o.a.createElement(Xs,{backgroundSwatch:this.props.backgroundSwatch,foregroundSwatch:this.props.foregroundSwatch,contrastRatio:this.props.contrastRatio[this.state.contrastLevel]})),o.a.createElement("div",{className:Ds.a.actionButtons},o.a.createElement(vo.a,{className:[Ds.a.undoButton,this.props.history.previousAvailable?"":Ds.a.disbaledIcons].join(" "),quiet:!0,variant:"action",onClick:this.props.undoContrastColors,disabled:!this.props.history.previousAvailable,icon:o.a.createElement(Kc,null)}),o.a.createElement(vo.a,{className:[Ds.a.redoButton,this.props.history.nextAvailable?"":Ds.a.disbaledIcons].join(" "),quiet:!0,variant:"action",onClick:this.props.redoContrastColors,disabled:!this.props.history.nextAvailable,icon:o.a.createElement(qc,null)})),o.a.createElement(bi,{steps:cl,cookie:h.oc.CONTRAST_CHECKER}),this.state.showContrastImageImportDialog&&o.a.createElement(ms,{onDialogClosed:this.onContrastImageDialogClosed,onImportClicked:this.onContrastImageImportClicked,fetchSuggestedTags:this.props.fetchSuggestedTags}))}}]),r}(),ul=Object(s.b)((function(e){var t=e.colorContrast,r=e.user;return $s($s({},t),{},{locale:r.locale})}),(function(e){return Object(c.b)({undoContrastColors:$c.e,redoContrastColors:$c.a,setContrastColors:$c.c,setContrastColorsHistory:$c.d,setContrastColorEditWorkflow:$c.b,fetchSuggestedTags:p.c,setEditWorkflow:f.setEditWorkflow},e)}))(ll),fl=r(878),pl=r.n(fl),hl=Object(i.e)(o.a.memo((function(e){var t=e.intl,r=e.history,n=e.featureFlags,a=[{label:t.formatMessage({id:h.Hb.COLOR_BLIND_SAFE}),value:h.Ib.COLOR_BLIND_SAFE}];return n&&n.includes(h.ob.ENABLE_ACCESSIBILITY)&&a.push({label:t.formatMessage({id:h.Hb.COLOR_CONTRAST}),value:h.Ib.COLOR_CONTRAST}),o.a.createElement("div",null,o.a.createElement("div",{className:pl.a.intentLabel},o.a.createElement(i.a,{id:"app.create.accessibility.intent.label"})),o.a.createElement("div",{className:pl.a.intentSelectorContainer},o.a.createElement(Je.a,{className:pl.a.intentSelector,id:Object(d.r)()?h.tc.STEP_ONE_CONTRASTCHECKER:h.tc.STEP_ONE_ACCESSIBLE,options:a,quiet:!0,value:Object(d.r)()?h.Ib.COLOR_CONTRAST:h.Ib.COLOR_BLIND_SAFE,onOpen:function(){var e={workflow:h.Gb.ACCESSIBILITY,subcategory:h.Gb.ACCESSIBILITY_INTENT,value:h.Ib.COLOR_BLIND_SAFE};Object(be.a)(h.Eb.INTENT_SELECTOR_CLICKED,{event:e},[h.Gb.ACCESSIBILITY])},onChange:function(e){r.push(e),Object(d.z)(e)}}),o.a.createElement(Ke.a,{placement:"bottom",trigger:["click"]},o.a.createElement("div",{className:pl.a.helpIconIntent,id:Object(d.r)()?h.tc.HELP_CONTRAST_CHECKER:h.tc.HELP_COLOR_BLIND_SAFE},o.a.createElement(He.a,{size:"S"})),o.a.createElement(ui.a,{flip:!0,dismissible:!0,selector:"#".concat(Object(d.r)()?h.tc.HELP_CONTRAST_CHECKER:h.tc.HELP_COLOR_BLIND_SAFE),title:o.a.createElement(i.a,{id:Object(d.r)()?"app.tourDialog.whatsnew.option1.contrast.checker":"app.tourDialog.accessible.step1.title"})},o.a.createElement("p",null,o.a.createElement(i.a,{id:Object(d.r)()?"app.tourDialog.contrastChecker.step1.description":"app.tourDialog.accessible.step1.description"})),o.a.createElement("a",{className:pl.a.readMoreLink,target:"_blank",href:t.formatMessage({id:"app.accessibility.colorhelpx"})},o.a.createElement(i.a,{id:"app.readmore"}))))))}))),dl=r(183),bl=r(879),ml=r.n(bl);function yl(e){return(yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gl(Object(r),!0).forEach((function(t){wl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==yl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==yl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===yl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ol(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function El(){return(El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Sl=Object(s.b)((function(e){var t=e.create,r=e.user;return vl(vl({},t),{},{locale:r.locale})}))(Object(i.e)((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ol(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ol(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(n.useState)(!1),2),r=t[0],a=t[1];return o.a.createElement("div",{className:Object(d.r)()?ml.a.contrastCheckerPageLayout:ml.a.accessibilityPageLayout},h.Nb&&o.a.createElement(dl.a,{visibleOrientation:"portrait",message:"app.rotate.landscape.device.message"}),function(e){var t=e.colorMode,r=e.showSlidersOnClick,n=e.showSliders,a=e.history,c=e.featureFlags;return o.a.createElement("div",{css:ml.a.leftPanel},o.a.createElement(hl,{history:a,featureFlags:c}),!Object(d.r)()&&o.a.createElement(Fn,null,o.a.createElement("div",{className:ml.a.showSliders,onClick:r,tabIndex:"0",onKeyDown:r},n?o.a.createElement(i.a,{id:"app.create.accessibility.hide.sliders",values:{colormode:t}}):o.a.createElement(i.a,{id:"app.create.accessibility.show.sliders",values:{colormode:t}}))))}(vl(vl({},e),{},{showSlidersOnClick:function(e){(Object(d.t)(e.keyCode)||e.keyCode===KEYBOARD_KEYCODE.ENTER)&&a(!r)},showSliders:r})),function(e){return o.a.createElement("div",{className:ml.a.middlePanel},Object(d.r)()?o.a.createElement(o.a.Fragment,null,o.a.createElement(ne.Helmet,null,o.a.createElement("title",null,e.intl.formatMessage({id:"app.create.colorcontrast.title"})),o.a.createElement("meta",{name:"description",content:e.intl.formatMessage({id:"app.create.colorcontrast.description"})}),o.a.createElement("link",{rel:"canonical",href:"https://color.adobe.com/create/color-contrast-analyzer"})),o.a.createElement(ul,e)):o.a.createElement(o.a.Fragment,null,o.a.createElement(ne.Helmet,null,o.a.createElement("title",null,e.intl.formatMessage({id:"app.create.accessibility.title"})),o.a.createElement("meta",{name:"description",content:e.intl.formatMessage({id:"app.create.accessibility.description"})}),o.a.createElement("link",{rel:"canonical",href:"https://color.adobe.com/create/color-accessibility"})),o.a.createElement(Vc,El({},e,{showSliders:e.showSliders}))))}(vl(vl({},e),{},{showSliders:r})))}))),jl=o.a.memo(Sl),Cl=r(929),kl=r(880),Rl=r.n(kl),Pl=(r(1262),r(1265)),Tl=r.n(Pl),Il=r(885),Al=r.n(Il),_l=Object(i.e)((function(e){return o.a.createElement(Tl.a,{variant:"green",style:{backgroundColor:"".concat(jo.a.oneUpNewlabelBackgroundColor),display:"inline-flex",alignItems:"center"}},o.a.createElement("div",{className:Al.a.newLabel},e.intl.formatMessage({id:"app.oneup.new"})))}));function Ml(e){return(Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xl(e){return function(e){if(Array.isArray(e))return Nl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Nl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nl(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hl(n.key),n)}}function Ll(e,t){return(Ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Bl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gl(e){return(Gl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fl(e,t,r){return(t=Hl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hl(e){var t=function(e,t){if("object"!==Ml(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Ml(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Ml(t)?t:String(t)}var Ul={create:h.Gb.COLORWHEEL,"color-wheel":h.Gb.COLORWHEEL,image:h.Gb.IMAGE,"image-gradient":"".concat(h.Gb.GRADIENT,"_").concat(h.Gb.IMAGE),"color-accessibility":"".concat(h.Gb.ACCESSIBILITY_COLORWHEEL),"color-contrast-analyzer":"".concat(h.Gb.ACCESSIBILITY_COLOR_CONTRAST)},Wl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ll(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Gl(e);if(t){var o=Gl(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Ml(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bl(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Fl(Bl(n=t.call(this,e)),"clearImageFromStore",(function(){Object(d.t)(n.props.image)||(window.URL.revokeObjectURL(n.props.image),n.props.manageImageForExtraction())})),Fl(Bl(n),"setRouteAndCreateStateOnTabSwitch",(function(e){switch(e){case 0:n.props.history.push("/".concat(n.props.locale).concat(h.rc.CREATECOLORWHEEL));break;case 1:n.props.history.push("/".concat(n.props.locale).concat(h.rc.CREATEIMAGE));break;case 2:n.props.history.push("/".concat(n.props.locale).concat(h.rc.CREATEIMAGEGRADIENT));break;case 3:n.props.history.push("/".concat(n.props.locale).concat(h.rc.CREATE_COLOR_CONTRAST));break;default:n.props.history.push("/".concat(n.props.locale).concat(h.rc.CREATECOLORWHEEL))}n.setCreateState(e)})),Fl(Bl(n),"setCreateState",(function(e){switch(Object(d.z)(n.props.history.location.pathname.split("/").slice(-1)[0]),e){case 0:n.props.setCreateInitialState({assetType:h.g.THEME,workflow:h.J.COLORWHEEL});break;case 1:n.props.setCreateInitialState({assetType:h.g.THEME,workflow:h.J.IMAGE});break;case 2:n.props.setCreateInitialState({assetType:h.g.GRADIENT,workflow:h.J.IMAGE});break;case 3:n.props.setCreateInitialState({assetType:h.g.THEME,workflow:h.J.ACCESSIBILITY});break;default:n.props.setCreateInitialState({assetType:h.g.THEME,workflow:h.J.COLORWHEEL})}})),n.ingestWorkflow=[h.I],n.setCreateState(n.props.selectedIndex),n}return function(e,t,r){t&&Dl(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentWillUnmount",value:function(){document.onselectstart=function(){return!0},ha.a.clearQueue(),this.clearImageFromStore(),this.props.cclibraryUpdateThemeFlow({cclibraryThemeUpdateLibId:null,cclibraryThemeUpdateAssetId:null}),this.props.setEditWorkflow(!1),this.props.isLoggedIn&&this.props.clearLibraries()}},{key:"render",value:function(){var e=this.props.intl.formatMessage({id:"app.create.colorWheelLabel"}),t=this.props.intl.formatMessage({id:h.Jb?"app.create.extractFromImageLabel":"app.title.image"}),r=this.props.intl.formatMessage({id:"app.create.extractGradientFromImageLabel"}),n=o.a.createElement("div",{className:Rl.a.tabWithLabel},this.props.intl.formatMessage({id:"app.create.accessibility.label"}),o.a.createElement("div",{className:Rl.a.label},o.a.createElement(_l,null))),a=Ul[this.props.history.location.pathname.split("/").slice(-1)[0]],i=h.Mb?h.S:h.Nb?h.T:h.R;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Rl.a.create},o.a.createElement("div",{className:Rl.a.resetMinWidth,style:a==="".concat(h.Gb.GRADIENT,"_").concat(h.Gb.IMAGE)&&-1!==this.props.activeSwatch?{overflowX:"hidden"}:{}},o.a.createElement(u.TabView,{className:Rl.a.createContainer,onSelect:this.setRouteAndCreateStateOnTabSwitch,selectedIndex:this.props.selectedIndex},o.a.createElement(l.Tab,{label:e},o.a.createElement(ne.Helmet,null,o.a.createElement("title",null,this.props.intl.formatMessage({id:"app.create.wheel.title"})),o.a.createElement("meta",{name:"description",content:this.props.intl.formatMessage({id:"app.create.wheel.description"})}),o.a.createElement("link",{rel:"canonical",href:"https://color.adobe.com/create/color-wheel"})),o.a.createElement(uo,{ingestWorkflow:this.ingestWorkflow,radius:i,history:this.props.history})),o.a.createElement(l.Tab,{label:t},o.a.createElement(ne.Helmet,null,o.a.createElement("title",null,this.props.intl.formatMessage({id:"app.create.image.title"})),o.a.createElement("meta",{name:"description",content:this.props.intl.formatMessage({id:"app.create.image.description"})})),o.a.createElement(ei,{ingestWorkflow:this.ingestWorkflow,clearImageFromStore:this.clearImageFromStore})),(h.Lb||!h.Mb)&&o.a.createElement(l.Tab,{label:r},o.a.createElement(ne.Helmet,null,o.a.createElement("title",null,this.props.intl.formatMessage({id:"app.create.gradinet.image.title"})),o.a.createElement("meta",{name:"description",content:this.props.intl.formatMessage({id:"app.create.gradeint.image.description"})})),o.a.createElement(pa,{ingestWorkflow:this.ingestWorkflow,clearImageFromStore:this.clearImageFromStore})),!h.Mb&&o.a.createElement(l.Tab,{label:n},o.a.createElement(jl,{ingestWorkflow:this.ingestWorkflow,history:this.props.history,featureFlags:this.props.featureFlags})))),o.a.createElement(re,{ingestWorkflow:[].concat(xl(this.ingestWorkflow),[a])})))}}]),r}(),Vl=Object(s.b)((function(e){var t=e.user,r=e.create;return{locale:t.locale,featureFlags:t.featureFlags,isLoggedIn:t.isLoggedIn,activeSwatch:r.activeSwatch,image:r.image,assetType:r.assetType}}),(function(e){return Object(c.b)({setSwatchesAndMarkers:f.setSwatchesAndMarkers,manageImageForExtraction:f.manageImageForExtraction,setCreateInitialState:f.setCreateInitialState,setEditWorkflow:f.setEditWorkflow,clearLibraries:Cl.a,cclibraryUpdateThemeFlow:p.a,manageTourRendering:di.e},e)}))(Wl),Yl=Object(i.e)(Vl),zl=r(128),Kl=r(124);function Xl(e){return(Xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zl(){return(Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ql(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jl(n.key),n)}}function Jl(e){var t=function(e,t){if("object"!==Xl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Xl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Xl(t)?t:String(t)}function Ql(e,t){return(Ql=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $l(e){return($l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ql(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$l(e);if(t){var o=$l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Xl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.apply(this,arguments)}return function(e,t,r){t&&ql(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){var e=this;return this.props.featureFlagsFetchStatus!==h.h.COMPLETED_SUCCESSFULLY?o.a.createElement(Kl.a,{style:{position:"absolute"},wrapperStyle:{height:"100vh"},size:"L"}):o.a.createElement(a.d,null,o.a.createElement(a.b,{exact:!0,path:"(".concat(this.props.match.path,")"),render:function(e){return e.history.replace(Object(d.D)(e.match.url,"color-wheel")),""}}),o.a.createElement(a.b,{path:"".concat(Object(d.D)(this.props.match.path,"color-wheel")),render:function(e){return o.a.createElement(Yl,Zl({selectedIndex:0},e))}}),o.a.createElement(a.b,{path:Object(d.D)(this.props.match.path,"image"),render:function(e){return o.a.createElement(Yl,Zl({selectedIndex:1},e))}}),h.Lb||!h.Mb?o.a.createElement(a.b,{path:Object(d.D)(this.props.match.path,"image-gradient"),render:function(e){return o.a.createElement(Yl,Zl({selectedIndex:2},e))}}):o.a.createElement(a.b,{path:Object(d.D)(this.props.match.path,"image-gradient"),component:function(){return o.a.createElement(zl.a,{pageDescription:"app.create.extractGradient.pageDescription.h1"})}}),h.Mb?o.a.createElement(a.b,{path:Object(d.D)(this.props.match.path,"color-accessibility"),component:function(){return o.a.createElement(zl.a,{pageDescription:"app.create.accessibilityTools.pageDescription.h1"})}}):o.a.createElement(a.b,{path:Object(d.D)(this.props.match.path,"color-accessibility"),render:function(e){return o.a.createElement(Yl,Zl({selectedIndex:3},e))}}),h.Mb?o.a.createElement(a.b,{path:Object(d.D)(this.props.match.path,"color-contrast-analyzer"),component:function(){return o.a.createElement(zl.a,{pageDescription:"app.create.accessibilityTools.pageDescription.h1"})}}):this.props.featureFlags.includes(h.ob.ENABLE_ACCESSIBILITY)&&o.a.createElement(a.b,{path:Object(d.D)(this.props.match.path,"color-contrast-analyzer"),render:function(e){return o.a.createElement(Yl,Zl({selectedIndex:3},e))}}),o.a.createElement(a.b,{path:Object(d.D)(this.props.match.path,"color-wheel-game"),render:function(t){return o.a.createElement(a.a,{to:"/".concat(e.props.locale).concat(h.rc.COLORGAME)})}}),o.a.createElement(a.b,{component:function(){return o.a.createElement(zl.a,{type:404})}}))}}]),r}();t.default=eu},913:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return b})),r.d(t,"g",(function(){return m})),r.d(t,"f",(function(){return y})),r.d(t,"c",(function(){return g})),r.d(t,"e",(function(){return v})),r.d(t,"j",(function(){return w})),r.d(t,"h",(function(){return O})),r.d(t,"i",(function(){return E})),r.d(t,"d",(function(){return S}));var n=r(2),o=r(928),a=r(933),i=r(75),c=r(1),s=r(30),l=r(3);function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e){var t=e.save,r=e.create,n={};return n.name=t.themeName?t.themeName:c.X,n.tags=t.tagsToSave,n.swatches=r.order.map((function(e){return Object(s.m)(r.swatches[e])})),n.harmony={baseSwatchIndex:r.order.indexOf(r.baseColorIndex),mood:r.colorMood,rule:r.harmonyRule},r.workflow===c.J.ACCESSIBILITY&&r.isAccessible&&(n.accessibilityData={colorBlindSafe:r.isAccessible}),n.colorMode=r.colorMode,n}function h(e){var t=e.save,r=e.colorContrast,n={};return n.name=t.themeName,n.tags=t.tagsToSave,n.colorMode=c.V,n.swatches=[Object(s.m)(r.foregroundSwatch),Object(s.m)(r.backgroundSwatch)],n.harmony={baseSwatchIndex:0,mood:"CUSTOM",rule:"CUSTOM"},n.accessibilityData={wcagLevel:Object(l.o)(r.contrastRatio)},n}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n.b,payload:e}}function b(){return{type:n.j}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n.Y,payload:e}}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n.U,payload:e}}function g(e){return function(t,r){var o=config("AUTOTAG_ENDPOINT").basePath,a=config("AUTOTAG_ENDPOINT").api,s=r(),f=s.create,p=s.colorContrast,h=[],d=new URLSearchParams,b=function(e){var t=e.user,r={"Content-Type":"application/json"};return t.isLoggedIn&&(r.Authorization="Bearer ".concat(t.token)),r}(r()),m=[];e===c.J.COLOR_CONTRAST?(m.push(p.foregroundSwatch),m.push(p.foregroundSwatch),m.push(p.backgroundSwatch),m.push(p.backgroundSwatch),m.push(p.backgroundSwatch)):m=f.swatches,m.forEach((function(e){return h.push([e.rgb.r/c.z.MAX.RGB.R,e.rgb.g/c.z.MAX.RGB.G,e.rgb.b/c.z.MAX.RGB.B])}));var y="".concat(o).concat(a);return d.append("q",JSON.stringify({values:h.concat.apply([],h)})),y="".concat(o).concat(a,"?").concat(d.toString()),Object(i.c)(y,b).then((function(r){var o=r.tags.map((function(e){return Object(l.d)(e)}));e===c.J.ACCESSIBILITY?o=[].concat(u(c.u),u(o)).slice(0,5):e===c.J.COLOR_CONTRAST&&(o=[].concat(u(c.w),u(o)).slice(0,5)),t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:n.Z,payload:e}}(o))}))}}function v(e,t){switch(e){case c.g.GRADIENT:return function(r,n){var a=n().save,i=function(e){var t=e.save,r=e.create,n={};return n.name=t.themeName?t.themeName:c.U,n.interpolation=c.ab.interpolation,n.angle=c.ab.angle,n.aspectRatio=c.ab.aspectRatio,n.type=c.ab.type,n.stops=[],r.order.forEach((function(e){var t=r.swatches[e],o=[{mode:c.V,value:{r:t.rgb.r,g:t.rgb.g,b:t.rgb.b}}];n.stops.push({color:o,offset:t.offset,midpoint:t.midpoint})})),n}(n());return r(Object(o.f)("",{gradient:i},e,t)).then((function(){return a.library.name})).catch((function(e){throw console.log(e),e}))};default:return function(r,n){var i=n(),s=i.save,l=i.user,u=t===c.J.COLOR_CONTRAST?h(n()):p(n()),f=r(Object(o.f)("",{theme:u},e,t));return s.publishToKuler&&l.isAllowedToPublish?(u.libraryid=s.library.id,f.then((function(e){var t=e.response,n={};return n.id=t.elements[0].id,r(Object(a.f)(u,n)),s.library.name})).catch((function(e){throw console.error(e),e}))):f.then((function(){return s.library.name})).catch((function(e){throw console.error(e),e}))}}}function w(e,t){return function(r,n){var i=n().save,s=t===c.J.COLOR_CONTRAST?h(n()):p(n());s.cclibraryThemeUpdateLibId=i.cclibraryThemeUpdateLibId,s.cclibraryThemeUpdateAssetId=i.cclibraryThemeUpdateAssetId;var l=r(Object(o.h)(e,s));return i.publishToKuler?(s.libraryid=i.library.id,l.then((function(e){var t=e.response;return r(Object(a.f)(s,t)),i.library.name})).catch((function(e){return console.error(e)}))):l.then((function(){return i.library.name})).catch((function(e){return console.error(e)}))}}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n.cb,payload:e}}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:n.lb,payload:e}}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:n.A,payload:e}}},914:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"h",(function(){return i})),r.d(t,"f",(function(){return c})),r.d(t,"g",(function(){return s})),r.d(t,"d",(function(){return l})),r.d(t,"a",(function(){return u})),r.d(t,"e",(function(){return f})),r.d(t,"j",(function(){return p})),r.d(t,"m",(function(){return h})),r.d(t,"n",(function(){return d})),r.d(t,"k",(function(){return b})),r.d(t,"i",(function(){return m})),r.d(t,"l",(function(){return y}));var n=r(2);function o(e,t,r){return{type:n.i,payload:r,srcName:t,criteria:e}}function a(e,t,r){return{type:n.k,payload:r,srcName:t,criteria:e}}function i(e,t,r){return{type:n.jb,payload:r,srcName:t,criteria:e}}function c(e,t,r){return{type:n.hb,payload:r,srcName:t,criteria:e}}function s(e,t,r){return{type:n.ib,payload:r,srcName:t,criteria:e}}function l(e,t,r){return{type:n.y,payload:r,srcName:t,criteria:e}}function u(e,t,r){return{type:n.a,payload:r,srcName:t,criteria:e}}function f(e,t,r){return{type:n.db,criteria:e,payload:r,srcName:t}}function p(e,t,r){return{type:n.nb,criteria:e,payload:r,srcName:t}}function h(e,t,r){return function(o){return o({type:n.qb,srcName:t,criteria:e,payload:r})}}function d(e,t,r){return{type:n.rb,payload:r,srcName:t,criteria:e}}function b(e,t,r){return{type:n.ob,payload:r,srcName:t,criteria:e}}function m(e,t,r){return{type:n.mb,payload:r,srcName:t,criteria:e}}function y(e){return{type:n.pb,payload:e,criteria:e.criteria,srcName:e.srcName}}},915:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(3),i=r(1),c=r(22),s=r(747),l=r.n(s);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function b(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===u(t)?t:String(t)}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).onDragStart=n.onDragStart.bind(y(n)),n.onClick=n.onClick.bind(y(n)),n.onDrop=n.onDrop.bind(y(n)),n}return function(e,t,r){t&&d(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onClick",value:function(){this.props.active||this.props.setActiveSwatch(this.props.id)}},{key:"onDragStart",value:function(e){e.dataTransfer.setData("draggedSwatchId",this.props.id),e.dataTransfer.dropEffect="copy",e.dataTransfer.effectAllowed="move";var t={workflow:Object(a.e)(this.props.ingestWorkflow[0]),subcategory:i.Gb.SWATCH};Object(c.a)(i.Eb.SWATCH_DRAG,{event:t},this.props.ingestWorkflow)}},{key:"onDrop",value:function(e){e.preventDefault();var t=parseInt(e.dataTransfer.getData("draggedSwatchId"),10),r=this.props.id;Object(a.r)()?this.props.changeSwatchesOrder():Object(a.t)(t)||isNaN(t)||Object(a.t)(r)||t===r||this.props.changeSwatchesOrder({draggedSwatchId:t,destinationSwatchId:r})}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({background:""===this.props.hex?"":"#".concat(this.props.hex)},this.props.styles);return o.a.createElement("div",f({className:[this.props.className,l.a.swatch].join(" "),style:e,onClick:this.props.onClick},this.props.draggable&&{draggable:this.props.draggable,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onDrop:this.onDrop,onClick:this.onClick}),this.props.children)}}]),r}();v.defaultProps={active:!1,className:l.a.swatch,draggable:!1,ingestWorkflow:[i.I]},t.a=v},918:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return y})),r.d(t,"j",(function(){return g})),r.d(t,"o",(function(){return v})),r.d(t,"d",(function(){return w})),r.d(t,"l",(function(){return O})),r.d(t,"f",(function(){return E})),r.d(t,"k",(function(){return S})),r.d(t,"n",(function(){return j})),r.d(t,"m",(function(){return C})),r.d(t,"i",(function(){return k})),r.d(t,"p",(function(){return R})),r.d(t,"x",(function(){return P})),r.d(t,"u",(function(){return T})),r.d(t,"t",(function(){return I})),r.d(t,"q",(function(){return A})),r.d(t,"h",(function(){return _})),r.d(t,"r",(function(){return M})),r.d(t,"g",(function(){return x})),r.d(t,"w",(function(){return N})),r.d(t,"v",(function(){return D})),r.d(t,"s",(function(){return L})),r.d(t,"e",(function(){return B}));var n=r(2),o=r(1);function a(e){return{type:n.p,criteria:e}}var i=r(933),c=r(946),s=r(947),l=r(928),u=r(914),f=r(75),p=r(3);function h(e){return e.themes=[],e.result_sets&&e.result_sets[0]&&e.result_sets[0].items&&(e.themes=e.result_sets[0].items,delete e.result_sets[0].items),e}function d(e){var t=e.user,r={"x-api-key":config("CLIENT_ID"),"x-product":config("UNIVERSAL_SEARCH_ENDPOINT").xProduct,"x-product-location":config("UNIVERSAL_SEARCH_ENDPOINT").xProductLocation};return t.isLoggedIn&&(r.Authorization="Bearer ".concat(t.token)),r}function b(e,t){return{type:n.c,pageName:e,payload:t}}function m(e,t){return{type:n.d,pageName:e,payload:t}}function y(e,t){return{type:n.f,pageName:e,payload:t}}function g(e,t){return function(r,n){var i=n().criteriaDataCollection;Object(p.t)(i[e])&&r(a(e)),Object(p.t)(t.curatedDataUrl)||r(function(e,t){return function(r,n){var a=n().criteriaDataCollection;if(!Object(p.t)(a[e])&&!Object(p.C)(a[e].behance.fetchStatus)||!Object(p.C)(a[e].kuler.fetchStatus)||!Object(p.C)(a[e].stock.fetchStatus))return r(Object(u.h)(e,o.i)),r(Object(u.h)(e,o.Qb)),r(Object(u.h)(e,o.zc)),Object(f.c)(t.endPoint).then((function(t){var n=t,a={themes:[]},i={themes:[]},c={themes:[]};n&&n.files&&(i.themes=n.files.filter((function(e){return e.source===o.i})),a.themes=n.files.filter((function(e){return e.source===o.Qb})),c.themes=n.files.filter((function(e){return e.source===o.zc})),r(Object(u.d)(e,o.i,i)),r(Object(u.d)(e,o.Qb,a)),r(Object(u.d)(e,o.zc,c))),r(Object(u.f)(e,o.i)),r(Object(u.f)(e,o.Qb)),r(Object(u.f)(e,o.zc))})).catch((function(t){console.log("error ".concat(t));var n=o.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(n=t.response.status),r(Object(u.g)(e,o.i,n)),r(Object(u.g)(e,o.Qb,n)),r(Object(u.g)(e,o.zc,n))}))}}(e,{endPoint:t.curatedDataUrl}))}}function v(e,t,r,n){return function(b,m){var y=m().criteriaDataCollection;Object(p.t)(y[e])&&b(a(e)),t.forEach((function(t){t!==o.i||Object(p.t)(r.behanceUrl)?t!==o.Qb||Object(p.t)(r.kulerUrl)?t!==o.zc||Object(p.t)(r.stockUrl)?t!==o.p||Object(p.t)(r.ccLibraryUrl)?t!==o.Pc||Object(p.t)(r.universalSearchUrl)||b(function(e,t){return function(r,n){return r(Object(u.h)(e,o.Pc)),Object(f.f)(t.endPoint,d(n()),t.formData).then((function(t){var n=h(t);r(Object(u.d)(e,o.Pc,n)),r(Object(u.f)(e,o.Pc))})).catch((function(t){Object(p.w)("fetchUniversalThemeList: ".concat(t));var n=o.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(n=t.response.status),console.log("error ".concat(t)),r(Object(u.g)(e,o.Pc,n))}))}}(e,{endPoint:r.universalSearchUrl,formData:r.formData})):b(Object(l.e)(e,{endPointTheme:r.ccLibraryUrl})):b(Object(c.c)(e,{endPoint:r.stockUrl})):b(Object(i.d)(e,{endPoint:r.kulerUrl},n)):b(Object(s.c)(e,{endPoint:r.behanceUrl}))}))}}function w(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(a,l){var u={};return t.includes(o.i)&&!Object(p.t)(e.behanceUrl)&&(u.BEHANCE=Object(s.d)(e.behanceUrl)),t.includes(o.Qb)&&!Object(p.t)(e.kulerUrl)&&(u.KULER=Object(i.e)(e.kulerUrl,l(),n)),t.includes(o.zc)&&!Object(p.t)(e.stockUrl)&&(u.STOCK=Object(c.d)(e.stockUrl)),t.includes(o.Pc)&&!Object(p.t)(e.universalSearchUrl)&&(u.UNIVERSAL_SEARCH=function(e,t,r){return Object(f.f)(e,d(r()),t).then((function(e){return h(e).themes.length>0})).catch((function(e){return Object(p.w)("isDataAvailableForUniversalSearch: ".concat(e)),!1}))}(e.universalSearchUrl,r.universalSearchFormData,l)),Promise.all(Object.keys(u).map((function(e){return u[e]})))}}function O(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,l){var u=l().criteriaDataCollection;Object(p.t)(u[e])&&i(a(e)),t.forEach((function(t){t!==o.i||Object(p.t)(r.behanceUrl)?t!==o.zc||Object(p.t)(r.stockUrl)||i(Object(c.c)(e,{endPoint:r.stockUrl})):i(Object(s.c)(e,{endPoint:r.behanceUrl},n))}))}}function E(e,t){return function(r){t.forEach((function(t){t===o.i?r(Object(s.a)(e)):t===o.zc?r(Object(c.a)(e)):t===o.Qb&&r(Object(i.a)(e))}))}}function S(e,t){return function(r,n){var o=n().criteriaDataCollection;Object(p.t)(o[e])&&r(a(e)),r(Object(s.b)(e,{endPoint:t.behanceUrl})),r(Object(c.b)(e,{}))}}function j(e,t){return function(r,n){var o=n().criteriaDataCollection;Object(p.t)(t.kulerUrl)||(Object(p.t)(o[e])&&r(a(e)),r(Object(i.c)(e,{endPoint:t.kulerUrl})))}}function C(e,t,r){return function(n,o){var i=o().criteriaDataCollection;return Object(p.t)(i[e])&&n(a(e)),n(Object(l.d)(e,{firstEndPoint:t,secondEndPoint:r}))}}function k(e,t,r){return function(n,o){var i=o().criteriaDataCollection;return Object(p.t)(i[e])&&n(a(e)),n(Object(l.c)(e,{url:t,signal:r}))}}function R(e,t){return{type:n.q,pageName:e,payload:t}}function P(e,t){return{type:n.sb,pageName:e,payload:t}}function T(e,t){return function(r){if(t.source===o.Qb)return r(Object(i.h)(e,t))}}function I(e,t,r){return function(n){switch(r){case o.g.GRADIENT:return n(Object(l.g)(t));default:return n(Object(l.h)(e,t))}}}function A(e,t){return function(r){return r(Object(i.f)(e,t))}}function _(e,t){return function(r){switch(t.source){case o.p:return r(Object(l.b)(e,t));case o.Qb:return r(Object(i.b)(e,t))}}}function M(e,t){return function(r){return r(Object(l.f)(e,t,o.g.THEME))}}function x(e){return function(t){return t(Object(l.a)(e))}}function N(e,t,r){return function(n){switch(t){case o.p:n(Object(l.j)(e,r))}}}function D(e,t,r){return function(n){switch(t){case o.p:n(Object(l.i)(e,r))}}}function L(e,t){return function(r){return r(Object(i.g)(e,t))}}function B(e){return function(t){return t(a(e))}}},920:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"e",(function(){return a})),r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return c})),r.d(t,"b",(function(){return s}));var n=r(2);function o(e){return{type:n.H,payload:e}}function a(){return{type:n.kb}}function i(){return{type:n.z}}function c(e){return{type:n.I,payload:e}}function s(e){return{type:n.J,payload:e}}},922:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(0),o=r(29),a=r(3),i=r(929),c=function(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object(o.e)((function(e){return e.user.IMSReady})),c=Object(o.e)((function(e){return e.user.isLoggedIn})),s=Object(o.e)((function(e){return e.libraries})),l=Object(o.e)((function(e){return e.create.isEditWorkflow})),u=Object(o.e)((function(e){return e.colorContrast.isEditWorkflow})),f=l||u,p=Object(o.e)((function(e){return e.criteriaDataCollection[JSON.stringify(s.criteria[0])]})),h=Object(o.d)(),d=!Object(a.t)(p)&&Object(a.b)(p.cclibrary.fetchStatus),b=i.f(0,t),m=[],y="";return Object(n.useEffect)((function(){r&&c&&(h(i.g()),f&&h(i.c()))}),[r,c,f]),d&&(m=p.cclibrary.themeList.slice().sort((function(e,t){return new Date(t.editedAt)-new Date(e.editedAt)})),e||(m=m.filter((function(e){return!e.readOnly}))),m=m.map((function(e){return{name:e.name,id:e.id}}))),{libraries:m,haveLibrariesBeenFetched:d,fetchData:function(e,t){if(r&&c)return h(i.b(e,t)).then((function(e){y=e._links&&e._links.next?i.e(e._links.next.href):null;var t=e.themes.map((function(e){return{name:e.name,id:e.library_urn}})),r={};return r.listData=t,r.hrefNext=y,r}))},initialLibFetchUrl:b}}},923:function(e,t,r){"use strict";var n=r(0),o=r(29),a=r(913),i=r(1),c=r(3),s=function(e){return!(Object(c.t)(e)||0===e.length)},l=function(e,t,r,n){var o="",a="";switch(e){case i.g.THEME:o=r({id:"app.savepanel.enterthemename"}),a=function(e,t){var r="";switch(e){case i.J.ACCESSIBILITY:r=i.O;break;case i.J.IMAGE:r=s(t)?"color theme_".concat(t.split(".")[0]):i.X;break;case i.J.COLOR_CONTRAST:r=i.v;break;default:r=i.X}return r}(t,n);break;case i.g.GRADIENT:o=r({id:"app.savepanel.entergradientname"}),a=s(n)?"gradient_".concat(n.split(".")[0]):i.U}return{placeholder:o,defaultAssetName:a}};t.a=function(e,t,r){var c=Object(o.d)(),s=r?i.J.COLOR_CONTRAST:Object(o.e)((function(e){return e.create.workflow})),u=Object(o.e)((function(e){return e.create.imageName})),f=l(e,s,t.formatMessage,u),p=f.placeholder,h=f.defaultAssetName,d=function(e,t){c(a.h({themeName:e,isUserEnteredName:t}))},b=Object(o.e)((function(e){return e.save.isUserEnteredName})),m=Object(o.e)((function(e){return e.save.themeName}));return Object(n.useEffect)((function(){b&&""!==m||d(h,!1)}),[s,e]),{assetName:m,updateAssetName:d,defaultAssetName:h,placeholder:p}}},924:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return c}));var n=r(1),o=r(30),a=function(e){var t=[],r={};return e.forEach((function(e,o){var a={offset:e.offset,R:parseInt(e.rgb.r*n.z.MAX.RGB.R,10),G:parseInt(e.rgb.g*n.z.MAX.RGB.G,10),B:parseInt(e.rgb.b*n.z.MAX.RGB.B,10)};0===o||e.midpoint!==n.Z&&t.push({offset:"".concat(r.offset+(e.offset-r.offset)*e.midpoint),R:Math.round("".concat((r.R+a.R)/2)),G:Math.round("".concat((r.G+a.G)/2)),B:Math.round("".concat((r.B+a.B)/2))}),r=a,t.push(a)})),t},i=function(e){var t="",r="",a=0;return e.forEach((function(e,i){var c="rgba(".concat(Math.round(e.rgb.r*n.z.MAX.RGB.R),", ").concat(Math.round(e.rgb.g*n.z.MAX.RGB.G),", ").concat(Math.round(e.rgb.b*n.z.MAX.RGB.B),", 1)"),s=Object(o.v)("rgb",Object(o.l)([e.rgb.r*n.z.MAX.RGB.R,e.rgb.g*n.z.MAX.RGB.G,e.rgb.b*n.z.MAX.RGB.B]));if(0===i)t=t.concat("".concat(c," ").concat(100*e.offset,"%")),r=r.concat("#".concat(s," ").concat(100*e.offset,"%")),a=100*e.offset;else{var l=(100*e.offset-a)*e.midpoint,u=a+l;t=t.concat(", ".concat(u,"%, ").concat(c," ").concat(100*e.offset,"%")),r=r.concat(", ".concat(u,"%, #").concat(s," ").concat(100*e.offset,"%")),a=100*e.offset}})),{linearGradientDataRGBA:t,linearGradientDataHEX:r}},c=function(e,t){var r=a(e),n='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'.concat(t.width,'" height="').concat(t.height,'">\n');return n+="<defs>\n",n+='<linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%"> ',r.forEach((function(e,t){n+='<stop offset="'.concat(100*e.offset,'%" style="stop-color:rgb(').concat(e.R,",").concat(e.G,",").concat(e.B,');stop-opacity:1" /> ')})),n+="</linearGradient>\n",n+="</defs>\n",n+='<rect width="'.concat(t.width,'" height="').concat(t.height,'" fill="url(#gradient)"/>\n'),n+="</svg>"}},925:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(3),i=r(1),c=r(748),s=r.n(c);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var o=h(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,r){(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(p(n=t.call(this,e)),"setResetButtonState",(function(e){n.currentMarkerMoved&&(n.currentMarkerMoved=e,n.props.shouldResetBeDisabled(e))})),n.mouseDown=n.mouseDown.bind(p(n)),n.mouseUp=n.mouseUp.bind(p(n)),n.touchStart=n.touchStart.bind(p(n)),n.touchEnd=n.touchEnd.bind(p(n)),n.updateMarkerPosition=n.updateMarkerPosition.bind(p(n)),n.getMarkerPosition=n.getMarkerPosition.bind(p(n)),n.currentMarkerMoved=!1,n}return function(e,t,r){t&&u(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"getMarkerPosition",value:function(e){var t=e;Object(a.t)(e.touches)||0===e.touches.length||(t=e.touches[0]);var r=this.marker.offsetLeft,n=this.marker.offsetTop;this.hitOffset={x:t.pageX-r,y:t.pageY-n,diameter:1,markerRadius:Object(a.l)()},this.props.setActiveSwatch(this.props.id)}},{key:"mouseDown",value:function(e){return!Object(a.s)(e)&&(this.getMarkerPosition(e),document.body.addEventListener("mousemove",this.updateMarkerPosition,{passive:!0}),document.body.addEventListener("mouseup",this.mouseUp),Object(a.A)(!0),!0)}},{key:"touchStart",value:function(e){this.getMarkerPosition(e),document.body.addEventListener("touchmove",this.updateMarkerPosition,{passive:!0}),document.body.addEventListener("touchend",this.touchEnd,{passive:!0}),Object(a.A)(!0)}},{key:"updateMarkerPosition",value:function(e){var t=e;return Object(a.t)(e.touches)||0===e.touches.length||(t=e.touches[0]),{x:(t.pageX-this.hitOffset.x+this.hitOffset.markerRadius)/this.hitOffset.diameter,y:(t.pageY-this.hitOffset.y+this.hitOffset.markerRadius)/this.hitOffset.diameter}}},{key:"mouseUp",value:function(e){document.body.removeEventListener("mousemove",this.updateMarkerPosition),document.body.removeEventListener("mouseup",this.mouseUp),Object(a.A)(!1)}},{key:"touchEnd",value:function(e){document.body.removeEventListener("touchmove",this.updateMarkerPosition),document.body.removeEventListener("touchend",this.touchEnd),Object(a.A)(!1)}},{key:"children",value:function(){return""}},{key:"render",value:function(){var e=this,t=this.props.id===this.props.activeSwatch?s.a.activeMarker:s.a.marker;switch(this.props.assetType){case i.g.GRADIENT:t=s.a.gradientMarker}if(!Object(a.t)(this.props.markerType))switch(this.props.markerType){case i.vb.MIDPOINT:t=s.a.gradientMidpointMarker;break;case i.vb.COLORSTOP:t=this.props.isCreate?[this.props.order[this.props.id]===this.props.activeSwatch?s.a.gradientCreateColorStopMarkerActive:s.a.gradientCreateColorStopMarker]:s.a.gradientOneUpColorStopMarker}return o.a.createElement("div",{className:t,onMouseDown:this.mouseDown,onTouchStart:this.touchStart,onMouseOver:this.mouseOver,onMouseOut:this.mouseOut,ref:function(t){e.marker=t}},this.children())}}]),r}();t.a=b},928:function(e,t,r){"use strict";r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return b})),r.d(t,"a",(function(){return m})),r.d(t,"f",(function(){return O})),r.d(t,"g",(function(){return S})),r.d(t,"h",(function(){return j})),r.d(t,"b",(function(){return C})),r.d(t,"j",(function(){return k})),r.d(t,"i",(function(){return R}));var n=r(1),o=r(75),a=r(3),i=r(914),c=r(121),s=r(30),l=r(49),u=r(741);function f(e){var t=e.user,r={"x-api-key":config("CLIENT_ID")};return t.isLoggedIn&&(r.Authorization="Bearer ".concat(t.token)),r}function p(e,t,r,o){var a=function(e){return e.themes=e.libraries,delete e.libraries,e}(e);a.oldThemes=t,o(Object(i.d)(r,n.p,a)),o(Object(i.f)(r,n.p))}function h(e,t){return function(r,c){var s=c(),l=s.criteriaDataCollection;if(!Object(a.t)(l[e]))return r(Object(i.h)(e,n.p)),Object(o.d)(t.url,f(s),t.signal).then((function(t){return p(t,l[e].cclibrary.themeList,e,r),c(),t})).catch((function(t){Object(a.w)("fetchAllCCLibraries: ".concat(t));var o=n.h.COMPLETED_WITH_GENERIC_ERROR;return t.response&&t.response.status&&(o=t.response.status),console.log("error ".concat(t)),r(Object(i.g)(e,n.p,o)),[]}))}}function d(e,t){return function(r,c){var s=c(),l=s.criteriaDataCollection;if(!Object(a.t)(l[e]))return r(Object(i.h)(e,n.p)),Object(o.c)(t.firstEndPoint,f(s)).then((function(t){return p(t,l[e].cclibrary.themeList,e,r),c().criteriaDataCollection[e].cclibrary.themeList})).then((function(n){return Object(o.c)(t.secondEndPoint,f(s)).then((function(t){return p(t,n,e,r),c().criteriaDataCollection[e].cclibrary.themeList}))})).catch((function(t){Object(a.w)("fetchCCLibraries: ".concat(t));var o=n.h.COMPLETED_WITH_GENERIC_ERROR;return t.response&&t.response.status&&(o=t.response.status),console.log("error ".concat(t)),r(Object(i.g)(e,n.p,o)),[]}))}}function b(e,t){return function(r,c){var s=c(),l=s.criteriaDataCollection;if(s.user,!Object(a.t)(l[e])&&l[e].cclibrary.fetchStatus!==n.h.REQUESTED)return r(Object(i.h)(e,n.p)),function(e,t){return Object(o.c)(e,t).then((function(e){return e.elements})).catch((function(e){return Object(a.w)("fetchCCLibraryAssets: ".concat(e)),[]}))}(t.endPointTheme,f(s)).then((function(t){var o=[],a=[];t.forEach((function(e){switch(e.type){case n.Ec:o.push(e);break;case n.tb:n.Mb||a.push(e)}}));var c={themes:o,oldThemes:l[e].cclibrary.themeList,gradients:a};r(Object(i.f)(e,n.p)),r(Object(i.d)(e,n.p,c))})).catch((function(t){Object(a.w)("fetchCCLibraryThemeList: ".concat(t));var o=n.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(o=t.response.status),console.log("error ".concat(t)),r(Object(i.g)(e,n.p,o))}))}}function m(e){return function(t,r){var c=f(r()),s=r().libraries.criteria,l=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,u=config("CCLIBRARIES_ENDPOINT").librariesApi,p="".concat(l).concat(u);return c=Object.assign(c,{Accept:"application/json","Content-Type":"application/json"}),Object(o.e)(p,c,{name:e.libraryName}).then((function(e){var r={themes:[e]};return s.forEach((function(e){return t(Object(i.a)(JSON.stringify(e),n.p,r))})),{name:e.name,id:e.library_urn}})).catch((function(e){Object(a.w)("createNewLibrary: ".concat(e)),console.log("error ".concat(e))}))}}function y(e){var t=e.criteriaDataCollection,r=e.libraries,o=(e.user,r.criteria),a=null;return(void 0===t[JSON.stringify(o[0])]?[]:t[JSON.stringify(o[0])].cclibrary.themeList.slice().reverse()).some((function(e){return!!(isNaN(e.totalElements)||e.totalElements<n.r)&&(a=e,!0)})),a}function g(e){var t={};return Object(c.a)(e)&&(e.isSpotColor?t.type="spot":t.type="process",t.spotColorName="PANTONE ".concat(e.pantone)),t}function v(e){var t=[],r=e.swatches,o=e.colorMode;return r.forEach((function(e){var r=[],a={};o.toUpperCase()!==n.V&&r.push(function(e,t){var r={};switch(t){case n.x.CMYK:r.mode=n.y.CMYK,r.value={c:parseInt(Math.round(e.cmyk.c*n.z.MAX.CMYK.C),10),m:parseInt(Math.round(e.cmyk.m*n.z.MAX.CMYK.M),10),y:parseInt(Math.round(e.cmyk.y*n.z.MAX.CMYK.Y),10),k:parseInt(Math.round(e.cmyk.k*n.z.MAX.CMYK.K),10)};break;case n.x.HSV:r.mode=n.y.HSB,r.value={h:parseInt(Math.round(e.hsv.h*n.z.MAX.HSV.H),10),s:parseInt(Math.round(e.hsv.s*n.z.MAX.HSV.S),10),b:parseInt(Math.round(e.hsv.v*n.z.MAX.HSV.V),10)};break;case n.x.LAB:var o=Object(s.e)([e.lab.l,e.lab.a,e.lab.b]);r.mode=n.y.LAB,r.value={l:Math.round(o[0]),a:Math.round(o[1]),b:Math.round(o[2])}}return Object.assign(r,g(e)),r}(e,o)),a.mode=n.y.RGB,a.value={r:parseInt(Math.round(e.rgb.r*n.z.MAX.RGB.R),10),g:parseInt(Math.round(e.rgb.g*n.z.MAX.RGB.G),10),b:parseInt(Math.round(e.rgb.b*n.z.MAX.RGB.B),10)},Object.assign(a,g(e)),r.push(a),t.push(r)})),t}function w(e,t,r){return function(c,s){if(null!==y(s())){var l=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,u=config("CCLIBRARIES_ENDPOINT").librariesApi,p=config("CCLIBRARIES_ENDPOINT").themesApi,h=s().save,d=Object(a.t)(h.library)?y(s()):h.library,b="".concat(l).concat(u,"/").concat(d.id).concat(p),m=f(s()),g={};switch(m=Object.assign(m,{Accept:"application/json","Content-Type":"application/json"}),r){case n.g.GRADIENT:g=t.gradient;break;default:g=t.theme}return Object(o.e)(b,m,function(e,t){var r={name:e.name,client:{deviceId:window.adobeUserProfile.userId.split("@")[0],device:"".concat(window.navigator.platform,"_").concat(platform.os.version),app:"COLOR-".concat(n.d)},representations:[]},o={};switch(t){case n.g.GRADIENT:r.type=n.tb,o=function(e,t){var r={rel:"primary"};return r.type=n.wb,r[t]={interpolation:e.interpolation,angle:e.angle,aspectRatio:e.aspectRatio,type:e.type,stops:e.stops},r}(e,n.ub);break;case n.g.THEME:r.type=n.Ec,o=function(e,t){var r={rel:"primary"};return r.type=n.Ic,r[t]={baseSwatchIndex:e.harmony.baseSwatchIndex,mood:e.harmony.mood,rule:e.harmony.rule,swatches:v(e),tags:e.tags.map((function(e){return e.value}))},e.accessibilityData&&(r[t].accessibilityData=e.accessibilityData),r}(e,n.Fc)}return r.representations.push(o),r}(g,r)).then((function(r){return c(Object(i.e)(e,g.source,t)),{response:r,libraryName:d.name}})).catch((function(e){throw Object(a.w)("saveAssetToCCLibrary: ".concat(e)),console.log("error ".concat(e)),e}))}console.error("All Libraries full. User needs to create new library")}}function O(e,t,r){return function(n,o){return function(e){var t=e.criteriaDataCollection,r=e.libraries.criteria,n=t[JSON.stringify(r[0])],o=[];return n&&(o=n.cclibrary.themeList),0===o.length}(o())?n(m({libraryName:"My Library"})).then((function(){n(w(e,t,r))})):n(w(e,t,r))}}function E(e,t){var r=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,n=config("CCLIBRARIES_ENDPOINT").librariesApi,i=config("CCLIBRARIES_ENDPOINT").themesApi,c=config("CCLIBRARIES_ENDPOINT").metadataApi,s=e.cclibraryThemeUpdateLibId,l="".concat(r).concat(n,"/").concat(s).concat(i).concat(c),u=t;return u=Object.assign(u,{Accept:"application/json","Content-Type":"application/json"}),Object(o.i)(l,u,JSON.stringify(function(e){var t={elements:[]},r={id:e.cclibraryThemeUpdateAssetId};return void 0!==e.name&&(r.name=e.name),t.elements.push(r),t}(e))).then((function(e){return{response:e}})).catch((function(e){Object(a.w)("updateAssetMetadata: ".concat(e))}))}function S(e){return function(t,r){return E(e,f(r()))}}function j(e,t){return function(r,c){var s=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,p=config("CCLIBRARIES_ENDPOINT").librariesApi,h=config("CCLIBRARIES_ENDPOINT").themesApi,d=t.cclibraryThemeUpdateLibId,b="".concat(s).concat(p,"/").concat(d).concat(h,"/").concat(t.cclibraryThemeUpdateAssetId,"/representations"),m=f(c()),y=l.a;return m=Object.assign(m,{Accept:"application/json","Content-Type":"application/json"}),(y=Object.assign(y,t)).id=t.cclibraryThemeUpdateAssetId,y.source=n.p,y.uniqueID=Object(u.a)(),Object(o.h)(b,m,JSON.stringify(function(e){var t={client:{deviceId:window.adobeUserProfile.userId.split("@")[0],device:"".concat(window.navigator.platform,"_").concat(platform.os.version),app:"COLOR-".concat(n.d)},type:"application/vnd.adobe.element.colortheme+dcx",representations:[]},r={rel:"primary",type:"application/vnd.adobe.colortheme+json","colortheme#trackingdata":"color-web-service","colortheme#optype":"colorThemePanel"};return r["colortheme#data"]={baseSwatchIndex:e.harmony.baseSwatchIndex,mood:e.harmony.mood,rule:e.harmony.rule,swatches:v(e),tags:e.tags.map((function(e){return e.value}))},e.accessibilityData&&(r["colortheme#data"].accessibilityData=e.accessibilityData),t.representations.push(r),t}(t))).then((function(o){return o.id=y.id,E(t,f(c())),r(Object(i.i)(JSON.stringify(e),n.p,y)),{response:o,libraryName:d.name}})).catch((function(e){Object(a.w)("updateCCLibraryTheme: ".concat(e))}))}}function C(e,t){return function(r,n){var c=f(n()),s=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,l=config("CCLIBRARIES_ENDPOINT").librariesApi,u=config("CCLIBRARIES_ENDPOINT").themesApi,p="".concat(s).concat(l,"/").concat(JSON.parse(e).main).concat(u,"/").concat(t.id);return c=Object.assign(c,{Accept:"application/json","Content-Type":"application/json"}),Object(o.b)(p,c).then((function(n){return r(Object(i.c)(e,t.source,t)),{response:n,themeName:t.name}})).catch((function(e){Object(a.w)("deletePrivateTheme: ".concat(e))}))}}function k(e,t){return Object(i.n)(e,n.p,t)}function R(e,t){return Object(i.k)(e,n.p,t)}},929:function(e,t,r){"use strict";r.d(t,"f",(function(){return s})),r.d(t,"e",(function(){return l})),r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return f})),r.d(t,"d",(function(){return p})),r.d(t,"g",(function(){return h})),r.d(t,"a",(function(){return d}));var n=r(1),o=r(918),a=r(3),i={sources:[n.p],criteria:[{main:"libraries"}]};function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.hb.LAST_MODIFIED,r=config("CCLIBRARIES_ENDPOINT"),o=r.melvilleBasePath,a=r.librariesApi,i=t===n.hb.LAST_MODIFIED?n.Yb:n.gc;return"".concat(o).concat(a,"?start=").concat(e,"&limit=").concat(n.bc,"&selector=details&orderBy=").concat(i,"&toolkit=none")}function s(e,t){var r=config("CCLIBRARIES_ENDPOINT"),o=r.melvilleBasePath,a=r.librariesApi,i=n.Yb,c="".concat(o).concat(a,"?start=").concat(e,"&limit=").concat(n.bc,"&orderBy=").concat(i,"&toolkit=none");return t?c:"".concat(c,"&selector=details")}function l(e){var t=config("CCLIBRARIES_ENDPOINT").melvilledomainPath;return"".concat(t).concat(e,"&toolkit=none")}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.hb.LAST_MODIFIED;return function(t,r){var i=r().libraries.criteria,s=r().criteriaDataCollection,l=0;Object(a.t)(s[JSON.stringify(i[0])])||(l=s[JSON.stringify(i[0])].cclibrary.startIndex);var u=c(l,e),f=c(l+n.bc,e);return t(o.m(JSON.stringify(i[0]),u,f))}},f=function(e,t){return function(r,n){var a=n().libraries.criteria;return n().criteriaDataCollection,r(o.i(JSON.stringify(a[0]),e,t))}},p=function(){return function(e,t){var r=t().libraries.criteria,n=t().criteriaDataCollection;return Object(a.t)(n[JSON.stringify(r[0])])?[]:n[JSON.stringify(r[0])].cclibrary.themeList}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return function(t){return t(o.p(n.Zb,e))}},d=function(){return function(e,t){var r=t().libraries.criteria;return e(o.e(JSON.stringify(r[0])))}}},931:function(e,t,r){"use strict";var n,o=r(1);function a(e,t){this.worker=new Worker(e),this.worker.addEventListener("message",this.onmessage.bind(this)),this.thisThreadPool=t,this.callback=null}function i(e,t){this.threads=[],this.tasks=[];for(var r=0;r<t;r++)this.threads.push(new a(e,this))}a.prototype.run=function(e){this.worker.postMessage(e.task),this.callback=e.callback},a.prototype.onmessage=function(e){this.callback(e.data),this.callback=null,this.thisThreadPool.afterTask(this)},i.prototype.queueTask=function(e){var t={task:e.startMessage,callback:e.onExtractionComplete};this.threads.length>0?this.threads.shift().run(t):this.tasks.push(t)},i.prototype.afterTask=function(e){this.tasks.length>0?e.run(this.tasks.shift()):this.threads.push(e)},i.prototype.clearQueue=function(){this.tasks.length=0},n="undefined"==typeof window?{clearQueue:function(){console.log("Clear Queue")},queueTask:function(){console.log("Queue Task")}}:new i("/extract.js",o.Kc),t.a=n},932:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(924),i=r(3),c=r(1),s=r(22),l=r(122),u=r(7),f=r(30),p=r(99),h=r(29),d=r(58),b=r(51),m=r.n(b),y=r(744),g=r.n(y),v=r(208),w=r.n(v),O=r(925);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A(n.key),n)}}function k(e,t){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(){return(P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,r){return(t=A(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===E(t)?t:String(t)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(r,O.a);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=T(e);if(t){var o=T(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}(this,r)}}(r);function r(e){var n,a,f,p,h;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),I(R(h=t.call(this,e)),"onClick",(function(e){Object(i.h)("#".concat(e)).then((function(){var t={workflow:Object(i.e)(h.props.themeData.ingestWorkflow[0]),subcategory:c.Gb.ONEUP,value:"#".concat(e)},r=Object(l.a)(h.props.themeData);h.props.notification({variant:c.Bc,message:o.a.createElement(u.a,{id:"app.oneupactions.toast.success.message"})}),Object(s.a)(c.Eb.COPY_HEX,{content:r,event:t},[c.Gb.ONEUP])})).catch((function(e){h.props.notification({variant:c.kb,message:o.a.createElement(u.a,{id:"app.oneupactions.toast.error.message"})})}))})),I(R(h),"mouseDown",(function(e){e.stopPropagation(),e.preventDefault(),h.props.isCreate?P((n=R(h),T(r.prototype)),"mouseDown",n).call(n,e):h.props.isOneUp&&h.onClick(h.props.stop.hex)})),I(R(h),"touchStart",(function(e){e.stopPropagation(),e.preventDefault(),h.props.isCreate?P((a=R(h),T(r.prototype)),"touchStart",a).call(a,e):h.props.isOneUp&&h.onClick(h.props.stop.hex)})),I(R(h),"mouseOver",(function(e){h.props.isOneUp&&h.props.setActiveSwatch(h.props.id)})),I(R(h),"mouseOut",(function(e){h.props.isOneUp&&h.props.setActiveSwatch(-1)})),I(R(h),"updateMarkerPosition",(function(e){var t,r=e;Object(i.t)(e.touches)||0===e.touches.length||(r=e.touches[0]),t=r.pageX-h.hitOffsetX+h.radius,t=Math.round(t);var n=(t=Math.min(h.props.canvas.width-1,Math.max(0,t)))/h.props.canvas.width,o=n>.998?1:n,a=-1===h.leftMarkerPos?h.props.stops[h.thisMarkerPos].midpoint:h.props.stops[h.leftMarkerPos].offset+(o-h.props.stops[h.leftMarkerPos].offset)*h.props.stops[h.thisMarkerPos].midpoint,s=-1===h.rightMarkerPos?"":o+(h.props.stops[h.rightMarkerPos].offset-o)*h.props.stops[h.rightMarkerPos].midpoint,l=h.props.order.indexOf(h.thisMarkerPos),u=!1;if(h.props.setSwatch({i:h.thisMarkerPos,swatch:{offset:o,positionOfMidpoint:a},assetType:c.g.GRADIENT}),-1!==h.rightMarkerPos&&h.props.setSwatch({i:h.rightMarkerPos,swatch:{midpoint:h.props.stops[h.rightMarkerPos].midpoint,positionOfMidpoint:s},assetType:c.g.GRADIENT}),-1!==h.leftMarkerPos&&o<=h.props.stops[h.leftMarkerPos].offset?(h.props.swapStopsAndMarkersOrder({source:l,destination:l-1}),h.leftMarkerPos=1===l?-1:h.props.order[l-2],h.rightMarkerPos=h.props.order[l],u=!0):-1!==h.rightMarkerPos&&o>=h.props.stops[h.rightMarkerPos].offset&&(h.props.swapStopsAndMarkersOrder({source:l,destination:l+1}),h.leftMarkerPos=h.props.order[l],h.rightMarkerPos=l===h.props.stops.length-2?-1:h.props.order[l+2],u=!0),u){var f=0,p=0;h.props.order.forEach((function(e,t){var r=h.props.stops[e];0!==t&&(p=f+(r.offset-f)*r.midpoint),h.props.setSwatch({i:e,swatch:{positionOfMidpoint:p},assetType:c.g.GRADIENT}),f=r.offset})),h.props.drawConnectingLines}h.currentMarkerMoved=!0})),I(R(h),"getMarkerPosition",(function(e){var t=e;Object(i.t)(e.touches)||0===e.touches.length||(t=e.touches[0]),h.hitOffsetX=t.pageX-h.marker.offsetLeft,h.thisMarkerPos=h.props.order[h.props.id],h.leftMarkerPos=0===h.props.id?-1:h.props.order[h.props.id-1],h.rightMarkerPos=h.props.id===h.props.stops.length-1?-1:h.props.order[h.props.id+1],h.props.setActiveSwatch(h.props.order[h.props.id])})),I(R(h),"mouseUp",(function(e){h.props.isCreate&&(P((f=R(h),T(r.prototype)),"mouseUp",f).call(f,e),h.sendMarkerMoveIngestEvent(),h.setResetButtonState(!1),h.props.setActiveSwatch(-1))})),I(R(h),"touchEnd",(function(e){h.props.isCreate&&(P((p=R(h),T(r.prototype)),"touchEnd",p).call(p,e),h.sendMarkerMoveIngestEvent(),h.setResetButtonState(!1),h.props.setActiveSwatch(-1))})),h.radius=parseInt(m.a.colorStopRadius,10),h.colorStopOneUpDiameter=m.a.colorStopOneUpDiameter,h.colorStopCreateDiameter=m.a.colorStopDiameter,h.colorStopCreateDiameterActive=m.a.colorStopDiameterActive,h}return function(e,t,r){t&&C(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"paint",value:function(){if(this.props.isOneUp){var e="rgb(",t=Math.round("".concat(100*this.props.stop.offset)),r=j({},this.props.stop.rgb);e=e.concat("".concat(parseInt(r.r*c.z.MAX.RGB.R,10),",")," ".concat(parseInt(r.g*c.z.MAX.RGB.G,10),",")," ".concat(parseInt(r.b*c.z.MAX.RGB.B,10),")")),this.marker.style.backgroundColor=e,this.marker.style.top="calc(50% - ".concat(this.colorStopOneUpDiameter/2,"px)"),this.hexValue.textContent="#".concat(this.props.stop.hex),this.copyHexContainer.style.color=Object(f.q)(r)>c.yb.RGB?"".concat(w.a.oneUpThemeDetailsTextColorDark):"".concat(w.a.oneUpThemeDetailsTextColorLight),0===Math.round(t)?this.marker.style.left="calc(".concat(t,"% + 1px)"):100===Math.round(t)?(this.marker.style.left="calc(".concat(t,"% - ").concat(this.colorStopOneUpDiameter,"px - 1px)"),this.copyHexContainer.style.marginLeft="-40px"):(this.marker.style.left="calc(".concat(t,"% - ").concat(this.colorStopOneUpDiameter/2,"px)"),this.copyHexContainer.style.marginLeft="-15px")}else if(this.props.isCreate&&this.props.order.length>0){this.colorStop=this.props.stops[this.props.order[this.props.id]];var n="rgba(",o="".concat(100*this.colorStop.offset),a=j({},this.colorStop.rgb);n=n.concat("".concat(a.r,", ").concat(a.g,", ").concat(a.b,", 1)")),this.marker.style.backgroundColor=n,this.marker.style.top="calc(50% - ".concat(this.colorStopCreateDiameter/2,"px)"),this.marker.style.left="calc(".concat(o,"% - ").concat(this.colorStopCreateDiameter/2,"px)"),this.marker.style.borderColor=w.a.defaultGradientColorStopBorder,this.props.activeSwatch===this.props.order[this.props.id]&&(this.marker.style.top="calc(50% - ".concat(this.colorStopCreateDiameterActive/2,"px)"),this.marker.style.left="calc(".concat(o,"% - ").concat(this.colorStopCreateDiameterActive/2,"px)"),this.marker.style.borderColor=w.a.selectedGradientColorStopBorder)}}},{key:"componentDidMount",value:function(){this.paint()}},{key:"componentDidUpdate",value:function(){this.paint()}},{key:"sendMarkerMoveIngestEvent",value:function(){var e={workflow:Object(i.e)(c.I),subcategory:"".concat(c.Gb.GRADIENT,"_").concat(c.Gb.OFFSET,"_").concat(c.Gb.MARKER)};Object(s.a)(c.Eb.MARKER_MOVE,{event:e},[c.Gb.OFFSET])}},{key:"children",value:function(){var e=this;return o.a.createElement("div",{className:g.a.copyHexContainer,ref:function(t){e.copyHexContainer=t}},o.a.createElement("div",{className:g.a.copy},o.a.createElement(u.a,{id:"app.oneup.copy"})),o.a.createElement("div",{className:g.a.hex,ref:function(t){e.hexValue=t}}))}}]),r}();_.defaultProps={markerType:c.vb.COLORSTOP};var M=Object(h.b)((function(e){var t=e.create;return{stops:t.swatches,order:t.order,activeSwatch:t.activeSwatch}}),(function(e){return Object(d.b)({setSwatch:p.setSwatch,swapStopsAndMarkersOrder:p.swapStopsAndMarkersOrder,setActiveSwatch:p.setActiveSwatch},e)}))(_),x=r(24);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U(n.key),n)}}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(){return(G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,r){return(t=U(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e){var t=function(e,t){if("object"!==N(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===N(t)?t:String(t)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(r,O.a);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=F(e);if(t){var o=F(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}(this,r)}}(r);function r(e){var n,o,a,s,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),H(B(l=t.call(this,e)),"mouseDown",(function(e){e.stopPropagation(),e.preventDefault(),G((n=B(l),F(r.prototype)),"mouseDown",n).call(n,e),l.props.setActiveSwatch(100)})),H(B(l),"touchStart",(function(e){e.stopPropagation(),e.preventDefault(),G((o=B(l),F(r.prototype)),"touchStart",o).call(o,e),l.props.setActiveSwatch(100)})),H(B(l),"updateMarkerPosition",(function(e){var t,r=e;Object(i.t)(e.touches)||0===e.touches.length||(r=e.touches[0]),t=r.pageX-l.hitOffsetX+1,t=Math.round(t);var n=(t=Math.min(l.props.canvas.width-1,Math.max(0,t)))/l.props.canvas.width,o=(n-l.props.stops[l.props.order[l.props.id-1]].offset)/(l.props.stops[l.props.order[l.props.id]].offset-l.props.stops[l.props.order[l.props.id-1]].offset);n>l.props.stops[l.props.order[l.props.id-1]].offset&&n<l.props.stops[l.props.order[l.props.id]].offset&&l.props.setSwatch({i:l.props.order[l.props.id],swatch:{midpoint:o,positionOfMidpoint:n},assetType:c.g.GRADIENT}),l.currentMarkerMoved=!0})),H(B(l),"getMarkerPosition",(function(e){var t=e;Object(i.t)(e.touches)||0===e.touches.length||(t=e.touches[0]),l.hitOffsetX=t.pageX-l.marker.offsetLeft})),H(B(l),"mouseUp",(function(e){G((a=B(l),F(r.prototype)),"mouseUp",a).call(a,e),l.sendMarkerMoveIngestEvent(),l.setResetButtonState(!1),l.props.setActiveSwatch(-1)})),H(B(l),"touchEnd",(function(e){G((s=B(l),F(r.prototype)),"touchEnd",s).call(s,e),l.sendMarkerMoveIngestEvent(),l.setResetButtonState(!1),l.props.setActiveSwatch(-1)})),l.radius=parseInt(m.a.colorStopRadius,10),l}return function(e,t,r){t&&D(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"paint",value:function(){if(this.props.isCreate&&this.props.order.length>0){this.colorStop=this.props.stops[this.props.order[this.props.id]];var e="".concat(100*this.colorStop.positionOfMidpoint);this.marker.style.left="calc(".concat(e,"% - ").concat(m.a.midpointHeight/2,"px)"),this.marker.style.top="calc(50% - ".concat(m.a.midpointHeight/2,"px)")}}},{key:"componentDidMount",value:function(){this.paint()}},{key:"componentDidUpdate",value:function(){this.paint()}},{key:"sendMarkerMoveIngestEvent",value:function(){var e={workflow:Object(i.e)(c.I),subcategory:"".concat(c.Gb.GRADIENT,"_").concat(c.Gb.MIDPOINT,"_").concat(c.Gb.MARKER)};Object(s.a)(c.Eb.MARKER_MOVE,{event:e},[c.Gb.MIDPOINT])}},{key:"children",value:function(){return o.a.createElement("img",{src:x.z,className:g.a.midpointMarker})}}]),r}();W.defaultProps={markerType:c.vb.MIDPOINT};var V=Object(h.b)((function(e){var t=e.create;return{stops:t.swatches,order:t.order}}),(function(e){return Object(d.b)({setSwatch:p.setSwatch,setActiveSwatch:p.setActiveSwatch},e)}))(W);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K(n.key),n)}}function K(e){var t=function(e,t){if("object"!==Y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Y(t)?t:String(t)}function X(e,t){return(X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Z(e);if(t){var o=Z(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).state={gradientRendered:!1},n}return function(e,t,r){t&&z(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidMount",value:function(){this.canvas.width=this.gradientContainer.offsetWidth,this.canvas.height=this.gradientContainer.offsetHeight,this.setState({gradientRendered:!0})}},{key:"componentWillUnmount",value:function(){this.props.gradientProps.isOneUp&&(this.props.gradientProps.isOneUp=!1)}},{key:"setColorStopsMarkers",value:function(){var e=this,t=[],r=this.props.gradientProps,n=r.isCreate,a=r.isOneUp;return n?Object(i.t)(this.props.order)||this.props.order.length!==this.props.stops.length||this.props.order.forEach((function(r,i){t.push(o.a.createElement(M,{key:i,id:i,canvas:e.canvas,isCreate:n,isOneUp:a,notification:e.props.notification,shouldResetBeDisabled:e.props.shouldResetBeDisabled,drawConnectingLines:e.drawConnectingLines}))})):this.props.stops.forEach((function(r,i){t.push(o.a.createElement(M,{key:i,id:i,canvas:e.canvas,stop:r,themeData:e.props.themeData,isCreate:n,isOneUp:a,notification:e.props.notification}))})),t}},{key:"setMidpointMarkers",value:function(){var e=this,t=[];return Object(i.t)(this.props.order)||this.props.order.length!==this.props.stops.length||this.props.order.forEach((function(r,n){0!==n&&t.push(o.a.createElement(V,{key:n,id:n,canvas:e.canvas,themeData:e.props.themeData,isCreate:e.props.gradientProps.isCreate,shouldResetBeDisabled:e.props.shouldResetBeDisabled}))})),t}},{key:"drawConnectingLine",value:function(){var e=this.canvas.getContext("2d");e.beginPath(),e.moveTo(0,this.canvas.height/2),e.lineTo(this.canvas.width,this.canvas.height/2),e.strokeStyle="#FFFFFF",e.lineWidth=2,e.stroke()}},{key:"render",value:function(){var e=this,t={},r=this.props,n=r.gradientProps,i=r.stops;if("linear"===n.type&&i.length>1){var c=Object(a.b)(i).linearGradientDataRGBA;t.background="linear-gradient(".concat(n.angle+90,"deg, ").concat(c,")")}return o.a.createElement("div",{className:g.a.gradientContainer,ref:function(t){e.gradientContainer=t}},o.a.createElement("canvas",{className:n.isSave?g.a.gradientCanvasSavePanel:g.a.gradientCanvas,style:t,ref:function(t){e.canvas=t}}),(n.isCreate&&!n.isSave||n.isOneUp)&&this.state.gradientRendered&&this.setColorStopsMarkers(),n.isCreate&&!n.isSave&&this.state.gradientRendered&&this.setMidpointMarkers(),n.isCreate&&!n.isSave&&this.state.gradientRendered&&this.drawConnectingLine())}}]),r}();t.a=q},933:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"e",(function(){return f})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return h})),r.d(t,"f",(function(){return b})),r.d(t,"h",(function(){return m})),r.d(t,"b",(function(){return y})),r.d(t,"g",(function(){return g}));var n=r(1),o=r(75),a=r(914),i=r(2),c=r(3);function s(e){return Object(a.b)(e,n.Qb)}function l(e){var t=e.user,r={"x-api-key":config("KULER_ENDPOINT").clientId};return t.isLoggedIn&&(r.Authorization="Bearer ".concat(t.token)),r}function u(e){var t=e.user,r={"x-api-key":config("ETHOS_ENDPOINT").clientId};return t.isLoggedIn&&(r.Authorization="Bearer ".concat(t.token)),r}function f(e,t,r){return t.hasNextPageForKuler.hasNextPage}function p(e,t){return function(r,i){var c=i();r(Object(a.h)(e,n.Qb)),Object(o.c)(t.endPoint,u(c)).then((function(t){var o={themes:[t]};r(Object(a.d)(e,n.Qb,o)),r(Object(a.f)(e,n.Qb))})).catch((function(t){var o=n.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(o=t.response.status),console.log("error ".concat(t)),r(Object(a.g)(e,n.Qb,o))}))}}function h(e,t,r){return function(s,f){var p=f(),h=p.criteriaDataCollection,d=r?u(p):l(p);Object(c.t)(h[e])||h[e].kuler.fetchStatus===n.h.REQUESTED||(s(Object(a.h)(e,n.Qb)),Object(o.c)(t.endPoint,d).then((function(t){s(Object(a.d)(e,n.Qb,t)),s(function(e,t,r){return{type:i.h,payload:r,srcName:t,criteria:e}}(e,n.Qb,t.hasNextPage)),s(Object(a.f)(e,n.Qb))})).catch((function(t){var r=n.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(r=t.response.status),console.log("error ".concat(t)),s(Object(a.g)(e,n.Qb,r))})))}}function d(e){var t=e.swatches,r=e.colorMode,o=[];return t.forEach((function(e){var t={};t.mode=r.toLowerCase(),t.values=function(e,t){switch(t){case n.x.RGB:return[e.rgb.r,e.rgb.g,e.rgb.b];case n.x.CMYK:return[e.cmyk.c,e.cmyk.m,e.cmyk.y,e.cmyk.k];case n.x.HSV:return[e.hsv.h,e.hsv.s,e.hsv.v];case n.x.LAB:return[e.lab.l,e.lab.a,e.lab.b]}return otherMode}(e,r),o.push(t)})),o}function b(e,t){return function(r,n){var i=l(n()),c=u(n()),s={Accept:"application/json, text/javascript, */*","Content-Type":"application/json"},f=config("KULER_ENDPOINT").basePath,p=config("ETHOS_ENDPOINT").basePathForB1,h=config("KULER_ENDPOINT").api,b=config("KULER_ENDPOINT").themePath,m="".concat(f).concat(h).concat(b),y="".concat(p).concat(h).concat(b),g=Object.assign({},e),v=n().save;return i=Object.assign(i,s),c=Object.assign(c,s),Object(o.e)(m,i,function(e,t){var r={};return r.name=e.name?e.name:"My Color Theme",r.swatches=d(e),r.assets={assetid:t.id,libraryid:e.libraryid},r.tags=e.tags,r.harmony={baseSwatchIndex:e.harmony.baseSwatchIndex,mood:e.harmony.mood.toLowerCase(),rule:e.harmony.rule.toLowerCase(),sourceURL:""},r}(g,t)).then((function(e){return v.tagsToSave.length>0&&r(function(e){return function(t,r){var n=l(r()),a=r().save.tagsToSave,i=config("KULER_ENDPOINT").basePath,c=config("KULER_ENDPOINT").api,s=config("KULER_ENDPOINT").themePath,u=config("KULER_ENDPOINT").tagsPath,f="".concat(i).concat(c).concat(s,"/").concat(e.id).concat(u);return n=Object.assign(n,{Accept:"application/json, text/javascript, */*","Content-Type":"application/json"}),Object(o.e)(f,n,a).then((function(){return e.name})).catch((function(e){logErrorInNewRelic("saveTags: ".concat(e)),console.error(e)}))}}(e)),t.isPublishToKuler&&r(Object(a.l)({isAssetPublished:!0,uniqueID:t.uniqueID,criteria:t.criteria,srcName:t.srcName,href:"".concat(window.location.origin,"/").concat(e.name.replaceAll(" ","-"),"-color-theme-").concat(e.id),kulerID:e.id})),e})).then((function(e){return Object(o.e)(y,c,function(e,t,r){var n={};return n.referredThemeId=r,n.name=e.name?e.name:"My Color Theme",n.swatches=d(e),n.assets={assetid:t.id,libraryid:e.libraryid},n.tags=e.tags,n.harmony={baseSwatchIndex:e.harmony.baseSwatchIndex,mood:e.harmony.mood.toLowerCase(),rule:e.harmony.rule.toLowerCase(),sourceURL:""},n}(g,t,e.id)),e})).catch((function(e){logErrorInNewRelic("saveThemeToKuler: ".concat(e))}))}}function m(e,t){return function(r,i){var c=l(i()),s=u(i()),f={Accept:"application/json","Content-Type":"application/json"},p=config("KULER_ENDPOINT").basePath,h=config("ETHOS_ENDPOINT").basePathForB2,d=config("KULER_ENDPOINT").api,b=config("KULER_ENDPOINT").themePath,m="".concat(p).concat(d).concat(b,"/").concat(t.id,"/like"),y="".concat(h).concat(b,"/").concat(t.id,"/likeDuplicate"),g="".concat(h).concat(b,"/").concat(t.id,"/like");return c=Object.assign(c,f),s=Object.assign(s,f),t.like.user?Object(o.a)(m,c).then((function(o){JSON.parse(e).main===n.K.EXPLORE.MY_APPRECIATIONS&&r(Object(a.c)(e,t.source,t)),r(Object(a.j)(e,n.Qb,t))})).then((function(e){return Object(o.a)(g,s)})).catch((function(e){console.error("Error while updating status")})):Object(o.e)(m,c,{}).then((function(o){return r(Object(a.j)(e,n.Qb,t))})).then((function(e){return Object(o.e)(y,s,{})})).catch((function(e){console.error("Error while updating status")}))}}function y(e,t){return function(r,i){var c=l(i()),s=u(i()),f={Accept:"application/json","Content-Type":"application/json"},p=config("KULER_ENDPOINT").basePath,h=config("ETHOS_ENDPOINT").basePathForB1,d=config("KULER_ENDPOINT").api,b=config("KULER_ENDPOINT").themePath,m="".concat(p).concat(d).concat(b,"/").concat(t.id),y="".concat(h).concat(d).concat(b,"/").concat(t.id);return c=Object.assign(c,f),s=Object.assign(s,f),Object(o.a)(m,c).then((function(o){return r(Object(a.c)(e,n.Qb,t)),{response:o,themeName:t.name}})).then((function(e){return Object(o.a)(y,s),e})).catch((function(e){logErrorInNewRelic("deletePublishedTheme: ".concat(e)),console.log("error ".concat(e))}))}}function g(e,t){return function(r,n){var i=n();return Object(o.c)(e,u(i)).then((function(e){return e.themes.length>0?r(Object(a.l)({isAssetPublished:!0,uniqueID:t.uniqueID,criteria:t.criteria,srcName:t.srcName,href:e.themes[0].href,kulerID:e.themes[0].id})):r(Object(a.l)({isAssetPublished:!1,uniqueID:t.uniqueID,criteria:t.criteria,srcName:t.srcName}))})).catch((function(e){console.log("error ".concat(e))}))}}},934:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(7),i=r(58),c=r(29),s=r(964),l=r.n(s),u=r(1),f=r(37),p=r.n(f),h=r(47),d=r.n(h),b=r(3),m=r(913),y=r(750),g=r.n(y);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function O(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S(e);if(t){var o=S(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.apply(this,arguments)}return function(e,t,r){t&&w(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{className:g.a.tooltip,placement:u.Mb?"right":"bottom",trigger:Object(b.E)()},o.a.createElement(l.a,{className:g.a.publishSwitcher,onChange:function(t){return e.props.setPublishToKuler(t)},checked:this.props.publish,label:this.props.intl.formatMessage({id:"app.savepanel.publishtocolor"}),disabled:this.props.disabled}),o.a.createElement(d.a,{variant:"info"},o.a.createElement("div",{className:g.a.publishSwitcherTooltipTitle},o.a.createElement(a.a,{id:"app.savepanel.publishswitcher.title.tooltip"})),o.a.createElement("div",{className:g.a.publishSwitcherTooltipInfo},o.a.createElement(a.a,{id:"app.savepanel.publishswitcher.info.tooltip",values:{name:this.props.themeName}})))))}}]),r}(),C=Object(c.b)((function(e){var t=e.save;return{locale:e.user.locale,publish:t.publishToKuler,themeName:t.themeName}}),(function(e){return Object(i.b)({setPublishToKuler:m.g},e)}))(j),k=Object(a.e)(C),R=r(943),P=r(36),T=r.n(P),I=r(100),A=r.n(I),_=r(743),M=r.n(_),x=Object(a.e)(Object(n.memo)((function(e){var t=e.assetName,r=e.placeholder,n=e.isSwatchesEmpty,i=e.updateAssetName;return o.a.createElement("div",{className:M.a.savePanelRow},o.a.createElement(a.a,{id:"app.savepanel.name"}),o.a.createElement(A.a,{className:M.a.themeName,quiet:!0,placeholder:r,value:t,onChange:function(e){return i(e,!0)},disabled:n}))}))),N=r(948);t.a=Object(a.e)((function(e){var t=e.intl,r=e.children,n=e.showLargeView,i=e.ingestWorkflow,c=e.closeDialog,s=e.isUserLoggedIn,l=e.isEditWorkflow,u=e.isSwatchesEmpty,f=e.usageMessage,p=e.isAllowedToPublish,h=e.signintocreativecloudmessage,d=e.message,b=e.tags,m=e.updateAssetName,y=e.assetName,g=e.placeholder;return o.a.createElement("div",{className:"".concat(n&&M.a.modalSavePanel||""," ").concat(u?[M.a.savePanel,M.a.disabled].join(" "):M.a.savePanel)},r,s&&o.a.createElement(o.a.Fragment,null,!l&&o.a.createElement("div",{className:M.a.savePanelRow},o.a.createElement(a.a,{id:"app.savepanel.saveto"}),o.a.createElement(R.a,{ingestWorkflow:i,showLargeView:n,disabled:u,className:u?[M.a.librarySelector,M.a.disabled].join(" "):M.a.librarySelector})),o.a.createElement(x,{isSwatchesEmpty:u,assetName:y,placeholder:g,updateAssetName:m}),!u&&b,p&&o.a.createElement(k,{disabled:u})),!s&&o.a.createElement("div",null,o.a.createElement("h2",{className:M.a.signInToCreativeCloudMessage},h),o.a.createElement("h3",{className:M.a.signInToCreativeCloudMessage},f)),d,o.a.createElement("div",{className:M.a.helpSaveContainer},n&&o.a.createElement(T.a,{variant:"primary",onClick:c,label:t.formatMessage({id:"app.reportabuse.dialog.cancel"}),"aria-label":t.formatMessage({id:"app.reportabuse.dialog.cancel"})}),o.a.createElement(N.a,{ingestWorkflow:i})))}))},940:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(7),i=r(36),c=r.n(i),s=r(951),l=r.n(s),u=r(29),f=r(926),p=r.n(f),h=r(1),d=r(22),b=r(3),m=r(913),y=r(749),g=r.n(y);function v(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=Object(a.e)((function(e){var t=Object(u.d)(),r=Object(u.e)((function(e){return e.save.suggestedTags})),i=Object(u.e)((function(e){return e.save.tagsToSave})),s=Object(u.e)((function(e){return e.create.workflow})),f=[];return Object(n.useEffect)((function(){t(m.i([]))}),[s]),i&&i.length>0&&(f=i.map((function(e){return e.value}))),o.a.createElement("div",{className:"".concat(g.a.tags," ").concat(e.showLargeView&&g.a.tagsGrid)},o.a.createElement(a.a,{id:"app.savepanel.tags"}),o.a.createElement("div",{className:g.a.tagsContent},o.a.createElement(l.a,{placeholder:e.intl.formatMessage({id:"app.savepanel.tags.textfield.placeholder"}),value:f,onChange:function(r){var n={workflow:Object(b.e)(e.ingestWorkflow[0]),subcategory:"".concat(h.Gb.TAG_BOX,":").concat(e.ingestWorkflow[1])};r.length<i.length?(n.value=v(i).filter((function(e){return!r.some((function(t){return t===e}))})),Object(d.a)(h.Eb.TAG_REMOVE,{event:n},[h.I])):r.length>i.length&&(n.value=v(r).filter((function(e){return!i.some((function(t){return t===e}))})),Object(d.a)(h.Eb.TAG_ADD,{event:n},[h.I])),t(m.i(function(e){return e.map((function(e){return{value:e}}))}(r)))},quiet:!0,className:g.a.tagsBox,disabled:e.disabled}),o.a.createElement("div",{className:g.a.suggestedTags},r.map((function(e,r){return o.a.createElement(c.a,{key:r,onClick:function(){return function(e){t(m.i([].concat(v(i),[{value:e}]))),t(m.d(e))}(e)},className:g.a.suggestedTag,variant:"action",label:e,value:e,icon:o.a.createElement(p.a,{className:g.a.add,size:"XS"})})})))))}))},941:function(e,t,r){"use strict";var n=r(0),o=r.n(n);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.a=function(e){return o.a.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",height:"18",viewBox:"0 0 18 18",width:"18"},e),o.a.createElement("rect",{id:"Canvas",fill:"#ff13dc",opacity:"0",width:"18",height:"18"}),o.a.createElement("path",{class:"a",d:"M9.05,1.1A7.95,7.95,0,1,0,17,9.05,7.95,7.95,0,0,0,9.05,1.1Zm0,14.906A6.956,6.956,0,1,1,16.006,9.05,6.956,6.956,0,0,1,9.05,16.006Zm4.49072-9.68845-5.436,6.98773a.5.5,0,0,1-.74839.04628L4.2779,10.28586a.50035.50035,0,0,1,.00021-.70736l.66226-.66226a.5.5,0,0,1,.70709,0l1.939,1.92155,4.43735-5.701a.50006.50006,0,0,1,.70176-.08744h0l.72764.56642A.50016.50016,0,0,1,13.54072,6.31755Z"}))}},943:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(29),i=r(926),c=r.n(i),s=r(36),l=r.n(s),u=r(100),f=r.n(u),p=(r(85),r(751)),h=r.n(p),d=r(7),b=r(1);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function g(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===m(t)?t:String(t)}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).state={libraryName:"",createButtonClicked:!1,cancelClicked:!1},n.checkForEnter=n.checkForEnter.bind(w(n)),n.resetState=n.resetState.bind(w(n)),n.onSubmit=n.onSubmit.bind(w(n)),n}return function(e,t,r){t&&y(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"onSubmit",value:function(){var e=this;this.state.cancelClicked||0===this.state.libraryName.length||(this.props.closeDropDown(),this.props.createLibrary({libraryName:this.state.libraryName}).then((function(t){e.props.setSaveLibrary(t),e.resetState()})))}},{key:"resetState",value:function(){this.setState({libraryName:"",createButtonClicked:!1,cancelClicked:!1})}},{key:"checkForEnter",value:function(e){e.charCode===b.Pb.ENTER&&this.onSubmit()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:h.a.createNewLibrary},o.a.createElement("div",{className:h.a.newLibrary},o.a.createElement(d.a,{id:"app.createnewlibrary.newlibrary"})),o.a.createElement(f.a,{className:h.a.libraryName,placeholder:this.props.intl.formatMessage({id:"app.createnewlibrary.placeholder"}),value:this.state.libraryName,onChange:function(t){return e.setState({libraryName:t})},onKeyPress:function(t){return e.checkForEnter(t)}}),o.a.createElement(l.a,{label:this.props.intl.formatMessage({id:"app.header.create"}),variant:"cta",className:h.a.createButton,onClick:this.onSubmit}))}}]),r}(),S=Object(d.e)(E),j=r(37),C=r.n(j),k=r(88),R=r.n(k),P=r(3),T=r(22),I=r(913),A=r(746),_=r.n(A),M=r(922),x=r(918),N=r(954),D=r(960),L=r(952);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(){G=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var a=t&&t.prototype instanceof p?t:p,i=Object.create(a.prototype),c=new j(o||[]);return n(i,"_invoke",{value:function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,c)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function p(){}function h(){}function d(){}var b={};s(b,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(C([])));y&&y!==t&&r.call(y,a)&&(b=y);var g=d.prototype=p.prototype=Object.create(b);function v(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var o;n(this,"_invoke",{value:function(n,a){function i(){return new t((function(o,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==B(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}(n,a,o,i)}))}return o=o?o.then(i,i):i()}})}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=s(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(w.prototype),s(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(g),s(g,c,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function F(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}var W=!0;t.a=Object(d.e)((function(e){var t=Object(M.a)(!0,!1),r=t.libraries,i=t.haveLibrariesBeenFetched,s=t.fetchData,u=t.initialLibFetchUrl,f=Object(a.e)((function(e){return e.save.library})),p=Object(a.e)((function(e){return e.user.IMSReady})),h=Object(a.e)((function(e){return e.user.isLoggedIn})),m={},y=Object(a.d)(),g=Object(n.useRef)(),v=function(){g.current.hide()};if(p&&!h)return"";var w=[];return r.forEach((function(e){m[e.id]=e.name})),i&&Object.keys(m).length&&""===f.id&&y(I.f({name:m[Object.keys(m)[0]],id:Object.keys(m)[0]})),w=Object(L.a)({load:function(t){return function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){U(a,n,o,i,c,"next",e)}function c(e){U(a,n,o,i,c,"throw",e)}i(void 0)}))}}(G().mark((function r(){var n,o,a,i,c,l,f,p,h,d,b,m;return G().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.signal,o=t.cursor,r.next=3,s(o||u,n);case 3:if(a=r.sent,i=[],!a.listData.length){r.next=45;break}W=!1,c=F(a.listData),r.prev=8,c.s();case 10:if((l=c.n()).done){r.next=34;break}f=l.value,p=!1,h=F(w.items),r.prev=14,h.s();case 16:if((d=h.n()).done){r.next=23;break}if(b=d.value,f.id!==b.id){r.next=21;break}return p=!0,r.abrupt("break",23);case 21:r.next=16;break;case 23:r.next=28;break;case 25:r.prev=25,r.t0=r.catch(14),h.e(r.t0);case 28:return r.prev=28,h.f(),r.finish(28);case 31:p||i.push(f);case 32:r.next=10;break;case 34:r.next=39;break;case 36:r.prev=36,r.t1=r.catch(8),c.e(r.t1);case 39:return r.prev=39,c.f(),r.finish(39);case 42:return r.abrupt("return",{items:i,cursor:a.hrefNext});case 45:if(!W){r.next=52;break}return W=!1,r.next=49,y(x.g({libraryName:e.intl.formatMessage({id:"app.defaultlibraryname.mylibrary"})}));case 49:return(m=r.sent).id=m.id.toLowerCase(),r.abrupt("return",{items:[m],cursor:null});case 52:case"end":return r.stop()}}),r,null,[[8,36,39,42],[14,25,28,31]])})))()}}),o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,{UNSAFE_className:_.a.picker,isQuiet:!0,"aria-label":o.a.createElement(d.a,{id:"app.savepanel.saveto"}),items:w.items,isLoading:w.isLoading,selectedKey:f.id,onSelectionChange:function(t){return function(t){var r={workflow:Object(P.e)(e.ingestWorkflow[0]),subcategory:b.Gb.LIBRARY_SELECTOR},n=m[t];Object(T.a)(b.Eb.LIBRARY_CHANGED,{event:r},e.ingestWorkflow),n&&y(I.f({name:n,id:t})),v()}(t)},onLoadMore:w.loadMore},(function(e){return o.a.createElement(D.a,{key:e.id},e.name)})),o.a.createElement(C.a,{trigger:["click"],placement:"right",className:_.a.dropdownContainer,ref:g},o.a.createElement(l.a,{icon:o.a.createElement(c.a,null),quiet:!0,variant:"primary",className:_.a.button}),o.a.createElement(R.a,{variant:"default",trapFocus:!0},o.a.createElement(S,{closeDropDown:function(){return v()},setSaveLibrary:function(e){return function(e){e.id=e.id.toLowerCase(),y(I.f(e)),w.prepend(e)}(e)},createLibrary:function(e){return y(x.g(e))}}))))}))},946:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return f})),r.d(t,"b",(function(){return p}));var n=r(1),o=r(914),a=r(75),i=r(3);function c(e){return Object(o.b)(e,n.zc)}function s(e){return e.themes=e.files,delete e.files,e}function l(){return{"x-api-key":config("CLIENT_ID"),"x-product":config("STOCK_ENDPOINT").productId}}function u(e){return Object(a.c)(e,l()).then((function(e){return s(e).themes.length>0})).catch((function(e){return!1}))}function f(e,t){return function(r,c){var u=c().criteriaDataCollection;if(!Object(i.t)(u[e])&&!Object(i.C)(u[e].stock.fetchStatus))return r(Object(o.h)(e,n.zc)),Object(a.c)(t.endPoint,l()).then((function(t){var a=s(t);r(Object(o.d)(e,n.zc,a)),r(Object(o.f)(e,n.zc))})).catch((function(t){var a=n.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(a=t.response.status),console.log("error ".concat(t)),r(Object(o.g)(e,n.zc,a))}))}}function p(e,t){return function(t,r){var a={},c=r().criteriaDataCollection;Object(i.t)(c[e])||c[e].stock.fetchStatus===n.h.COMPLETED_SUCCESSFULLY||(a.themes=[],n.N.forEach((function(e){a.themes.push({title:e})})),t(Object(o.d)(e,n.zc,a)),t(Object(o.f)(e,n.zc)))}}},947:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"d",(function(){return f})),r.d(t,"c",(function(){return h})),r.d(t,"b",(function(){return d}));var n=r(1),o=r(2),a=r(914),i=r(75),c=r(3);function s(e){return Object(a.b)(e,n.i)}function l(e){return e.projects&&(e.themes=e.projects,delete e.projects),e.entities&&(e.themes=e.entities,delete e.entities),e.categories&&(e.themes=[],e.categories.forEach((function(t){n.L.includes(t.label_en)&&e.themes.push(t)})),delete e.categories),e}function u(){return{"x-api-key":config("CLIENT_ID")}}function f(e){return Object(i.c)(e,u()).then((function(e){return l(e).themes.length>0})).catch((function(e){return!1}))}function p(e,t,r){return{type:o.W,payload:r,srcName:t,criteria:e}}function h(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(o,s){var f=s().criteriaDataCollection;return Object(c.t)(f[e])||Object(c.C)(f[e].behance.fetchStatus)?r?Object(i.c)(t.endPoint,u()).then((function(e){var t=l(e);if(t.gallery){var r=s(),a=r.gallery,i=r.galleries;a.criteria.some((function(e){return!(!e.galleryId||e.galleryId!==t.gallery.id||(o(p(JSON.stringify(i.criteria[0]),n.i,t)),0))}))}})).catch((function(t){console.log("error ".concat(t));var r=n.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(r=t.response.status),o(Object(a.g)(e,n.i,r))})):void 0:(o(Object(a.h)(e,n.i)),Object(i.c)(t.endPoint,u()).then((function(t){var r=l(t);if(r.gallery){var i=s(),c=i.gallery,u=i.galleries;c.criteria.some((function(e){return!(!e.galleryId||e.galleryId!==r.gallery.id||(o(p(JSON.stringify(u.criteria[0]),n.i,r)),0))}))}o(Object(a.d)(e,n.i,r)),o(Object(a.f)(e,n.i))})).catch((function(t){console.log("error ".concat(t));var r=n.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(r=t.response.status),o(Object(a.g)(e,n.i,r))})))}}function d(e,t){return function(r,o){var s=o().criteriaDataCollection;if(!Object(c.t)(s[e])&&s[e].behance.fetchStatus!==n.h.COMPLETED_SUCCESSFULLY)return r(Object(a.h)(e,n.i)),Object(i.c)(t.endPoint,u()).then((function(t){var o=l(t);r(Object(a.d)(e,n.i,o)),r(Object(a.f)(e,n.i))})).catch((function(t){console.log("error ".concat(t)),r(Object(a.g)(e,n.i,t))}))}}},948:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(7),i=r(29),c=r(36),s=r.n(c),l=r(1),u=r(22),f=r(922),p=r(966),h=r.n(p),d=r(923),b=r(913),m=r(99),y=r(123),g=r(920),v=r(3),w=r(32),O=r(743),E=r.n(O);function S(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=Object(a.e)((function(e){var t=j(Object(n.useState)(!1),2),r=t[0],c=t[1],p=j(Object(n.useState)(!1),2),O=p[0],C=p[1],k=j(Object(n.useState)(!1),2),R=k[0],P=k[1],T=Object(i.e)((function(e){return e.user.IMSReady})),I=Object(i.e)((function(e){return e.user.isLoggedIn})),A=Object(i.e)((function(e){return e.create.assetType})),_=Object(i.e)((function(e){return e.create})),M=Object(v.r)()?l.J.COLOR_CONTRAST:Object(i.e)((function(e){return e.create.workflow})),x=Object(i.e)((function(e){return e.create.isAccessible})),N=Object(d.a)(A,e.intl,Object(v.r)()).assetName,D=Object(i.e)((function(e){return e.create.isEditWorkflow})),L=Object(i.e)((function(e){return e.colorContrast.isEditWorkflow})),B=Object(i.e)((function(e){return e.save.publishToKuler})),G=!Object(v.r)()&&Object(i.e)((function(e){return 0===e.create.swatches.length})),F=Object(f.a)(!0,!1),H=F.libraries,U=F.haveLibrariesBeenFetched&&H.length,W=Object(i.e)((function(e){return e.save.library})),V=e.ingestWorkflow,Y=D||L,z=Object(i.e)((function(e){return e.colorContrast.contrastRatio})),K=Object(v.o)(z),X=Object(i.d)(),Z=function(){var t=e.intl.formatMessage({id:"app.savepanel.save"}),n=e.intl.formatMessage({id:"app.savepanel.update"});return r&&(t=e.intl.formatMessage({id:"app.savepanel.saving"})),O&&(n=e.intl.formatMessage({id:"app.savepanel.updating"})),{saveText:t,updateText:n}},q=function(){var t={workflow:Object(v.e)(V[0]),subcategory:"".concat(l.Gb.SAVE_PANEL,":").concat(V[1]),value:B?l.Gb.PUBLIC:l.Gb.PRIVATE};if(T)if(I){c(!0);var r="app.addtolibararynotification.toast.success.message",n="app.addtolibararynotification.toast.error.message",i=l.Bc,s="".concat(window.location.origin,"/").concat(e.intl.locale,"/mythemes?viewTheme");A===l.g.GRADIENT?(r="app.gradient.addtolibararynotification.toast.success.message",n="app.gradient.addtolibararynotification.toast.error.message"):M===l.J.ACCESSIBILITY&&!1===x&&(r="app.create.accessibility.success.toast",i=l.Db),X(b.e(A,M)).then((function(e){X(y.a({variant:i,message:o.a.createElement("div",{style:{display:"grid",justifyItems:"end"}},o.a.createElement(a.a,{id:r,values:{name:e}}),o.a.createElement("a",{style:{color:"white",textDecoration:"none",marginTop:"5px"},href:s,target:"_blank"},o.a.createElement(a.a,{id:"app.savetoast.view"})))})),Object(v.r)()?X(g.b(!1)):X(m.setEditWorkflow(!1)),c(!1),P(!1)})).catch((function(){X(y.a({variant:l.kb,message:o.a.createElement(a.a,{id:n})})),Object(v.r)()?X(g.b(!1)):X(m.setEditWorkflow(!1)),c(!1),P(!1)}));var f=S(V);f[1]===l.Gb.ACCESSIBILITY_COLORWHEEL&&(f[1]=x?l.Gb.ACCESSIBILITY_COLORWHEEL_NO_CONFLICTS:l.Gb.ACCESSIBILITY_COLORWHEEL_CONFLICTS),f[1]===l.Gb.ACCESSIBILITY_COLOR_CONTRAST&&(t.value=K);var p={event:t};"colorwheel"===V[1]&&(p.harmony=_.harmonyRule),Object(u.a)(l.Eb.SAVE,p,f)}else window.adobeIMS&&(w.a.setItem("restore-create-after-signin",JSON.stringify(_)),Object(u.a)(l.Eb.SAVE_FAIL,{event:t},V),window.adobeIMS.signIn())},J=!!I&&(G||!U||r||O||0===N.length);return!e.showSplitButton&&Y?o.a.createElement("div",{className:E.a.splitButton},o.a.createElement(s.a,{label:Z().saveText,variant:"cta",onClick:q,className:E.a.saveButton,disabled:J}),R?o.a.createElement(s.a,{label:Z().updateText,variant:"cta",onClick:function(){var t={workflow:Object(v.e)(e.ingestWorkflow[0]),subcategory:"".concat(l.Gb.SAVE_PANEL,":").concat(e.ingestWorkflow[1]),value:B?l.Gb.PUBLIC:l.Gb.PRIVATE};if(T)if(I){C(!0);var r="app.updatecclibrarythemenotification.toast.success.message",n=l.Bc;M===l.J.ACCESSIBILITY&&!1===x&&(r="app.create.accessibility.update.toast",n=l.Db),X(b.j({main:W.id,name:W.name,pageName:l.dc},M)).then((function(){X(y.a({variant:n,message:o.a.createElement(a.a,{id:r})})),X(b.a({cclibraryThemeUpdateLibId:null,cclibraryThemeUpdateAssetId:null})),Object(v.r)()?X(g.b(!1)):X(m.setEditWorkflow(!1)),C(!1)})).catch((function(){X(y.a({variant:l.kb,message:o.a.createElement(a.a,{id:"app.addtolibararynotification.toast.error.message"})})),X(b.a({cclibraryThemeUpdateLibId:null,cclibraryThemeUpdateAssetId:null})),Object(v.r)()?X(g.b(!1)):X(m.setEditWorkflow(!1)),C(!1)})),Object(u.a)(l.Eb.UPDATE,{event:t},V)}else window.adobeIMS&&(Object(u.a)(l.Eb.SAVE_FAIL,{event:t},V),window.adobeIMS.signIn())},disabled:J}):o.a.createElement(s.a,{variant:"cta",onClick:function(){P(!R)},icon:o.a.createElement(h.a,null)})):o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{label:Z().saveText,variant:"cta",onClick:q,className:E.a.saveButton,disabled:J}),e.showSplitButton&&o.a.createElement(s.a,{variant:"cta",onClick:function(){e.onSplitButtonClick();var t={workflow:Object(v.e)(e.ingestWorkflow[0]),subcategory:l.Eb.SHOW_SAVE_PANEL,value:l.Eb.SHOW_SAVE_PANEL};Object(u.a)(l.Eb.SHOW_SAVE_PANEL,{event:t},V)},disabled:J,icon:o.a.createElement(h.a,null)}))}))},949:function(e,t,r){"use strict";var n=r(0),o=r.n(n);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.a=function(e){return o.a.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",height:"18",viewBox:"0 0 18 18",width:"18"},e),o.a.createElement("title",null,"S AlertCircle 18 N"),o.a.createElement("rect",{id:"Canvas",fill:"#ff13dc",opacity:"0",width:"18",height:"18"}),o.a.createElement("path",{class:"a",d:"M7.84555,12.88618a1.13418,1.13418,0,0,1,1.1161-1.15195q.042-.00064.08391.00178a1.116,1.116,0,0,1,1.2,1.15017,1.09065,1.09065,0,0,1-1.2,1.11661,1.0908,1.0908,0,0,1-1.2-1.11661ZM10.0625,4.39771a.20792.20792,0,0,1,.09966.183V5.62212c0,1.40034-.28322,3.98034-.33305,4.48067,0,.04984-.01678.09967-.11695.09967H8.379a.11069.11069,0,0,1-.11695-.09967c-.03305-.46678-.3-3.0305-.3-4.43084V4.6306a.1773.1773,0,0,1,.08339-.18306,2.88262,2.88262,0,0,1,1.00017-.20033A3.27435,3.27435,0,0,1,10.0625,4.39771ZM17.50005,9A8.50005,8.50005,0,1,1,9,.5H9A8.50008,8.50008,0,0,1,17.50005,9ZM15.67484,9A6.67485,6.67485,0,1,0,9,15.6748H9A6.67479,6.67479,0,0,0,15.67484,9Z"}))}},953:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(1),i=r(30),c=r(208),s=r.n(c),l=r(752),u=r.n(l),f=r(915),p=r(121),h=r(3),d=r(930),b=r.n(d),m=r(7),y=r(29),g=r(58),v=r(123),w=r(22);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A(n.key),n)}}function C(e,t,r){return t&&j(e.prototype,t),r&&j(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=T(e);if(t){var o=T(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}(this,r)}}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,r){return(t=A(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===O(t)?t:String(t)}var _=function(e,t){var r=Object(i.f)(e);return Object.keys(e).forEach((function(n){switch(n){case"hex":Object(p.a)(e)&&(r[n]="".concat(e.hex));break;case"rgb":r[n]="".concat(t.formatMessage({id:"app.create.colormode.dropdown.rgb"})," ").concat(r.rgb.r,", ").concat(r.rgb.g,", ").concat(r.rgb.b);break;case"hsv":r[n]="".concat(t.formatMessage({id:"app.create.colormode.dropdown.hsv"})," ").concat(r.hsv.h,", ").concat(r.hsv.s,", ").concat(r.hsv.v);break;case"cmyk":r[n]="".concat(t.formatMessage({id:"app.create.colormode.dropdown.cmyk"})," ").concat(r.cmyk.c,", ").concat(r.cmyk.m,", ").concat(r.cmyk.y,", ").concat(r.cmyk.k);break;case"lab":r[n]="".concat(t.formatMessage({id:"app.create.colormode.dropdown.lab"})," ").concat(r.lab.l,", ").concat(r.lab.a,", ").concat(r.lab.b);break;default:r[n]=e[n]}})),r},M=function(e){var t=e.swatch,r=e.textColor,n=e.isGradient,a=e.isCreate;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:u.a.colorValues,style:{color:r}},(n||Object(p.a)(t))&&o.a.createElement("div",{className:u.a.colorValue},"#",t.hex),o.a.createElement("div",{className:u.a.colorValue},t.rgb),o.a.createElement("div",{className:u.a.colorValue},t.hsv),o.a.createElement("div",{className:u.a.colorValue},t.cmyk),o.a.createElement("div",{className:u.a.colorValue},t.lab)),n&&a&&o.a.createElement("div",{className:u.a.copyHexContainer,style:{color:r}},o.a.createElement("div",{className:u.a.colorValue},o.a.createElement(b.a,{size:"S",className:u.a.copyIcon}),o.a.createElement(m.a,{styles:{paddingLeft:5},id:"app.oneup.copy"})),o.a.createElement("div",{className:u.a.colorValue},"#",t.hex)))},x=function(e){k(r,n.PureComponent);var t=R(r);function r(){var e;S(this,r);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return I(P(e=t.call.apply(t,[this].concat(i))),"onClick",(function(t,r){return function(){if(e.props.isCreate){var n=_(t,r).hex;Object(h.h)("#".concat(n)).then((function(){var t={workflow:Object(h.e)(e.props.ingestWorkflow[0]),subcategory:"".concat(a.Gb.GRADIENT,"_").concat(a.Gb.IMAGE),value:n},r=a.Eb.COPY_HEX;e.props.notification({variant:a.Bc,message:o.a.createElement(m.a,{id:"app.oneupactions.toast.success.message"})}),Object(w.a)(r,{event:t},[a.Gb.GRADIENT,a.Gb.IMAGE])})).catch((function(t){e.props.notification({variant:a.kb,message:o.a.createElement(m.a,{id:"app.oneupactions.toast.error.message"})})}))}}})),I(P(e),"selectedClass",(function(t){var r=e.props,n=r.assetType,o=r.activeSwatch,i=r.isCreate,c=r.order,s=r.gradientProps,l="";switch(n){case a.g.GRADIENT:l=i&&o===c[t]||!Object(h.t)(s)&&s.isOneUp&&o===t?u.a.themeDetailsCardContainerSelected:i?u.a.gradientDetailsCard:u.a.themeDetailsCard}return l})),e}return C(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.swatches,n=t.isCreate,c=this.props.assetType===a.g.GRADIENT;return o.a.createElement("div",{className:c?[n?u.a.themeDetailsCardContainerOnCreate:u.a.themeDetailsCardContainerOneUp]:u.a.themeDetailsCardContainer},r.map((function(t,r){return o.a.createElement(f.a,E({key:r},t,{onClick:e.onClick(t,e.props.intl),className:e.selectedClass(r)}),o.a.createElement(M,{textColor:Object(i.q)(t.rgb)>a.yb.RGB?"".concat(s.a.oneUpThemeDetailsTextColorDark):"".concat(s.a.oneUpThemeDetailsTextColorLight),swatch:_(t,e.props.intl),isGradient:c,isCreate:n}))})))}}]),r}(),N=function(e){k(r,n.Component);var t=R(r);function r(){return S(this,r),t.apply(this,arguments)}return C(r,[{key:"render",value:function(){return o.a.createElement(x,E({},this.props.themeData,{intl:this.props.intl,closeOneUp:this.props.closeOneUp,activeSwatch:this.props.activeSwatch,notification:this.props.notification,ingestWorkflow:this.props.ingestWorkflow}))}}]),r}(),D=Object(y.b)((function(e){return{activeSwatch:e.create.activeSwatch}}),(function(e){return Object(g.b)({notification:v.a},e)}))(N);t.a=D},955:function(e,t,r){"use strict";r.d(t,"a",(function(){return re}));var n=r(0),o=r.n(n),a=r(7),i=r(29),c=r(915),s=r(940),l=r(934),u=r(923),f=r(1),p=r(913),h=r(30),d=r(3),b=r(941),m=r(949),y=r(63),g=r(962),v=r(66),w=r(86),O=function(e){return e.reduce((function(e,t){return e&&t>0&&t<1}),!0)},E=new w.a,S=function(e,t,r){return function(e,t,r){var n=Object(v.b)(e).Y/100,o=Object(v.b)(t),a=r;r>1?a+=.01:a=1/(1/a+.01);var i=a*(n+.05)-.05;o.Y=100*i;var c=Object(v.c)(o),s=O([c.r,c.g,c.b]);if(!s){var l=function(e,t,r){var n=Object(v.b)(e).Y/100,o=Object(v.b)(t),a=[.3127,.329],i=[o.x,o.y],c=[a[0]-i[0],a[1]-i[1]],s=o.Y/100,l=Math.sqrt(c.reduce((function(e,t){return e+t*t}),0));c=c.map((function(e){return e/l}));var u=!1,f={r:1,g:1,b:1},p=r*(n+.05)-.05;if(p>1)return{outsRGB:f={r:1,g:1,b:1},valid:u=!1};if(p<0)return{outsRGB:f={r:1,g:0,b:0},valid:u=!1};E.setColors("rgb",[t.r,t.g,t.b],"rgb",[e.r,e.g,e.b]);for(var h=E.computeContrastRatio(!1),d=1;d<=1e3;d++){if(h<r){s=o.Y/100+.01;var b=Object(v.c)({x:o.x,y:o.y,Y:100*s});if(O([b.r,b.g,b.b]))o.Y=100*s;else if("break"===function(){var e=c.map((function(e){return.005*e}));i=[i[0]+e[0],i[1]+e[1]];var t=[a[0]-o.x,a[1]-o.y],r=Math.sqrt(t.reduce((function(e,t){return e+t*t}),0)),n=t.map((function(e){return e/r}));t=[a[0]-i[0],a[1]-i[1]],r=Math.sqrt(t.reduce((function(e,t){return e+t*t}),0));var s=t.map((function(e){return e/r}));if(s[0]*n[0]+s[1]*n[1]<0)return u=!1,f={r:1,g:1,b:1},"break";o.x=i[0],o.y=i[1]}())break}else{if(!(h>r)){f=Object(v.c)(o),u=!0;break}p>=0&&(o.Y=100*p)}var m=Object(v.d)(Object(v.c)(o));E.setColors("rgb",[m.r,m.g,m.b],"rgb",[e.r,e.g,e.b]),h=E.computeContrastRatio(!1)}return{outsRGB:f,valid:u}}(e,t,a);c=l.outsRGB,s=l.valid}return{outsRGB:Object(v.d)(c),valid:s}}(t,e,r)},j=r(927),C=r(36),k=r.n(C),R=r(967),P=r.n(R),T=r(100),I=r.n(T),A=r(963),_=r.n(A),M=r(920),x=r(123),N=r(47),D=r.n(N),L=r(37),B=r.n(L),G=r(743),F=r.n(G),H=r(208),U=r.n(H);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){Q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$(n.key),n)}}function Z(e,t){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t,r){return(t=$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $(e){var t=function(e,t){if("object"!==W(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===W(t)?t:String(t)}function ee(){return(ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var te=new w.a,re=function(e){var t=e.foregroundSwatch,r=e.backgroundSwatch,n=e.foregroundSwatchContainerClassName,a=e.foregroundSwatchTextClassName;return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,ee({key:0,id:0},t,{className:n}),o.a.createElement("p",{className:a,style:{color:Object(h.q)(Object(h.m)(t).rgb)>f.yb.RGB?"".concat(U.a.contrastThemeTextColorDark):"".concat(U.a.contrastThemeTextColorLight)}},"T")),o.a.createElement(c.a,ee({key:1,id:1},r)))},ne=function(){var e,t,r=Object(i.e)((function(e){return e.user.isLoggedIn})),n=f.Jb&&r,c=Object(i.e)((function(e){return e.colorContrast.contrastRatio}));switch(Object(d.o)(c)){case"AAA":e=o.a.createElement(a.a,{id:"app.savepanel.colorcontrast.all.checked.message"}),t=o.a.createElement(b.a,{className:F.a.displayMessageIcon});break;case"AA":e=o.a.createElement(a.a,{id:"app.savepanel.colorcontrast.aa.checked.message",values:{level:o.a.createElement("b",null,o.a.createElement(a.a,{id:"app.savepanel.level2"}))}}),t=o.a.createElement(b.a,{className:F.a.displayMessageIcon});break;default:e=o.a.createElement(a.a,{id:"app.savepanel.colorcontrast.fail.message"}),t=o.a.createElement(m.a,{className:F.a.displayMessageIcon})}return o.a.createElement(o.a.Fragment,null,n&&o.a.createElement("div",{className:F.a.savePanelDisplayMessageContainer},t,o.a.createElement("div",{className:F.a.displayMessage},e)))},oe=function(){var e=Object(i.e)((function(e){return e.colorContrast.foregroundSwatch})),t=Object(i.e)((function(e){return e.colorContrast.backgroundSwatch}));return o.a.createElement("div",{className:[F.a.themeContainer,"FFFFFF"===e.hex||"FFFFFF"===t.hex?F.a.borderForWhiteSwatch:""].join(" ")},o.a.createElement(re,{foregroundSwatch:e,backgroundSwatch:t,foregroundSwatchContainerClassName:F.a.foregroundSwatchContainer,foregroundSwatchTextClassName:F.a.foregroundSwatchText}))},ae=function(e){var t=e.intl,r=e.setIsApplied,n=e.isApplied,c=e.idx,s=e.backgroundSwatch,l=e.foregroundSwatch,u=e.notification,p=e.notificationMessage,h=e.locale,b=Object(i.d)();te.setColors("hex",l.hex,"hex",s.hex);var m=te.compute().contrastRatio.toFixed(1);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:F.a.suggestedThemeContainer},o.a.createElement("div",{className:[F.a.suggestedTheme,"FFFFFF"===l.hex||"FFFFFF"===s.hex?F.a.borderForWhiteSwatch:""].join(" ")},o.a.createElement(re,{foregroundSwatch:l,backgroundSwatch:s,foregroundSwatchContainerClassName:F.a.foregroundSwatchContainer,foregroundSwatchTextClassName:F.a.foregroundSwatchText})),o.a.createElement("div",{className:F.a.suggestedThemeActions},n?o.a.createElement("div",{className:F.a.appliedContainer},o.a.createElement(_.a,{className:F.a.checkMarkIcon}),t.formatMessage({id:"app.savepanel.contrast.applied"})):o.a.createElement(P.a,{onClick:function(e){e.preventDefault(),r&&r(c),b(Object(M.c)({foregroundSwatch:l,backgroundSwatch:s})),b(Object(M.d)({foregroundSwatch:l,backgroundSwatch:s})),u&&b(u({variant:f.Bc,message:p}))}},t.formatMessage({id:"app.savepanel.contrast.apply"})),o.a.createElement("div",null," ",t.formatMessage({id:"app.contrast.ratio"})," ",o.a.createElement("b",null,o.a.createElement(a.b,{value:m,minimumFractionDigits:1}),Object(d.p)(h),"1")))))},ie=function(e,t,r){var n=[],o=parseFloat(e,10);if(!isNaN(o)&&!Object(d.t)(o)){var a=S(r.rgb,t.rgb,o);a.valid&&n.push({foregroundSwatch:Object(h.o)([a.outsRGB.r,a.outsRGB.g,a.outsRGB.b]),backgroundSwatch:t}),(a=S(r.rgb,t.rgb,1/o)).valid&&n.push({foregroundSwatch:Object(h.o)([a.outsRGB.r,a.outsRGB.g,a.outsRGB.b]),backgroundSwatch:t}),(a=S(t.rgb,r.rgb,o)).valid&&n.push({foregroundSwatch:r,backgroundSwatch:Object(h.o)([a.outsRGB.r,a.outsRGB.g,a.outsRGB.b])}),(a=S(t.rgb,r.rgb,1/o)).valid&&n.push({foregroundSwatch:r,backgroundSwatch:Object(h.o)([a.outsRGB.r,a.outsRGB.g,a.outsRGB.b])})}return n},ce=function(e){for(var t=e.intl,r=e.currentRatio,n=e.backgroundSwatch,i=e.foregroundSwatch,c=e.locale,s=Math.ceil(r),l=[],u=Math.max(s+1,5);u<Math.min(21,s+4);u++){var p=ie(u,n,i);if((l=l.concat(p)).length>=f.ac){l.length=f.ac;break}}return 0===l.length?o.a.createElement("div",{className:F.a.noResultFound},t.formatMessage({id:"app.savepanel.contrast.no.result.found"})):o.a.createElement(o.a.Fragment,null,l.map((function(e,r){return o.a.createElement(ae,ee({intl:t},e,{isApplied:!1,idx:r,notification:x.a,notificationMessage:o.a.createElement(a.a,{id:"app.contrast.applied"}),locale:c}))})))},se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(r,n.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=J(e);if(t){var o=J(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Q(q(n=t.call(this,e)),"compute",(function(){var e=n.props,t=e.backgroundSwatch,r=e.foregroundSwatch,o=n.props.inputContrastRatio;!Object(d.t)(o)&&o.includes(",")&&(o="".concat(o.split(",")[0],".").concat(o.split(",")[1])),n.setState({suggestions:ie(o,t,r),isAppliedId:null})})),n.state={isAppliedId:null,suggestions:[]},n.setIsAppliedId=n.setIsAppliedId.bind(q(n)),n}return function(e,t,r){t&&X(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"setIsAppliedId",value:function(e){this.setState({isAppliedId:e})}},{key:"componentDidUpdate",value:function(e){this.props.shouldComputeResults&&(this.compute(),this.setState({isAppliedId:null}),this.props.setShouldComputeResults(!1))}},{key:"render",value:function(){var e=this,t=this.props.intl;return 0!==this.state.suggestions.length||this.props.isInputSelected?o.a.createElement(o.a.Fragment,null,this.state.suggestions.map((function(r,n){return o.a.createElement(ae,ee({},r,{intl:t,isApplied:n===e.state.isAppliedId,setIsApplied:e.setIsAppliedId,idx:n}))}))):o.a.createElement("div",{className:F.a.noResultFound},t.formatMessage({id:"app.savepanel.contrast.no.result.found"}))}}]),r}(),le=function(e){var t=e.onTabChange,r=e.intl,c=e.locale,s=Object(i.e)((function(e){return e.colorContrast.history.present.contrastRatio})),l=Object(i.e)((function(e){return e.colorContrast.history.present.backgroundSwatch})),u=Object(i.e)((function(e){return e.colorContrast.history.present.foregroundSwatch})),p=z(Object(n.useState)(null),2),h=p[0],b=p[1],m=z(Object(n.useState)(!0),2),y=m[0],g=m[1],v=z(Object(n.useState)(!1),2),w=v[0],O=v[1],E=z(Object(n.useState)(!0),2),S=E[0],C=E[1],R=function(){h&&(g(!1),C(!0))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(j.Accordion,{defaultSelectedIndex:0,onChange:function(){return b(null)},className:F.a.accordian},o.a.createElement(j.AccordionItem,{header:r.formatMessage({id:"app.savepanel.contrast.suggestions"})},o.a.createElement(ce,{intl:r,currentRatio:s.contrastRatio,backgroundSwatch:l,foregroundSwatch:u,locale:c})),o.a.createElement(j.AccordionItem,{header:r.formatMessage({id:"app.savepanel.contrast.setratio"})},o.a.createElement("div",{className:F.a.inputContrastContainer},o.a.createElement("div",{className:[F.a.inputContrastRatioBox,w?F.a.isSelected:""].join(" ")},o.a.createElement(I.a,Q({autoFocus:!1,className:F.a.inputContrastRatio,quiet:!0,value:h||"",onChange:function(e){return b(e)},onFocus:function(){g(!0),O(!0)},onBlur:function(){return O(!1)},onKeyPress:function(e){e.charCode===f.Pb.ENTER&&(e.target.blur(),R())}},"autoFocus",!0)),o.a.createElement("div",{className:F.a.colon},Object(d.p)(c)),o.a.createElement("div",{className:F.a.inputContrastFixedField},"1")),y?o.a.createElement(B.a,{className:F.a.buttonTooltip,placement:"bottom",trigger:["hover"]},o.a.createElement(k.a,{className:F.a.setResetButton,label:r.formatMessage({id:"app.go"}),onClick:R,disabled:!h}),o.a.createElement(D.a,null,o.a.createElement(a.a,{id:"app.go"}))):o.a.createElement(B.a,{className:F.a.buttonTooltip,placement:"bottom",trigger:["hover"]},o.a.createElement(k.a,{className:F.a.setResetButton,label:r.formatMessage({id:"app.refresh"}),onClick:function(){C(!0)}}),o.a.createElement(D.a,null,o.a.createElement(a.a,{id:"app.refresh"})))),o.a.createElement(se,{intl:r,backgroundSwatch:l,isInputSelected:w,foregroundSwatch:u,inputContrastRatio:h,shouldComputeResults:S,setShouldComputeResults:C}))),o.a.createElement(k.a,{className:f.Nb?F.a.saveToLibrariesTablet:F.a.saveToLibraries,label:r.formatMessage({id:"app.savepanel.contrast.save.to.libraries"}),onClick:function(){t(1)}}))};t.b=Object(a.e)((function(e){var t=e.intl,r=e.showLargeView,a=e.ingestWorkflow,c=e.closeDialog,h=Y(Y({},Object(u.a)(f.g.THEME,t,!0)),{},{isUserLoggedIn:Object(i.e)((function(e){return e.user.isLoggedIn})),isEditWorkflow:Object(i.e)((function(e){return e.colorContrast.isEditWorkflow})),isSwatchesEmpty:!1,signintocreativecloudmessage:t.formatMessage({id:"app.savepanel.signintocreativecloudmessage.h2"}),usageMessage:t.formatMessage({id:"app.savepanel.theme.pageDescription.h3"}),isAllowedToPublish:!1,showLargeView:r,ingestWorkflow:a,closeDialog:c,message:o.a.createElement(ne,null),tags:o.a.createElement(s.a,{showLargeView:r,ingestWorkflow:a})}),d=Object(i.e)((function(e){return e.user.locale})),b=Object(i.d)(),m=z(Object(n.useState)(0),2),v=m[0],w=m[1],O=function(e){e!==v&&w(e)};return Object(n.useEffect)((function(){b(Object(p.g)(!1))}),[]),o.a.createElement(g.TabView,{className:F.a.saveAndRecommendation,selectedIndex:v,onSelect:O},o.a.createElement(y.Tab,{label:t.formatMessage({id:"app.savepanel.recommendations"})},o.a.createElement(le,{intl:t,onTabChange:O,locale:d})),o.a.createElement(y.Tab,{label:t.formatMessage({id:"app.savepanel.save"})},o.a.createElement("div",{className:F.a.colorContrastSaveContainer},o.a.createElement(l.a,h,o.a.createElement(oe,null)))))}))}}]);